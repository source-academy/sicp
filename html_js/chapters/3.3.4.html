<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="3.3.4&nbsp;&nbsp;
    A Simulator for Digital Circuits
  " />
    <title>
      3.3.4&nbsp;&nbsp;
    A Simulator for Digital Circuits
  
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; JavaScript Adaptation</a></span>

       <!-- edit the search engine by visiting: 
	    https://cse.google.com/cse/setup/basic?cx=015760785273492757659:nc_tznrzlsg 
	       -->
       <form class="form-inline ml-auto" id="xxx">
         <div id="search-box">
	         <script>
	           (function() {
	               var cx = "015760785273492757659:nc_tznrzlsg";
	               var gcse = document.createElement("script");
	               gcse.type = "text/javascript";
	               gcse.async = true;
	               gcse.src = "https://cse.google.com/cse.js?cx=" + cx;
	               var s = document.getElementsByTagName("script")[0];
	               s.parentNode.insertBefore(gcse, s);
	           })();
	           window.onload = function()
	           { 
	               var searchBox =  document.getElementById("gsc-i-id1");
	               searchBox.placeholder= "search web edition";
	               searchBox.title= "search web edition";
	           }
	         </script>
	         <gcse:search></gcse:search>
         </div>
       </form>
       <span class="navbar-brand-short">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">S</a>
       </span>
       <span class="navbar-brand-long">
         &nbsp;
         &nbsp;
         <a href="https://source-academy.github.io/source/" title="Go to the Source language(s) definition(s)" class="gray">Source</a>
       </span>
     </nav>
     
     <div class="container scroll">

     
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword.html"> 
        Foreword
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./foreword.html"> Foreword to SICP, 1984</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./prefaces03.html"> 
    Preface
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-4">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="false" aria-controls="sidebar-collapse-4">
                <a href="./prefaces84.html"> 
    Preface to the First Edition of SICP, 1984
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-5">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="false" aria-controls="sidebar-collapse-5">
                <a href="./prefaces96.html"> 
    Preface to the Second Edition of SICP, 1996
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./acknowledgements.html"> 
Acknowledgments
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-7">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="false" aria-controls="sidebar-collapse-7">
                <a href="./see.html"> </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-8">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="true" aria-controls="sidebar-collapse-8">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="true" aria-controls="sidebar-collapse-8">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      
      Functions
    
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-8" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-9">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="true" aria-controls="sidebar-collapse-9">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="true" aria-controls="sidebar-collapse-9">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>

              <div id="sidebar-collapse-9" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      
      Operator Combinations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.4.html"> 1.1.4 
    Compound 
    Functions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-14">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="false" aria-controls="sidebar-collapse-14">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      
      
        Function
      
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-17">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="false" aria-controls="sidebar-collapse-17">
                <a href="./1.1.8.html"> 1.1.8 
    
      
      
        Functions
      
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-18">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="true" aria-controls="sidebar-collapse-18">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="true" aria-controls="sidebar-collapse-18">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      
      Functions
    
    and the Processes They Generate
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-18" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-21">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="false" aria-controls="sidebar-collapse-21">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-24">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="false" aria-controls="sidebar-collapse-24">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-25">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="true" aria-controls="sidebar-collapse-25">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="true" aria-controls="sidebar-collapse-25">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  
	  Functions
	
      </a>
                </h5>
              </div>

              <div id="sidebar-collapse-25" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-26">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="false" aria-controls="sidebar-collapse-26">
                <a href="./1.3.1.html"> 1.3.1 
    
      
      Functions
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-27">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="false" aria-controls="sidebar-collapse-27">
                <a href="./1.3.2.html"> 1.3.2 
    
      
      Constructing Functions using Lambda Expressions
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./1.3.3.html"> 1.3.3 
    
      
    Functions
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-29">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="false" aria-controls="sidebar-collapse-29">
                <a href="./1.3.4.html"> 1.3.4 
    
      
      Functions
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-30">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="true" aria-controls="sidebar-collapse-30">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="true" aria-controls="sidebar-collapse-30">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-30" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-31">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="true" aria-controls="sidebar-collapse-31">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="true" aria-controls="sidebar-collapse-31">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>

              <div id="sidebar-collapse-31" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-32">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="false" aria-controls="sidebar-collapse-32">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-35">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="false" aria-controls="sidebar-collapse-35">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-36">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="true" aria-controls="sidebar-collapse-36">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="true" aria-controls="sidebar-collapse-36">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>

              <div id="sidebar-collapse-36" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-37">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="false" aria-controls="sidebar-collapse-37">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-40">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="false" aria-controls="sidebar-collapse-40">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-41">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="true" aria-controls="sidebar-collapse-41">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="true" aria-controls="sidebar-collapse-41">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-41" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-42">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="false" aria-controls="sidebar-collapse-42">
                <a href="./2.3.1.html"> 2.3.1 
    
      
      Strings
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-45">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="false" aria-controls="sidebar-collapse-45">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-46">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="true" aria-controls="sidebar-collapse-46">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-46" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-49">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="false" aria-controls="sidebar-collapse-49">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-50">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="true" aria-controls="sidebar-collapse-50">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>

              <div id="sidebar-collapse-50" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-51">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="false" aria-controls="sidebar-collapse-51">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-53">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="false" aria-controls="sidebar-collapse-53">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-54">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="true" aria-controls="sidebar-collapse-54">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="true" aria-controls="sidebar-collapse-54">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>

              <div id="sidebar-collapse-54" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-55">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="true" aria-controls="sidebar-collapse-55">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>

              <div id="sidebar-collapse-55" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-58">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="false" aria-controls="sidebar-collapse-58">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-59">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="true" aria-controls="sidebar-collapse-59">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="true" aria-controls="sidebar-collapse-59">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>

              <div id="sidebar-collapse-59" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-60">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="false" aria-controls="sidebar-collapse-60">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      
      Functions
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-64">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="true" aria-controls="sidebar-collapse-64">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="true" aria-controls="sidebar-collapse-64">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-64" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-66">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="false" aria-controls="sidebar-collapse-66">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-69">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="false" aria-controls="sidebar-collapse-69">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-70">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>

              <div id="sidebar-collapse-70" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-73">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>

              <div id="sidebar-collapse-73" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-75">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="false" aria-controls="sidebar-collapse-75">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-76">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="false" aria-controls="sidebar-collapse-76">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-79">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="true" aria-controls="sidebar-collapse-79">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="true" aria-controls="sidebar-collapse-79">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>

              <div id="sidebar-collapse-79" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-80">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="true" aria-controls="sidebar-collapse-80">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="true" aria-controls="sidebar-collapse-80">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-80" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      
      Components
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-84">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="false" aria-controls="sidebar-collapse-84">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      
      Declarations
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      
    
    Lazy Evaluation
</a>
                </h5>
              </div>

              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.3.1.html"> 4.3.1 
    
      
      Search and amb
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      
       
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-96">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="true" aria-controls="sidebar-collapse-96">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="true" aria-controls="sidebar-collapse-96">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>

              <div id="sidebar-collapse-96" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-97">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="false" aria-controls="sidebar-collapse-97">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-98">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="false" aria-controls="sidebar-collapse-98">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-101">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>

              <div id="sidebar-collapse-101" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-102">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="true" aria-controls="sidebar-collapse-102">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="true" aria-controls="sidebar-collapse-102">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>

              <div id="sidebar-collapse-102" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-104">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="false" aria-controls="sidebar-collapse-104">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-108">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="true" aria-controls="sidebar-collapse-108">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="true" aria-controls="sidebar-collapse-108">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-108" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-109">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="false" aria-controls="sidebar-collapse-109">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.2.3.html"> 5.2.3 
    
      
      Instructions and their Execution Functions
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-112">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="false" aria-controls="sidebar-collapse-112">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-113">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>

              <div id="sidebar-collapse-113" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-116">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="true" aria-controls="sidebar-collapse-116">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="true" aria-controls="sidebar-collapse-116">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-116" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-117">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="false" aria-controls="sidebar-collapse-117">
                <a href="./5.4.1.html"> 5.4.1 
    
      
      The Dispatcher and Basic Evaluation
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.4.2.html"> 5.4.2 
    
      
      
        Evaluating function applications
      
        
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.4.3.html"> 5.4.3 
    
      
      
        Blocks, Assignments, and Declarations
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-121">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="true" aria-controls="sidebar-collapse-121">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="true" aria-controls="sidebar-collapse-121">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>

              <div id="sidebar-collapse-121" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      
      Components
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      
      
	Applications and Return Statements
      
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-127">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-127" aria-expanded="false" aria-controls="sidebar-collapse-127">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-128">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-128" aria-expanded="false" aria-controls="sidebar-collapse-128">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-129">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-129" aria-expanded="false" aria-controls="sidebar-collapse-129">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-130">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-130" aria-expanded="false" aria-controls="sidebar-collapse-130">
                <a href="./making-of.html"> About the SICP JS Project</a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    3.3.4&nbsp;&nbsp;
    A Simulator for Digital Circuits
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  

  <div class='permalink'>
<a name='p1' class='permalink'></a><p>
    Designing complex digital systems, such as computers, is an important
    engineering activity.  Digital systems are constructed by
    interconnecting simple elements.  Although the behavior of these
    individual elements is simple, networks of them can have very complex
    behavior.  Computer simulation of proposed circuit designs is an
    important tool used by digital systems engineers.  In this section we
    design a system for performing digital logic simulations.  This system
    typifies a kind of program called an 
    
    
    <EM>event-driven simulation</EM>, in
    which actions (<QUOTE>events</QUOTE>) trigger further events that happen
    at a later time, which in turn trigger more events, and so on.
  </p></div>

  <div class='permalink'>
<a name='p2' class='permalink'></a><p>
    Our computational model of a circuit will be composed of objects that
    correspond to the elementary components from which the circuit is
    constructed.  There are 
    
    <EM>wires</EM>, which carry 
    
    
    <EM>digital signals</EM>.  A&nbsp;digital signal may at any moment have only one of two
    possible values,
    0 and 1.  There are also various types of digital 
    
    <EM>function boxes</EM>, which connect wires carrying input signals to other output
    wires.  Such boxes produce output signals computed from their input
    signals.  The output signal is 
    
    delayed by a time that depends on the
    type of the function box.  For example, an 
    
    <EM>inverter</EM> is a
    primitive function box that inverts its input.  If the
    input signal to an inverter changes to 0, then one <EM>inverter-delay</EM>
    later the inverter will change its output signal to 1.  If the input
    signal to an inverter changes to 1, then one <EM>inverter-delay</EM> later
    the inverter will change its output signal to 0.  We draw an inverter
    symbolically as in figure&nbsp;<REF NAME="fig:logic-gates"><a class="superscript" id="3.3.4-fig-link-3.24" href="./3.3.4.html#fig_3.24">3.24</a></REF>.  An 
    
    <EM>and-gate</EM>,
    also shown in figure&nbsp;<REF NAME="fig:logic-gates"><a class="superscript" id="3.3.4-fig-link-3.24" href="./3.3.4.html#fig_3.24">3.24</a></REF>, is a primitive
    function box with two inputs and one output.  It drives its output signal
    to a value that is the 
    
    <EM>logical and</EM> of the inputs.  That is, if both
    of its input signals become&nbsp;1, then one <EM>and-gate-delay</EM> time
    later the and-gate will force its output signal to be 1; otherwise the
    output will be 0.  An 
    
    <EM>or-gate</EM> is a similar two-input primitive function
    box that drives its output signal to a value that is the 
    
    <EM>logical or</EM> of the inputs.  That is, the output will become 1 if at least one
    of the input signals is 1; otherwise the output will become 0.
    
      
        <img class="scale_factor_" src="../img_original/ch3-Z-G-24.svg">
      
      
      
    
    <FIGURE>
      <img class="scale_factor_" id="fig_3.24" src="../img_original/ch3-Z-G-24.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./3.3.4.html#fig_3.24">Figure 3.24 </a></b>Primitive functions in the digital logic simulator.
      </div>
    </FIGURE>
  
  </p></div>

  <div class='permalink'>
<a name='p3' class='permalink'></a><p>
    We can connect primitive functions together to construct more complex
    functions.  To accomplish this we wire the outputs of some
    function boxes to the inputs of other function boxes.  For example,
    the 
    
    
    <EM>half-adder</EM> circuit shown in
    figure&nbsp;<REF NAME="fig:half-adder"><a class="superscript" id="3.3.4-fig-link-3.25" href="./3.3.4.html#fig_3.25">3.25</a></REF> consists of an
    or-gate, two and-gates, and an inverter.  It takes two input signals,
    $A$ and $B$, and has
    two output signals, $S$ and $C$.
    $S$ will become 1
    whenever precisely one of $A$ and $B$
    is&nbsp;1, and $C$ will become 1 whenever
    $A$ and $B$ are both 1.  We can see
    from the figure that, because of the
    delays involved, the outputs may be generated at different times.
    Many of the difficulties in the design of digital circuits arise from
    this fact.
    
      
        <img class="scale_factor_" src="../img_original/ch3-Z-G-25.svg">
      
      
      
    
    <FIGURE>
      <img class="scale_factor_" id="fig_3.25" src="../img_original/ch3-Z-G-25.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./3.3.4.html#fig_3.25">Figure 3.25 </a></b>A half-adder circuit.
      </div>
    </FIGURE>
  
  </p></div>

  <div class='permalink'>
<a name='p4' class='permalink'></a><p>
    We will now build a program for modeling the digital logic circuits we
    wish to study.  The program will construct computational objects
    modeling the wires, which will <QUOTE>hold</QUOTE> the signals.  Function
    boxes will be modeled by
    
      
      functions
    
    that enforce the correct relationships among the signals.
  </p></div>

  <div class='permalink'>
<a name='p5' class='permalink'></a><p>
    One basic element of our simulation will be a
    
      
      function
    
     
    
      
      <kbd>make_wire</kbd>,
    
    which constructs wires.  For example, we can construct six wires as follows:
    <div class='snippet' id='javascript_67_1_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIokYQzeiiirVOoNNgq7CTnQzABGs6qNW7S9yq6EMxIW-nu+XB5m1hPO8X56n7mvC8a+-vItGc5vz4cQA')">const a = make_wire();
const b = make_wire();
const c = make_wire();
const d = make_wire();
const e = make_wire();
const s = make_wire();
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p6' class='permalink'></a><p>
    We attach a function box to a set of wires by calling a
    
      
      function
    
    that constructs that kind of box.  The arguments to the constructor
    
      
      function
    
    are the wires to be attached to the box.  For example, given
    that we can construct and-gates, or-gates, and inverters, we can wire
    together the half-adder shown in figure&nbsp;<REF NAME="fig:half-adder"><a class="superscript" id="3.3.4-fig-link-3.25" href="./3.3.4.html#fig_3.25">3.25</a></REF>:
    <div class='snippet' id='javascript_67_2_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZ+N0BQJC8MwuXAgAjBp2eccSrBnx9rbIaAABkT-WNn9+gMh9OrgA-J-39TgAFzWDvp9B+oBKogI-mfAB9Q-6sHfmAz+EDypv2gbAqcf8YGu2Af9FkZIEGuHUAWRIFBsjWGiDwfQGDZC4IYqfW+RCSG8DIRQ3QVDDI0TrpKYuRpugXzitnVwVACBkCOKI5KRl67xT6DROC3sE6LkSH4Ga+9D7H1PloOw7D+FiDXuvAx9QtE6AcN0K+cs4o93+n3CuA9668Kbv3VwNCGbyObAAPkUiY3gfARFiNEV+ZROYg7VXCvFfhwjJQyOEp1MJ1QzGRPyNUWRW0YbEnUFQSY6hd5cKPpSMMBQ-hpntFpSsOsBzJlpMUmiXxTYJmIuobINAGDZKVp7BGsCeLCS+HHbGxI8k8AKSQIpMlunOSVqkTutBeotE4jwJgbCHDeF8GLB+MN5l1miSUmaJUYYKU1GMKM3j+BKJWXUnG-ZjnLKSGLAAhJ9esCQzne3qFcoJOyGxBKxjVfpvBBmAmGd0ZJYzvmyBFh0vm6SmnuFadjZWyszokBIAwdkSTygpPKNU85WyakzSZuYEevQQWwPML0v81UFLZBDCcMggKKywOJGMD+mhbDHPUC4uBizj5BI5XIYBTKkHqE1Gy3lsh4G2EOdohworQD8uZXE8o7KDF-wKMi1FOLqgyrofg5mRDiCTCIFQAQtAqBHH+iXUYABaS1zQwj6BCTtWgVLWA0uGSBfO0c5rMFmTXSaoAUqepxD6+OtcSCBpmMGhO5DWwzLCHHBOqzZpBrjSkBOrBw3epTR3exjduiuBSq4bIhggA')">or_gate(a, b, d);
</pre><pre class='prettyprintoutput'>
"ok"</pre></div></div>
    <div class='snippet' id='javascript_67_3_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZ+N0BQJC8Pk0HAgAjBp2eccSrBnx9rZ3wAZI-1jZ-foBn-Tq4APwf1-U4AC5rB30+q2ZCoBKrAPfp-Xmv9WBv1AaAcBkD4HQP-j-JB6DAHHgYrlYE2dXDqALIkCg2RrDRB4PoLBsggH-RZGSW+hDiG8FIeQ3QlDDI0TioXYuRpugXzigQuuBAyBHBEclMKhd4p9BonBb2CdFyJD8DNfeh9j4FwFFoOw7D+FiDXuvAxU4tE6AcN0K+cs4o93+n3CuA8NEN1LkPVw1CGZyObAAPkUiY3gfAqAiLEWQL8SicxB2quFeK-DShSOqDIraMNwnVDMVE9oMThKdWJOoKgkx1C7y4UfSkYYCh-DTPaLSlYdYDmTLSEpNEvimwTMRdQ2QaAMByUrT2CN0E8WEl8OO2NiT5J4IUkgxSZI9OckrVIndaC9RaJxHgTA2EOG8L4MWYCYYLLrNInpM0SowwUpqMYUZvH8EUas+pON+wnJWUkMWABCT69YEjnO9vUa5wTdkNmCVjGqAzeBDMBCM7oqTSkWJFp0vmGTmnuDadjZWyszokBIAwdk+QQWyPMBc7ZpSZpM3MCPXo4yfmyHMH0v81UFLZBDCcMgQKKzoOJGMd+mhbAnPUC4+ocCKE3L8ByuQQCmWIPUJqNlfLZBwNsEc7RDgxWgAFcyhJ5R2UGN-gUZFqLsU0VlbQ3BZIxiEOIJMIgVABC0CoEcf6JdRgAFprXNDCPoUJO1aBUtYDSkZIF87RzmswOZNdJqgBSt6nEfr461xIMGmYoaE5kNbLMsIccE5rNmiGhNKQE6sEjb6tNHd7G8PCPxFKrgSCGCAA')">and_gate(a, b, c);
</pre><pre class='prettyprintoutput'>
"ok"</pre></div></div>
    <div class='snippet' id='javascript_67_4_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZBbJ8W-0DkQRwEGQrhUGfp9k9pCn7ynzAFtfcHewni6JH4M343QFAkLwfVUFWFoOwuh+BPzPs5emchu69yHsfA+sD+6uCgevF+zYAB8ikdAOD4JfMg18vwfxzEHaq4V4rHwIYnBBj8T4QJhsSdQVBJjqF3jRUA39f7-yIIA+E2liSsA+q2ZCKD6gAH5QAAEYRFyAAFzWEEZI6RshxHCN5nI-6LIySsFcOofevAKDZGsNEHg+hWGMj-pSMMBQ-hpntFpSsOsBzJlpLYmiXxTYJmIuobINAGAsKVp7BGIieLCS+HHbGxILE8CsSQGxMlQmQMPKkTutBeotE4jwJgRjQHeF8GLIRMNMl1nin0NxM0SowwUpqMYUZsG8DiA2IhHicb9jqdEohoAACEn16wJDyc0+obTclJHyb04ZfgsY1UibwaJgJYndGqKU6oIIREiyCXzBhPj3D+OxsrZWZ0SAkAYOyfIizhKuOaSU0JM0mbmBHr0BJkzZDmHCX+aqClsghhOGQeZFYRHEjGAozQtg2nqCUVOcRQyiHgvqHIwFn1WzqE1KCmFchIW2BqSAhwqLZBwqBWQ6oYL16gHEQUI5Jyrn2hxaAdRDFcrMx0cQSY3CBC0CoEcf6JdRgAFpuXNDCKYpW1ViSfNYN82JIF87RzmswdJNdJqgBStKnEcr461xIMqmYqqE6GNbGksIccE6jP1WoFICcBF6plaq7A99D5khIK4cQBggA')">inverter(c, e);
</pre><pre class='prettyprintoutput'>
"ok"</pre></div></div>
    <div class='snippet' id='javascript_67_5_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZ+N0BQJC8Pk0HAgAjBp2eccSrBnx9rZ3wAZI-1jZ-foBn-Tq4APwf1-U4AC5rB30+q2ZCoBKrAPfp-Xmv9WBv1AaAcBkD4HQP-j-JB6DAHHgYrlYE2dXDqALIkCg2RrDRB4PoLBsggH-RZGSW+hDiG8FIeQ3QlDDI0TioXYuRpugXzigQuuBAyBHBEclMKhd4p9BonBb2CdFyJD8DNfeh9j4FwFFoOw7D+FiDXuvAxU4tE6AcN0K+cs4o93+n3CuA8NEN1LkPVw1CGZyObAAPkUiY3gfAqAiLEWQL8SicxB2quFeK-DShSOqDIraMNwnVDMVE9oMThKdWJOoKgkx1C7y4UfSkYYCh-DTPaLSlYdYDmTLSEpNEvimwTMRdQ2QaAMByUrT2CN0E8WEl8OO2NiT5J4IUkgxSZI9OckrVIndaC9RaJxHgTA2EOG8L4MWYCYYLLrNInpM0SowwUpqMYUZvH8EUas+pON+wnJWUkMWABCT69YEjnO9vUa5wTdkNmCVjGqAzeBDMBCM7oqTSkWJFp0vmGTmnuDadjZWyszokBIAwdk+QQWyPMBc7ZpSZpM3MCPXo4yfmyHMH0v81UFLZBDCcMgQKKzoOJGMd+mhbAnPUC4+ocCKE3L8ByuQQCmWIPUJqNlfLZBwNsEc7RDgxWgAFcyhJ5R2UGN-gUZFqLsU0VlbQ3BZIxiEOIJMIgVABC0CoEcf6JdRgAFprXNDCPoUJO1aBUtYDSkZIF87RzmswOZNdJqgBSt6nEfr461xIMGmYoaE5kNbLMsIccE5rNmiGhNKQE6sEjb6tNHd7G8PCNkVwGwQRAA')">and_gate(d, e, s);
</pre><pre class='prettyprintoutput'>
"ok"</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p7' class='permalink'></a><p>
    Better yet, we can explicitly name this operation by defining a
    
      
      function
    
    
      
      <kbd>half_adder</kbd>
    
    that constructs this circuit, given the four
    external wires to be attached to the half-adder:
    
    <div class='snippet' id='javascript_67_6_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0BrqmSwmea-GvQJWcss1C89gQJcmPOFZyxEAAkMVspJACt1Aq04YzjBTNvgs2LULNnwsOCAA')">function half_adder(a, b, s, c) {
    const d = make_wire();
    const e = make_wire();
    or_gate(a, b, d);
    and_gate(a, b, c);
    inverter(c, e);
    and_gate(d, e, s);
    return "ok";
}
</pre></div></div>
    The advantage of making this definition is that we can use 
    
    <kbd>half_adder</kbd>
     itself as a building block in creating more complex
    circuits.  Figure&nbsp;<REF NAME="fig:full-adder"><a class="superscript" id="3.3.4-fig-link-3.26" href="./3.3.4.html#fig_3.26">3.26</a></REF>, for example, shows a
    
    
    <EM>full-adder</EM> composed of two half-adders and an or-gate.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a> We can construct a
      full-adder as follows:
    
    <div class='snippet' id='javascript_67_7_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTCDIjfBZsWoXbN8cNgQSsdBtmwZNoEuTHmahebyIEkgXzqt1C-GvZRZSSBAqa7VgwxnGCmZy5KMLJBCvtFs7sy6vX+vmclHloQRWSsdcuj5liDXbMOuG7q1LFlhPAewJkwwTnFK1cCVnA7XWWtRPa3x6Qh3PMXdKfPdoxWZC3Zq-dgAkHtq7uqwl3caLkLLrABshaGyNoQxWCubYcEAA')">function full_adder(a, b, c_in, sum, c_out) {
    const s = make_wire();
    const c1 = make_wire();
    const c2 = make_wire();
    half_adder(b, c_in, s, c1);
    half_adder(a, s, sum, c2);
    or_gate(c1, c2, c_out);
    return "ok";
}
</pre></div></div>
    Having defined
    
    
    <kbd>full_adder</kbd>
    
    as a
    
      
      function,
    
    we can now use it as a building block for creating still more complex
    circuits.  (For example, see exercise&nbsp;<REF NAME="ex:ripple-carry"><a class="superscript" id="3.3.4-ex-link-3.30" href="./3.3.4.html#ex_3.30">3.30</a></REF>.)
    
      
        <img class="scale_factor_" src="../img_original/ch3-Z-G-26.svg">
      
      
      
    
    <FIGURE>
      <img class="scale_factor_" id="fig_3.26" src="../img_original/ch3-Z-G-26.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./3.3.4.html#fig_3.26">Figure 3.26 </a></b>A full-adder circuit.
      </div>
    </FIGURE>
  
  </p></div>

  <div class='permalink'>
<a name='p8' class='permalink'></a><p>
    In essence, our simulator provides us with the tools to construct a
    language of circuits.  If we adopt the general perspective on
    languages with which we approached the study of
    
      
      JavaScript
    
    in section&nbsp;<REF NAME="sec:elements-of-programming"><a class="superscript" id="3.3.4-sec-link-1.1" href="./1.1.html">1.1</a></REF>,
    we can say that the primitive function boxes form the primitive
    elements of the language, that wiring boxes together provides a means
    of combination, and that specifying wiring patterns as
    
      
      functions
    
    serves as a means of abstraction.
  </p></div>

  
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
     
    Primitive function boxes
  </h2></div>


  <div class='permalink'>
<a name='p9' class='permalink'></a><p>
    The primitive function boxes
    
    implement the <QUOTE>forces</QUOTE> by which a
    change in the signal on one wire influences the signals on other
    wires.  To build function boxes, we use the following operations on
    wires:
    <UL>
      <LI>
	
	  
	  
	    <kbd>get_signal(</kbd>$wire$<kbd>)</kbd>
	  
	
	 
	<br>
	returns the current value of the signal on the wire.
      </LI>
      <LI>
        
	  
	  
	    <kbd>set_signal(</kbd>$wire$<kbd>, </kbd>$new$-$value$<kbd>)</kbd>:
	  
	
         
	<br>
        changes the value of the signal on the wire to the new value.
      </LI>
      <LI>
        
	  
	  
	    <kbd>add_action(</kbd>$wire$<kbd>, </kbd>$function$-$of$-$no$-$arguments$<kbd>)</kbd>:
	  
	
         
	<br>
        asserts that the designated
        
	  
	  function
	
        should be run whenever the signal on the wire changes value.  Such
        
	  
	  functions
	
        are the vehicles by which changes in the signal value on the wire are
	communicated to other wires.
      </LI>
    </UL>
    In addition, we will make use of a
    
      
      function
    
     
    
      
      
	<kbd>after_delay</kbd>
      
    
    that takes a time delay and a
    
      
      function
    
    to be run and executes the given
    
      
      function
    
    after the given delay.
  </p></div>

  <div class='permalink'>
<a name='p10' class='permalink'></a><p>
    Using these
    
      
      functions,
    
    we can define the primitive digital logic functions.  To connect an input
    to an output through an inverter, we use
    
      
      <kbd>add_action</kbd>
      
    
    to associate with the input wire a
    
      
      function
    
    that will be run whenever the signal on the input wire changes value.
    The
    
      
      function
    
    computes the
    
      
      <kbd>logical_not</kbd>
      
    
    of the input signal, and then, after one
    
      
      <kbd>inverter_delay</kbd>,
      
    
    sets the output signal to be this new value:
    <div class='snippet' id='javascript_67_8_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZJC8DwYYFH8ab2lplY6wOya0qfNFfKbCbEeo2Q0Aw6hB57CP03IPHCV8cfY2JPvSkR8SAnxkn-ZyStUid1oL1FonEeBMGsNEQ+iQ-AzWQjDJBdZ4p9DvjNEqMMFKajGFGHQDg4gNnQXKb+shL4UN4N4XwYsACEn16wJBYQ-KcjC0EsMIdQlhWMapAIPqAk+eDIEiNkCLL+fNiTP1fu-OhXU-zVTOiQEgDB2T5GqPg6ot8eFSLPjNJm5gR69Gkao8wAD1HdSMtkEMJwyBgOZjw4kYwPqtk0LYPh6hVE1QAPwoN0PwpIDBAmrgAFzjG8aAdQmp-FRKnCE0h5DUEpPqLErxn0fHhXigE9eoAQkFG0bokxNEslyFif9FkZIxiuHUMQSYRAqACFoFQI4-0S6jAALR9OaGEfQQdqrEicawFxYCQL52jnNZgCCa6TVAClOZOJFnx1riQNZMwNkJ2yDshZYQ44JzFq2eBxyUgJ1YIcjZsDE7J2LP9AcRAjgEDIK4Kg7y3lk20gpAsjyWAFh+XBb2CdFw0JmvjOgFBgF9SoKsLQdgwkvJ+VA7G3de5DxeYC-6fcK7D1ANUmqoLmwAD5FJ8L4F8sgPyvw0PRfYuQBTDHAvedaJOKdmBsrJjDRRVBJgqOooyaFsKmFtNWOfMZiYbl5NAMhFJISACMKTYmyo4Sq3mISFW81qQxXKwImkAt4BQA5-jAwApTs8kgrhxAGCAA')">function inverter(input, output) {
    function invert_input() {
        const new_value = logical_not(get_signal(input));
        after_delay(inverter_delay, 
                    () => set_signal(output, new_value));
    }
    add_action(input, invert_input);
    return "ok";
}

function logical_not(s) {
    return s === 0
           ? 1
           : s === 1
           ? 0
           : error(s, "invalid signal");
}
</pre></div></div>
  </p></div>

  
  
  
  <div class='permalink'>
<a name='p11' class='permalink'></a><p>
    An and-gate is a little more complex.  The action
    
      
      function
    
    must be run if
    either of the inputs to the gate changes.  It computes the
    
      
      
	<kbd>logical_and</kbd>
	(using a function analogous to
	<kbd>logical_not</kbd>)
      
    
    of the values of the signals on the input wires and sets up a change
    to the new value to occur on the output wire after one
    
      
      <kbd>and_gate_delay</kbd>.
      
    
    <div class='snippet' id='javascript_67_9_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUppvj9maAAtlwA1gzMlGMzNnTzRGR8cy6gAI5+yQH1wcqgAA5cImsU867bDMlGQ1Xl1gxLDCuzF+GstQ2KhwAWDByfC+BlA9xGVkWyxY1z8wO+B1oZFO-BBYLSFlGE2mzFh4VqgVkiOOp2EcQIPB4riIFJ4gwx1VAeGENBYRzIZLxBP2jX+gOyfC5d2GmKsoi4wmY7M5O38dSCvKRKMFsvpD1GkUqLLe0pVNw2FDIDDG3LkmoBQLxrkNxrVENomvFkt1VtANpNezNtmRFH4rvd9JFjIorGYxvZAE9cbK9bt5UTFW7QzTKXxmaypRzY+JA+qrBQiDZhDCY-6jR746ASDRWGQ3B4paTQABeElnd3U2kpeoUPCgPghsNjSPR-XZsSm+qyTXpnVZ13xRsibtT6e2J2ZmX66kNk7Loz1YygBg8Gye1ean38Dcu1U7zx74Qri-rwHO+ey+9Lp8HuSmHm-LQeLCkGjzYjMXCMEQ2RcHwCKJjwIarAADIY6KgaMJBKKIbzrN0UEwfBgGgBaAqQa8hGguCooOrYWHCDhLB4eR0FcK46yTk8LCkfhFFsaAHEgXmtEvCsrC8axRFNFeEmUehwlcWwzzQuJLEwa4ixfOeikyWp-Gabm9pMiItZKaJqx6VJfJAlCrxkKpBFcBOVEMo8oimbZYmyU5Ug-NJyqefZ3nOfJRltLMVD5I55yXKAPREKUjmcQpABGJ40HQoZpXgVBqAZ2kAU0g4pqizxaQAPuVhKrqu6ygAAPE85nvPMfA8QZz7ovUCngcwi7rGZ0IxRs8WcfU1aFnWmwtuMUwzHicG-quBZFiWY6bKU1SdYVhy9QNgXDVcnX-nICnhWQkWBeJ+WVj2fbAspdkteE7VlROLbNq2HEFTVK0MMWo5woFgMvfyD2ZROm0DEtU5HieZ63TVE21g0KNfQFb0wzVbr3WlPAZVlDA5Wo7lkO9iPY2uTEY5lzjVZTNWPnwvX9R8g12YdcVbXTDO8-UMkddtNVw6eDA-Qz52XY9Xmk0Lq4nfL1UK1WNZ1ppM1XcFMO9v2eME8w2W5Z8b1jV62jS0Fek87zTMsw2+0W5zo3W3zXoQ8dx6i+LcW5BF7NeQZMOmEMyN1mQAJRXxM29Xpi3YKHbpEF4-1GpK2QnlwEYzQATEYCdcNBzB0FwRrMOnPCZzNKB56roC5UXJczOXletgArEYGFWFweCp2XGcRnwzcRlDmScZLkesYP-egAA1FW2FPXh4cQUlLuu7I8XsRHllCUZ+N0BQJC8Pk0HAgAjBp2eccSrBnx9rZ3wAZI-1jZ-foBn-Tq4APwf1-U4AC5rB30+q2ZCoBKrAPfp-Xmv9WBv1AaAcBkD4HQP-j-JB6DAHHgYrlYE2dXDqALIkCg2RrDRB4PoLBsggH-RZGSW+hDiG8FIeQ3QlDDI0SrLwHgYYCh-DTPaLSlYdYDmTLSQRNEvimwTMRdQ2QaAMHUEHT2CN0E8WEl8OO2NiRH0pHwkgAiZKaOckrVIndaC9RaJxHgTA2EOG8L4MWYCYa2LrPFPoUiZolRhgpTUYwow6AcHEBsiQ4zoNEUE4+YSxYAEJPr1gSE4mRU4om8Jid40JTisY1V0TwgxAiPEmJybIEWai+bEnkYo5R6DlbKzOiQEgDB2T5GqJ46okiUlFKETNJm5gR69GKeg8w2i-zVQUtkEMJwyCGOZik4kYx36aFsGk9Q1CpxwIoY4pIDB1n1CAYsxB6hNSrL2XIOBtgAl2HYWcmh4wlnhXims9eoBf4FCaS07pNFbmgFobgskYxCHEEmEQKgAhaBUCOP9EuowAC0sLmhhH0EHaqxJJmsGmYYkC+do5zWYNYmuk1QApVxTiAl8da4kFJTMclCcyGtisWEOOCdnGzTJUylICdWDUvxRyjuZ1C7FyNN0C+cUCF1wIGQI4krkphULl8jpKSE6Lgya2feh9j4FwFFoa5wSuBnzEGvF5xq5A6rSd0K+cs4o93+n3CuA8tUN1LkPVwPypxwRbAAPkUuaqgkrpVkC-DE0xh5qqPI6fq0o8q2nCU6uG8oFqo3tBjfaTqlSqCTBqUMR1Qrwj8RSq4EghggA')">function and_gate(a1, a2, output) {
    function and_action_function() {
        const new_value = logical_and(get_signal(a1),
                                      get_signal(a2));
        after_delay(and_gate_delay, 
                    () => set_signal(output, new_value));
    }
    add_action(a1, and_action_function);
    add_action(a2, and_action_function);
    return "ok";
}
</pre></div></div>
  </p></div>

  
    <div class="permalink">
    <a name="ex_3.28" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_3.28">Exercise 3.28 </a></b> 
  
    Define an
    
    or-gate as a primitive function box.  Your
    
      
      <kbd>or_gate</kbd>
      
    
    constructor should be similar to
    
      
      <kbd>and_gate</kbd>.
      
    
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_67_1_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_67_1_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

  
  
    <div class="permalink">
    <a name="ex_3.29" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_3.29">Exercise 3.29 </a></b> 
  
    Another way to construct an
    
    or-gate is as a compound digital logic
    device, built from and-gates and inverters.  Define a
    
      
      function
    
    
      
      <kbd>or_gate</kbd>
    
    that accomplishes this.  What is the delay time of the
    or-gate in terms of
    
      
      <kbd>and_gate_delay</kbd>
      
    
    and
    
      
      <kbd>inverter_delay</kbd>?
      
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_67_2_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_67_2_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_3.30" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_3.30">Exercise 3.30 </a></b> 
  
    Figure&nbsp;<REF NAME="fig:ripple-carry"><a class="superscript" id="3.3.4-fig-link-3.27" href="./3.3.4.html#fig_3.27">3.27</a></REF> shows a 
    
    
    <EM>ripple-carry adder</EM> formed by stringing
    together $n$ full-adders.
    This is the simplest form of parallel adder
    for adding two $n$-bit binary numbers.
    The inputs $A_{1}$,
    $A_{2}$,
    $A_{3}$, …,
    $A_{n}$ and
    $B_{1}$,
    $B_{2}$,
    $B_{3}$, …,
    $B_{n}$
    are the two binary numbers to be added (each
    $A_{k}$ and
    $B_{k}$
    is a 0 or a 1).  The circuit generates
    $S_{1}$,
    $S_{2}$,
    $S_{3}$,
    …,
    $S_{n}$,
    the $n$ bits of the sum, and
    $C$, the carry from
    the addition.  Write a
    
      
      function
    
    
      
      <kbd>ripple_carry_adder</kbd>
      
    
    that generates this circuit.  The
    
      
      function
    
    should take as arguments three lists of
    $n$ wires each—the
    $A_{k}$, the
    $B_{k}$, and the
    $S_{k}$—and
    also another wire $C$.
    The major drawback of the ripple-carry adder is the need to wait for the
    carry signals to propagate.  What is the delay needed to obtain the
    complete output from an $n$-bit ripple-carry
    adder, expressed in terms of the delays for and-gates, or-gates, and
    inverters?
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_67_3_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_67_3_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
    
        <img class="scale_factor_" src="../img_original/ch3-Z-G-27.svg">
      
    
    
  
    <FIGURE>
      <img class="scale_factor_" id="fig_3.27" src="../img_original/ch3-Z-G-27.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./3.3.4.html#fig_3.27">Figure 3.27 </a></b>
      A ripple-carry adder for $n$-bit numbers.
    </div>
    </FIGURE>
  

  

  
      <div class='permalink'>
        <a name='h2' class='permalink'></a><h2>
     
    Representing wires
  </h2></div>
  <div class='permalink'>
<a name='p12' class='permalink'></a><p>
    A wire
    
    in our simulation will be a computational object with two local
    state variables:
    
      
      a&nbsp;<kbd>signal_value</kbd>
      
    
    (initially taken to be 0) and a collection of
    
      
      <kbd>action_functions</kbd>
      
    
    to be run when the signal changes value.  We implement the wire,
    using
    
    message-passing style, as
    a collection of local
    
      
      functions
    
    together with a <kbd>dispatch</kbd>
    
    function
    
    that selects the appropriate local operation, just as we did
    with the simple bank-account object in section
    &nbsp;<REF NAME="sec:local-state-variables"><a class="superscript" id="3.3.4-sec-link-3.1.1" href="./3.1.1.html">3.1.1</a></REF>:
    <div class='snippet' id='javascript_67_10_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIokYQzeiiirVOoNNgq7CTnQzABGs6qNW7S9yq6EMxIW-nu+XB5m1hPO8X56n7mvC8a+-vItGc5vz4cQA')">function make_wire() {
    let signal_value = 0;
    let action_functions = null;
    function set_my_signal(new_value) {
        if (signal_value !== new_value) {
            signal_value = new_value;
            return call_each(action_functions);
        } else {
            return "done";
        }
    }
    function accept_action_function(fun) {
        action_functions = pair(fun, action_functions);
        fun();
    }
    function dispatch(m) {
        return m === "get_signal"
               ? signal_value
               : m === "set_signal"
               ? set_my_signal
               : m === "add_action"
               ? accept_action_function
               : error(m, "unknown operation -- wire");
    }
    return dispatch;
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p13' class='permalink'></a><p>
    The local
    
      
      function
    
    
      
      <kbd>set_my_signal</kbd>
      
    
    tests whether the new signal value changes the signal on the wire.
    If so, it runs each of the action
    
      
      functions,
    
    using the following
    
      
      function
    
    
      
      <kbd>call_each</kbd>,
    
    which calls each of the items in a list of no-argument
    
      
      functions:
    
    <div class='snippet' id='javascript_67_11_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wXIA')">function call_each(functions) {
    if (is_null(functions)) {
        return "done";
    } else {
        head(functions)();
        return call_each(tail(functions));
    }
}
</pre></div></div>
    The local
    
      
      function
    
    
      
      <kbd>accept_action_function</kbd>
      
    
    adds the given
    
      
      function
    
    to the list of
    
      
      functions
    
    to be run, and then runs the new
    
      
      function
    
    once.  (See exercise&nbsp;<REF NAME="ex:accept-action"><a class="superscript" id="3.3.4-ex-link-3.31" href="./3.3.4.html#ex_3.31">3.31</a></REF>.)
  </p></div>

  <div class='permalink'>
<a name='p14' class='permalink'></a><p>
    With the local <kbd>dispatch</kbd>
    
      
      function
    
    set up as specified, we can
    provide the following
    
      
      functions
    
    to access the local operations on
    wires:<a class='superscript' id='footnote-link-2' href='#footnote-2'>[2]</a>
    <div class='snippet' id='javascript_67_12_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBzAUzIH0BnCuogQwBsAKAO4UATgwCUoAN7ZQs0KLIFhtIaL4AiRi3ade6sQG5sAX1yFSlGqFZM2Hbv1UMANKCIMBzAG68C4qTJyCkoqIgwaNtr2emJ87p4+PH6GJmbE5NS0XAAm2cxcGTSCYa4FlkTM5oVEEtJy8kwhoE4aOXllmfp8HTSV6eUpxkA')">function get_signal(wire) {
    return wire("get_signal");
}

function set_signal(wire, new_value) {
    return wire("set_signal")(new_value);
}

function add_action(wire, action_function) {
    return wire("add_action")(action_function);
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p15' class='permalink'></a><p>
    Wires, which have time-varying signals and may be incrementally attached to
    devices, are typical of mutable objects.  We have modeled them as
    
      
      functions
    
    with local state variables that are modified by assignment.  When a new
    wire is created, a new set of state variables is allocated (by the
    
      
      
	<kbd>let</kbd> statements in
      
    
    
      
      <kbd>make_wire</kbd>)
    
    and a new <kbd>dispatch</kbd>
    
      
      function
    
    is constructed and returned, capturing
    the environment with the new state variables.
  </p></div>

  <div class='permalink'>
<a name='p16' class='permalink'></a><p>
    The wires are shared among the various devices that have been
    connected to them.  Thus, a change made by an interaction with one
    device will affect all the other devices attached to the wire.  The
    wire communicates the change to its neighbors by calling the action
    
      
      functions
    
    provided to it when the connections were established.
  </p></div>

  
  
  
      <div class='permalink'>
        <a name='h3' class='permalink'></a><h2>
     
    The agenda
  </h2></div>

  

  <div class='permalink'>
<a name='p17' class='permalink'></a><p>
    The only thing needed to complete the simulator is
    
      
      <kbd>after_delay</kbd>.
    
    The idea here is that we maintain a data structure, called an
    <EM>agenda</EM>, that contains a schedule of things to do.
    The following operations are defined for agendas:
    <UL>
      <LI>
        
	  
	  <kbd>make_agenda()</kbd>:
	  
	
         
	<br>
	returns a new empty agenda.
      </LI>
      <LI>
        
	  
	  
	    <kbd>is_empty_agenda(</kbd>$agenda$<kbd>)</kbd>
	  
	
         
	<br>
	is true if the specified agenda is empty.
      </LI>
      <LI>
        
	  
	  
	    <kbd>first_agenda_item(</kbd>$agenda$<kbd>)</kbd>
	  
	
         
	<br>
	returns the first item on the agenda.
      </LI>
      <LI>
        
	  
	  
            <kbd>remove_first_agenda_item(</kbd>$agenda$<kbd>)</kbd>
	  
	
         
	<br>
        modifies the agenda by removing the first item.
      </LI>
      <LI>
        
	  
	  
	    <kbd>add_to_agenda(</kbd>$time$<kbd>, </kbd>$action$<kbd>, </kbd>$agenda$<kbd>)</kbd>
	  
	
         
	<br>
        modifies the agenda by adding the given action
        
	  
	  function
	
        to be run at the specified time.
      </LI>
      <LI>
        
	  
	  
	    <kbd>current_time(</kbd>$agenda$<kbd>)</kbd>
	  
	
         
	<br>
        returns the current simulation time.
      </LI>
    </UL>
  </p></div>

  <div class='permalink'>
<a name='p18' class='permalink'></a><p>
    The particular agenda that we use is denoted by
    
      
      <kbd>the_agenda</kbd>.
    
    The
    
      
      function
    
    
      
      <kbd>after_delay</kbd>
    
    adds new elements to
    
      
      <kbd>the_agenda</kbd>:
    
    <div class='snippet' id='javascript_67_13_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfUrvYGcWBzLkTIAKTiwA0oAI4EWsgJSgA3tlBrQAJxZkCG2gAcGFDaIpdJMuS3kBubAF9chUpRqheAlkI5mWw7opKmtq6tAAWLAwAJv62oI74xOTUtB6CZGyWsrHKwTp6oGRGADaxNvFOSa60jKyZstmBqupa+QZGJkQExcWSXT22DpUuKaB4GjQZ+mQmWdbKzWqtoaAR0cJzg47OyW5aDBps07MN8yrqeStFFKWbdttVo7wZ45NHMxunkhRkLHRNF2ebDWMTm31+-3uiRGbiB+0Ox0+VnBfwB6iB11uX1AP1RUOhu1oFG4bD+0wAnvUrEiFAsLssCsS2P1Sq9vIjNlthoScUReBoMnMaRIcRC0WoSDRuGRQEQWAB3I4dUAAXlAhmMwlxdD63WKgwuFDwoC1JLJZEpQs5dIu6O0bDZUw+YNlCqVxgNtrUcMiCOd2Llio1Gk9ansoBYxV4Nq9GJKwnh7xOVnkfTdwdDtp9ByTwrTQY6mcc9JCBTm+J21XozHYDD4XiiDGEgUuBWKxJEAAY4glK6MSLotN4xMI6w2GC2GeFIjEx0RGz3uVWgQONEOMiO543JGJxe57SDR-X5wwd74uQTl-x0twj+PJ6XaJi7yfF5enva0l4yLet6f93wAQxvuG7xn+kgeAEFaPG4eDGNKbBfkIL4LrkU6rDO-jXt+v7Hgub59nsLAIUhP4oROaGPoU8akbh94ETBtDRFEHBUGwf6mOYoAMISkh-nuhG0AARpGNCAWwIl4FQWhYYBe4lm0OIkiyslAQAPmpixel6YigAAPAB6Q+FwwiHpB8hFlpgnVnUgbGTw2HIWIfGEvJ6iSnyMpSKqNnsEKmaGnyLAClS2RSC51QBS0VG1OwYiIY5IjOdIlkXNZzGsQlnhCLe5nAYaxqyUZI5mfwASKCqlWFOe+XaRQQUhUKpGhX4pVyam3GuXY2nxBGUYsLVXoedKwQjWqz7md1PXqEaJoicUYkkpJ0l+Fo0oWYN01xjcqniFp03acGwixcybrxaRnEijxkV7Qdd0XBNZUWVFXrhpG0bnPd6gZWQbG0QmxFkC9trFtpoNhlpw0ypBPn-fxU1qLNwjzYtEksFJMnmW53qfoldEnrdd1HSddnnYll0RSkqb7fdWMI7170DZ9Xo-X9eOqZZCRQ4UETsXhDA+SdHGDNz9UAG7Bb8hxRJGDDkj5ABMdjcww85sHwDC-GwMvFHLPkoMrUoytJ6ua+wOt62qACsdjvm4DB4FL2uy+SwgW+SlM0HurN8+Obsu6AADUoCruu9miLz-GE19328Tztb81sQA')">function after_delay(delay, action) {
    add_to_agenda(delay + current_time(the_agenda),
                  action, the_agenda);
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p19' class='permalink'></a><p>
    The simulation is driven by the
    
      
      function
    
    <kbd>propagate</kbd>, which operates on
    
      
      <kbd>the_agenda</kbd>,
    
    executing each
    
      
      function
    
    on the agenda in sequence.  In general, as the simulation runs, new items
    will be added to the agenda, and <kbd>propagate</kbd>
    will continue the simulation as long as there are items on the agenda:
    <div class='snippet' id='javascript_67_14_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvYJvYx4CQ0SwABzIEgEAEcCCx0fMsv83LdUejMVsKlDaFIGBI2IjkWiMSwsZkce0gfjaVoysTBtVLDC4ZSkSz0SkKGQWHR6Ytcl4fDTBaBhaK2XoBlUJWwyRSqQKWEKRWKxBkssNlt0Zdq5brFZDOXKlGxRYiAJ5sU1a8WMm1sIgEeTdHkWPnUgl0y0clW8FjyaTsF2m8UUPCgATKO10R3OoOu8ULFgxKiB2kpABE4cjIvTtJMDB9LF4oAA7sL3KAGLR7WQHaBTYW2QsdKAIxF9QsFsM-Qj+abisyxwHMz3hwzWm5TaVe+zQ7tGKwrBQbMcxhYBPEUrGh9il7R4Z1kcfO0GQ8rdiC4rvbHNLu68ZsghuhidxuW6ICO+zgXoCKzfq81pSHQVAAG7sPshyWOcbDynQYJnpkJA0ConagAAvOspyAbYSGfP+h7nOCq5ZCWUakai86ZPGibJm2ToxuCWHDsMz4-MkLQUQeExgsxuj9vIg6iHoUEquxqbthwTyCNRPHusmXo+sBlGidRD47NCsL+jG97qWBClpqZrIGguWQAPz9rm+ayoWM6mpW1a1g2ZBNi2-aKR2XZCLZdmgAAXB4UoCDOmqxgZJJ7AcRyoehmGiKFrFJraHHKYUYk8dmzkCIW5w2gFjqgAAtFVSXIXl-hobq3a0ZkfYDiwhVZDhRB4eRlijIRdXCacYKtbxkTRLEO42KsMy6TNZHJQNNQ0aFCzuu5GbPox-X7mta7lD1eG+ewZVEVuZ0qcIpTHWQcpEAhEgihSJYMB2REAEy3bh90trwbCcAwZZvR9qA-b1915oDwPsKDQ0AKylL+l6wleQMisIPFZZZSnnEengNc8XWLtcoDFjQLCFuN7VSZ1GVhXdw2WOhQ17aluoE1dvzjQse1peJG2ivBiHLUTDBNaKXPi4L55k-CaNcLDN2hbJQA')">function propagate() {
    if (is_empty_agenda(the_agenda)) {
        return "done";
    } else {
        const first_item = first_agenda_item(the_agenda);
        first_item();
        remove_first_agenda_item(the_agenda);
        return propagate();
    }
}
</pre></div></div>
  </p></div>

  
  
  
      <div class='permalink'>
        <a name='h4' class='permalink'></a><h2>
     
    A sample simulation
  </h2></div>

  
  

  <div class='permalink'>
<a name='p20' class='permalink'></a><p>
    The following
    
      
      function,
    
    which places a <QUOTE>probe</QUOTE> on a wire, shows the simulator in
    action.  The probe tells the wire that, whenever its signal changes value,
    it should print the new signal value, together with the current time and
    a name that identifies the
    
      
      
	wire. 
      
    
    <div class='snippet' id='javascript_67_15_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvXAkGgqVKeDhPBigAC89GY7HOwlKUKIMIoRAAbiwJGQiWxeCx5AwAJ7I0AAJix0LIoAYfDYnAYJLJFOptJQjJxzKoEnZnPY5MpNJRAFZShU3sZuJYlBROEQGN0AO4HFjzLL-NzaqQCABESpGqvV8hNWjKwQV1WVlo1AiNLBSRBYmrY+I1BF1Ygy+tahp1puGKrVGptAk93t98n9tteg1o3l4HFTrp1KQYqbYAyqesyBtobtN6czVRjeaqBZ2NGT9tToAADhIqAAjWzqmwpN3Flm8DO1sLZqQpIMLacLYTIgB8oF4ylbktjDBsoAA1KATbvt1OZ0fj9OVBI8ZwKHgqQJorErBQbAIyHDzuDt6BDyfvzOTR6vaACb+rSe47l+P4QdkZDnkQl7XgI5qRla466uCyZAA')">function probe(name, wire) {
    add_action(wire, 
               () => display(name + " " +
                             stringify(current_time(the_agenda)) + 
                             ", new value = " + 
                             stringify(get_signal(wire))));
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p21' class='permalink'></a><p>
    We begin by initializing the agenda and specifying delays for the
    primitive function boxes:
    <div class='snippet' id='javascript_67_16_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvXAkGgqVKeDhPBigAC89GY7HOwlKUKIMIoRAAbiwJGQiWxeCx5AwAJ7I0AAJix0LIoAYfDYnAYJLJFOptJQjJxzKoEnZnPY5MpNJRAFZNEA')">const the_agenda = make_agenda();
const inverter_delay = 2;
const and_gate_delay = 3;
const or_gate_delay = 5;
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p22' class='permalink'></a><p>
    Now we define four wires, placing probes on two of them:
    <div class='snippet' id='javascript_67_17_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoak1VGr0K1Eaz0JriYnGxhKMg8MYRfK4SckcwmIhsyhlNg8Wdsef0PQruIBRPnucL7cT-O0cP70uX48UU+Py8LjKJ4AvoMjhveQQXleQG-jc467m+OydKeR5CP+V43oOtCpOk6HPg4O7FNy77WmwyHfmhUGAUhoiEjsx5pBkVH0DKXidKI8FEUsoB4A0QiBmRKEbsxmHwnegQ8GxQmUU+14vghxFwvxRyCRReHXhIt7YYxkmqah6k5ARRQkMIMxkAE7KyaKFTVJZAGLrkJk6DMFBEH0JZkCWLDWB49D7KKABMThOfxszziwnStjUPmMH5oooMFpmgOWEVRd5vn+aMACsThcdsVqBi6pzdiBeRYV2DRnpa1pFbauSvop4Y2jwJUyuckLXAa0RibQJU8P6NUnHVZy-FC9UKdxibJgKLWVTKApCqUXVaRVjSWFNubaL255LIt2jjXl9LMmWABGZ49KeMolctG0za1oCFoYTTDAAfKAw7MrF+xnPQp6gAA1BaQP-Y96Z+PxRiuZ0cjfZ+h4-n+5kzrJOQAw9YMY9IlhtRcoBQqKlho6DmPSBDUMwzwBVHLVs0mDkhmFLgIUuUQzIEGyACM1nTnUlUqtgzOyKz7MsAF3O2X1jlJUIBBxlOEt81LznxKWmXyzUku5cdVBnf1MtlNj7SyxEQA')">const input_1 = make_wire();
const input_2 = make_wire();
const sum = make_wire();
const carry = make_wire();

probe("sum", sum);
</pre><pre class='prettyprintoutput'>
"sum 0, new value = 0"</pre></div></div>
    <div class='snippet' id='javascript_67_18_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoak1VGr0K1Eaz0JriYnGxhKMg8MYRfK4SckcwmIhsyhlNg8Wdsef0PQruIBRPnucL7cT-O0cP70uX48UU+Py8LjKJ4AvoMjhveQQXleQG-jc467m+OydKeR5CP+V43oOtCpOk6HPg4O7FNy77WmwyHfmhUGAUhoiEjsx5pBkVH0DKXidKI8FEUsoB4A0QiBmRKEbsxmHwnegQ8GxQmUU+14vghxFwvxRyCRReHXhIt7YYxkmqah6k5ARRQkMIMxkAE7KyaKFTVJZAGLrkJk6DMFBEH0JZkCWLDWB49D7KKABMThOfxszziwnStjUPmMH5oooMFpmgOWEVRd5vn+aMACsThcdsVqBi6pzdiBeRYV2DRnpa1pFbauSvop4Y2jwJUyuckLXAa0RibQJU8P6NUnHVZy-FC9UKdxibJgKLWVTKApCqUXVaRVjSWFNubaL255LIt2jjXl9LMmWABGZ49KeMolctG0za1oCFoYTTDAAfKAw7MrF+xnPQp6gAA1BaQP-Y96Z+PxRiuZ0cjfZ+h4-n+5kzrJOQAw9YMY9IlhtRcoBQqKlho6DmPSBDUMwzwBVHLVs0mDkhmFLgIUuUQzIEGyACM1nTnUlUqtgzOyKz7MsAF3O2X1jlJUIBBxlOEt81LznxKWmXyzUku5cdVBnf1MtlNj7Sy7k2Da7rlgMKrhuW0Y+wREAA')">probe("carry", carry);
</pre><pre class='prettyprintoutput'>
"carry 0, new value = 0"</pre></div></div>
    Next we connect the wires in a half-adder circuit (as in
    figure&nbsp;<REF NAME="fig:half-adder"><a class="superscript" id="3.3.4-fig-link-3.25" href="./3.3.4.html#fig_3.25">3.25</a></REF>), set the signal on
    
      
      <kbd>input_1</kbd>
    
    to 1, and run the simulation:
    <div class='snippet' id='javascript_67_19_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTmRlhzmcegZF5z9M41+o81HhV0eHMyXduWkKjItHVkZNGeEOyML1DZeA93szJlzLu0zlnRzEGMxr6ZLCQ1AByv0tWhshma61uQe78Nzi-DkPuASyncbZF8jzNQvPYGifxlgQKtt1C-GvQJQgCBxiOztwJDBSy1Kuyd3I2AstUBy-6C7I32gXaey9t7t2jD7E+-9-YT3jOMFM2+Cz62WBkuhw687lZ4h3YiEAA')">half_adder(input_1, input_2, sum, carry);
</pre><pre class='prettyprintoutput'>
"ok"</pre></div></div>
    <div class='snippet' id='javascript_67_20_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTmRlhzmcegZF5z9M41+o81HhV0eHMyXduWkKjItHVkZNGeEOyML1DZeA93szJlzLu0zlnRzEGMxr6ZLCQ1AByv0tWhshma61uQe78Nzi-DkPuASyncbZF8jzNQvPYGifxlgQKtt1C-GvQJQgCBxiOztwJDBSy1Kuyd3I2AstUBy-6C7I32gXaey9t7t2jD7E+-9-YT3jOMFM2+Cz62WBkuhw687lZ4h3ae5etd0OyW7IiEAA')">set_signal(input_1, 1);
</pre><pre class='prettyprintoutput'>
"done"</pre></div></div>
    <div class='snippet' id='javascript_67_21_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTmRlhzmcegZF5z9M41+o81HhV0eHMyXduWkKjItHVkZNGeEOyML1DZeA93szJlzLu0zlnRzEGMxr6ZLCQ1AByv0tWhshma61uQe78Nzi-DkPuASyncbZF8jzNQvPYGifxlgQKtt1C-GvQJQgCBxiOztwJDBSy1Kuyd3I2AstUBy-6C7I32gXaey9t7t2jD7E+-9-YT3jOMFM2+Cz62WBkuhw687lZ4h3ae5etd0OyW7Ke5OAppgahVTMlFNapVNpkEqjtDqM8tPVvijYDwuOIHxGYGwBF9RpkvvcOVUn5FXKNoQR4pBHp-JGSOuDYa-9PqHTBidZbOCiLwxht65pJgyhUFiQse2bIIlIcSiHE2gTF6jHAVVO2RgA7329pdHH4UIHWW0a-YnnOyc7wocg4G2tx6aINugx2HuLfuPxK9AoivaAO62oM2ZUUiKV20m-L2szDPyUl-jjqkeK4bUdzbsyvyq07Jp0n1yjPWgs7ClwdnJOUnKWRc8umQRJcZRqitkD9ITcBy1wtMouu8hE-T2HxmFvTE58lJYCJDUOcVVAB2UALfNeM21xFXnrh+fCJHfPKfGux6imnz4s+KzBe7E65MruETDYSI-ixLfKE2N+CIvn1eRvBoX5llfviwexRlnFMFgC3eyq9+Tr1kJ1MlObqZI9g-unirus8ZSW+7em+6+beOu-+u+QI0BOuJGyuquNQW+8BEUKQMy0csu9UL2H+iW-iuARBDMJBDgQAA')">propagate();
</pre><pre class='prettyprintoutput'>
"sum 8, new value = 1"
"done"</pre></div></div>
    The <kbd>sum</kbd> signal changes to 1 at time 8.
    We are now eight time units from the beginning of the simulation.
    At this point, we can set the signal on
    
      
      <kbd>input_2</kbd>
    
    to 1 and allow the values to propagate:
    <div class='snippet' id='javascript_67_22_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTmRlhzmcegZF5z9M41+o81HhV0eHMyXduWkKjItHVkZNGeEOyML1DZeA93szJlzLu0zlnRzEGMxr6ZLCQ1AByv0tWhshma61uQe78Nzi-DkPuASyncbZF8jzNQvPYGifxlgQKtt1C-GvQJQgCBxiOztwJDBSy1Kuyd3I2AstUBy-6C7I32gXaey9t7t2jD7E+-9-YT3jOMFM2+Cz62WBkuhw687lZ4h3ae5etd0OyW7Ke5OAppgahVTMlFNapVNpkEqjtDqM8tPVvijYDwuOIHxGYGwBF9RpkvvcOVUn5FXKNoQR4pBHp-JGSOuDYa-9PqHTBidZbOCiLwxht65pJgyhUFiQse2bIIlIcSiHE2gTF6jHAVVO2RgA7329pdHH4UIHWW0a-YnnOyc7wocg4G2tx6aINugx2HuLfuPxK9AoivaAO62oM2ZUUiKV20m-L2szDPyUl-jjqkeK4bUdzbsyvyq07Jp0n1yjPWgs7ClwdnJOUnKWRc8umQRJcZRqitkD9ITcBy1wtMouu8hE-T2HxmFvTE58lJYCJDUOcVVAB2UALfNeM21xFXnrh+fCJHfPKfGux6imnz4s+KzBe7E65MruETDYSI-ixLfKE2N+CIvn1eRvBoX5llfviwexRlnFMFgC3eyq9+Tr1kJ1MlObqZI9g-unirus8ZSW+7em+6+beOu-+u+QI0BOuJGyuquNQW+8BEUKQMy0csu9UL2H+iW-iuARBDMJBjSqOBGcOMomODgQAA')">set_signal(input_2, 1);
</pre><pre class='prettyprintoutput'>
"done"</pre></div></div>
    <div class='snippet' id='javascript_67_23_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQSBDAG0YH0BTekgCwApDTKNAM4BKUAG9soaaAp5QPCkJZECzPsXLUiosZJkHQAJzZkCR2gCIAJjTaWA3FJkBfUG0ZC2E54dBcOaw0BbVEeESc-aRMzCzomVg5uHjJ6CkZgrWERCN9QF2wC-E1BWgBbegBrNhYAdwoTcJ8DRlNQIQoAcyImFgA3JgJvAF5QAAZImVayUE5Sln4snVBR1WZJ6UXS9tMWMoBPFg7uph4iNlr+wbY9PIM5BWOe1gHGIdAAQmHVi6u3m+aUQMT16r3eP0uYLYGyBxlM5loDGY7E4vDm2gWJVCuSBbg8XkBsLhsSstnOjjurjyBQMW20sxIJDYAAcyCx0TRMSEaMFbkCOUQuUshCtQMy0kZggAaBnzOnZGG04jhGE0mTy2jWJTisjJMp8qIxBGgMorb6gSydXYgxiWSmwgD87S6zz+Q3tQIAXCazaNLF42Ta7UTDE6A3tDjaPVFvabvn76NZrOylsGQzInZwmayU3KsTRo35vWwjEYqJKyjLLMRKkQqLVaFRmSX6NsALRt0D1EyWHFUgxGuJaoQ67hOIoa0BWwMu07dgH6GSD2jzniW62z225Cf52jhm08ecy86Q64G6LwuKr-0bk5bs6-KHb3CTxPJgWHhpsGUCoWlc-Esa15vrm2i9jwv4as+xTcuUVQ1JQZQ1F4nRIUQZApBQSEygAjkMQwAcuYoSph2GgHhbAEeOL67jsqFsOhLCIWwPCiBIgFxAEiasRE+Q0bBdFoWyFFDDx7FEak6Q8Q4fEwUsJrwSwIksYRl60OKDRnGojDHtp0GTngZaMaykrKapJL+IEPBmdRk4mPQRgsCZ1n4QueQSWkGQ2YUcnbOGhk0GyznKTKFBkGw+qEjsbJcUEIWyOF+q2bR4b2Y5wWuaFiUAeGkleZlCURfptFKOwZSsocykuZRbkDmpsjKGsGQBcZZCma5OTUb59IUDoJbCa51VDFlRVRSQwgzCeTkSqKGmSmFEW6cwfbSA8ijKBFFVKYNZkAcCuwtUFbVDd+oBTXNK2GKlHDpcd8XnRKl14p43iLn4uWeTwaVOXdHXHr8F2KjI10OT97U1f9lyA9S7n1cpXWThU1TslaRDWPQTTiBxtCMEoGFjLxO4CSQ5gmIxzEQaj6N6NjlncfQVP0IT-HyeGJOlgxbIUwzDHozKzE5bssWU7z9D81hNwIylbD0ehQgi2jTPifVeUK9TMlE6z1oy0J8s84rMooWxb3RUxn363zdGiFLAl4A0QiBjrnNq0rWNEcLKG6y7nWyXZbAO0cTty97ysWarnuc3rjM+5r2wgWQVAo6LpGnQKP7R1Fk4AEYeDQnTKDneDlixRt7Uu9WlU1rEy2xAA+teFoYzGgAAPIJnNMRLPAezXnUw0qAlIzUU3MYHssYcxP5LGX0jjToMw4aKQ-bTVKoer1XhGANq84VP-5AxeFnL6PEfoSnuFPXkr5Jkxien2Q8ul1F9zyNX4+d0h3dWaXYjxqAAvPyiBvfqK9RL31ASxHu+cch720JdAwz0CQmyBHPB2cI0GjHDr3A+hg1o50YHnAubAi6NBMA7HIgCiQfSkkbKUjdYRzR4MvEeEsx5CXPrKOBdD0w8KwdAvu6ZEGvXoQYeOd8g4Py+v7Mg8Cohqj8PIviBhUEzCNqKe+UdRaXTwbnIg+cWCF2Lm-XQlDTYaJdtwkMjDmG-BPhIjhAoRCWJ4dIH+qp3AvVMWIthkdjGXyKCo-+AQk6KyXopC2GNciBN6n0fqJYWDWA8PQfYooABMThAn0DRiwTorYaiJMYMk0UKAMkTVAOWHJeSElJJSaMAArE4bqNBZh4HCo5ApySeAdP2LAmgAFvERK6TU0AABqOgpMO4UzIMEiJTiRGGDTkEmosybbyQIZ0CgSIWDllYgARkNqk8yxohC7N9OMUAAAyC57RUlnLGI3J09yQzehOXc0A9d2inL-rsh5Ny3kfKELc75IinQ-J4cWUsOzAVVhiUwCg1hnR3l7I3CFZZJQnJhUQV48LEXPF7Ks7YFTcnhQgvs2YqSZRUAIGQZk1KAKTgqZBXcmMPSBKmlCUU6zNm9B2dOI4m5SVzJccKoEfKDz0EObI6Q9BWnxO6TwIlVTukynmX4JowwAB8ZiBVUppdSyGbobiX1ETfD89AyWMqWH+OBMIQJmopeUxyTLYKXSIpYKglQKSx3pFyrZWSggYpuUcuIrzvmXOuYCs5YKiSgpRZ8-5td43ApDGGIF5oxjvMTZG5N6ZHkiNRVCh1lhYW4wRUGEQcaSxor2Zi7FZbNz4p8k02g-rKkkvNT+B1uraUyMzrRVtzqlgspQWU9l1xOVUA2X6tGPAxUCvNUKkVS6DBzrvBBSVOCZVtOqYU-YEFsnEvyTUlVy7pDqq1fuHV1Ke0GqfMamQdqh0dtmNkwd+88iPtKOun8r6rVQRhG6j1XqWbbBiXE+aRAb3lOvXSvtAkwNbxYL1Htw6ohssfOO0Yvreh1gwqu54ihIN0qlS07d8qENkePaAVVhhz3arXd2-VZ0MP-AEf2B9pqh3IaYxRpDRGZEAfqu6z1BKfWTu5awXDYkTZERFH-J5MbQDRthC8qNvyFMqfcJC9Fta4X1qRcVASXAmB4HZEmEsEEZRZ0NjKEgAFAkItGMvVcl1AkjAUsjFzMJFXtqszKawl1W2Hss6AazdBtFYvAzwEgMpJYfoPXkrpsXDauqE0B0TzTmRlhzmcegZF5z9M41+o81HhV0eHMyXduWkKjItHVkZNGeEOyML1DZeA93szJlzLu0zlnRzEGMxr6ZLCQ1AByv0tWhshma61uQe78Nzi-DkPuASyncbZF8jzNQvPYGifxlgQKtt1C-GvQJQgCBxiOztwJDBSy1Kuyd3I2AstUBy-6C7I32gXaey9t7t2jD7E+-9-YT3jOMFM2+Cz62WBkuhw687lZ4h3ae5etd0OyW7Ke5OAppgahVTMlFNapVNpkEqjtDqM8tPVvijYDwuOIHxGYGwBF9RpkvvcOVUn5FXKNoQR4pBHp-JGSOuDYa-9PqHTBidZbOCiLwxht65pJgyhUFiQse2bIIlIcSiHE2gTF6jHAVVO2RgA7329pdHH4UIHWW0a-YnnOyc7wocg4G2tx6aINugx2HuLfuPxK9AoivaAO62oM2ZUUiKV20m-L2szDPyUl-jjqkeK4bUdzbsyvyq07Jp0n1yjPWgs7ClwdnJOUnKWRc8umQRJcZRqitkD9ITcBy1wtMouu8hE-T2HxmFvTE58lJYCJDUOcVVAB2UALfNeM21xFXnrh+fCJHfPKfGux6imnz4s+KzBe7E65MruETDYSI-ixLfKE2N+CIvn1eRvBoX5llfviwexRlnFMFgC3eyq9+Tr1kJ1MlObqZI9g-unirus8ZSW+7em+6+beOu-+u+QI0BOuJGyuquNQW+8BEUKQMy0csu9UL2H+iW-iuARBDMJBjSqOBGcOMomOjS5Bn+DgQAA')">propagate();
</pre><pre class='prettyprintoutput'>
"carry 11, new value = 1"
"sum 16, new value = 0"
"done"</pre></div></div>
    The <kbd>carry</kbd> changes to 1 at time 11 and the
    <kbd>sum</kbd> changes to 0 at time 16.
  </p></div>

  
  

  
    <div class="permalink">
    <a name="ex_3.31" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_3.31">Exercise 3.31 </a></b> 
  
    
    The internal
    
      
      function
    
    
      
      <kbd>accept_action_function</kbd>
      
    
    defined in
    
    
      
      <kbd>make_wire</kbd>
      
    
    specifies that when a new action
    
      
      function
    
    is added to
    a wire, the
    
      
      function
    
    is immediately run.  Explain why this initialization
    is necessary.  In particular, trace through the half-adder example in
    the paragraphs above and say how the system's response would differ
    if we had defined
    
      
      <kbd>accept_action_function</kbd>
      
    
    as
    <div class='snippet' id='javascript_67_24_div'><div class='pre-prettyprint'><pre class='prettyprint no-eval'>
function accept_action_function(fun) {
    action_functions = pair(fun, action_functions);
}</pre></div></div>
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_67_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_67_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

      
  
      <div class='permalink'>
        <a name='h5' class='permalink'></a><h2>
     
    Implementing the agenda
  </h2></div>

  

  <div class='permalink'>
<a name='p23' class='permalink'></a><p>
    Finally, we give details of the agenda data structure, which holds the
    
      
      functions
    
    that are scheduled for future execution.
  </p></div>

  <div class='permalink'>
<a name='p24' class='permalink'></a><p>
    The agenda is made up of 
    
    <EM>time segments</EM>.  Each time segment is a
    pair consisting of a number (the time) and a 
    
    queue (see
    exercise&nbsp;<REF NAME="ex:agenda-list"><a class="superscript" id="3.3.4-ex-link-3.32" href="./3.3.4.html#ex_3.32">3.32</a></REF>) that holds the
    
      
      functions
    
    that are scheduled to be run during that time segment.
    <div class='snippet' id='javascript_67_25_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfUrvYGcWBzLkTIAKTiwA0oAI4EWsgJSgA3tlBrQAJxZkCG2gAcGFDaIpdJMuS3kBubAF9chUpRqheAlkI5mWw7opKmtq6tAAWLAwAJv62oI74xOTUtB6CZGyWsrHKwTp6oGRGADaxNvFAA')">function make_time_segment(time, queue) {
    return pair(time, queue);
}

function segment_time(s) { return head(s); }

function segment_queue(s) { return tail(s); }
</pre></div></div>
    We will operate on the time-segment queues using the queue operations
    described in section&nbsp;<REF NAME="sec:queues"><a class="superscript" id="3.3.4-sec-link-3.3.2" href="./3.3.2.html">3.3.2</a></REF>.
  </p></div>

  <div class='permalink'>
<a name='p25' class='permalink'></a><p>
    The agenda itself is a one-dimensional
    
    table of time segments.  It
    differs from the tables described in section&nbsp;<REF NAME="sec:tables"><a class="superscript" id="3.3.4-sec-link-3.3.3" href="./3.3.3.html">3.3.3</a></REF>
    in that the segments will be sorted in order of increasing time.  In
    addition, we store the 
    
    <EM>current time</EM> (i.e., the time of the last action
    that was processed) at the head of the agenda.  A newly constructed
    agenda has no time segments and has a current time of 0:<a class='superscript' id='footnote-link-3' href='#footnote-3'>[3]</a>
    <div class='snippet' id='javascript_67_26_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvIA')">function make_agenda() { return list(0); }

function current_time(agenda) { return head(agenda); }

function set_current_time(agenda, time) {
    set_head(agenda, time);
}

function segments(agenda) { return tail(agenda); }

function set_segments(agenda, segs) {
    set_tail(agenda, segs);
}

function first_segment(agenda) { return head(segments(agenda)); }

function rest_segments(agenda) { return tail(segments(agenda)); }
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p26' class='permalink'></a><p>
    An agenda is empty if it has no time segments:
    <div class='snippet' id='javascript_67_27_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvYJvYzKNgsOgABzIAE8OE9BOd5ll-m4YUQCPJgSdvmCtGUgA')">function is_empty_agenda(agenda) {
    return is_null(segments(agenda));
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p27' class='permalink'></a><p>
    To add an action to an agenda, we first check if the agenda is empty.
    If so, we create a time segment for the action and install this in
    the agenda.  Otherwise, we scan the agenda, examining the time of each
    segment.  If we find a segment for our appointed time, we add the
    action to the associated queue.  If we reach a time later than the one
    to which we are appointed, we insert a new time segment into the
    agenda just before it.  If we reach the end of the agenda, we must
    create a new time segment at the end.
    <div class='snippet' id='javascript_67_28_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfUrvYGcWBzLkTIAKTiwA0oAI4EWsgJSgA3tlBrQAJxZkCG2gAcGFDaIpdJMuS3kBubAF9chUpRqheAlkI5mWw7opKmtq6tAAWLAwAJv62oI74xOTUtB6CZGyWsrHKwTp6oGRGADaxNvFOSa60jKyZstmBqupa+QZGJkQExcWSXT22DpUuKaB4GjQZ+mQmWdbKzWqtoaAR0cJzg47OyW5aDBps07MN8yrqeStFFKWbdttVo7wZ45NHMxunkhRkLHRNF2ebDWMTm31+-3uiRGbiB+0Ox0+VnBfwB6iB11uX1AP1RUOhu1oFG4bD+0wAnvUrEiFAsLssCsS2P1Sq9vIjNlthoScUReBoMnMaRIcRC0WoSDRuGRQEQWAB3I4dUAAXlAhmMwlxdD63WKgwuFDwoC1JLJZEpQs5dIu6O0bDZUw+YNlCqVxgNtrUcMiCOd2Llio1Gk9ansoBYxV4Nq9GJKwnh7xOVnkfTdwdDtp9ByTwrTQY6mcc9JCBTm+J21XozHYDD4XiiDGEgUuBWKxJEAAY4glK6MSLotN4xMI6w2GC2GeFIjEx0RGz3uVWgQONEOMiO543JGJxe57SDR-X5wwd74uQTl-x0twj+PJ6XaJi7yfF5enva0l4yLet6f93wAQxvuG7xn+kgeAEFaPG4eDGNKbBfkIL4LrkU6rDO-jXt+v7Hgub59nsLAIUhP4oROaGPoU8akbh94ETBtDRFEHBUGwf6mOYoAMISkh-nuhG0AARpGNCAWwIl4FQWhYYBe4lm0OIkiyslAQAPmpixel6YigAAPAB6Q+FwwiHpB8hFlpgnVnUgbGTw2HIWIfGEvJ6iSnyMpSKqNnsEKmaGnyLAClS2RSC51QBS0VG1OwYiIY5IjOdIlkXNZzGsQlnhCLe5nAYaxqyUZI5mfwASKCqlWFOe+XaRQQUhUKpGhX4pVyam3GuXY2nxBGUYsLVXoedKwQjWqz7md1PXqEaJoicUYkkpJ0l+Fo0oWYN01xjcqniFp03acGwixcybrxaRnEijxkV7Qdd0XBNZUWVFXrhpG0bnPd6gZWQbG0QmxFkC9trFtpoNhlpw0ypBPn-fxU1qLNwjzYtEksFJMnmW53qfoldEnrdd1HSddnnYll0RSkqb7fdWMI7170DZ9Xo-X9eOqZZ9hAA')">function add_to_agenda(time, action, agenda) {
    function belongs_before(segs) {
        return is_null(segs) ||
               time < segment_time(head(segs));
    }
    function make_new_time_segment(time, action) {
        const q = make_queue();
        insert_queue(q, action);
        return make_time_segment(time, q);
    }
    function add_to_segments(segs) {
        if (segment_time(head(segs)) === time) {
            insert_queue(segment_queue(head(segs)), action);
        } else {
            const rest = tail(segs);
            if (belongs_before(rest)) {
                set_tail(segs,
                    pair(make_new_time_segment(time, action),
                         tail(segs)));
            } else {
                add_to_segments(rest);
            }
        }
    }
    const segs = segments(agenda);
    if (belongs_before(segs)) {
        set_segments(agenda,
            pair(make_new_time_segment(time, action),
                 segs));
    } else {
        add_to_segments(segs);
    }
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p28' class='permalink'></a><p>
    The
    
      
      function
    
    that removes the first item from the agenda deletes the
    item at the front of the queue in the first time segment.  If this
    deletion makes the time segment empty, we remove it from the list of
    segments:<a class='superscript' id='footnote-link-4' href='#footnote-4'>[4]</a>
    <div class='snippet' id='javascript_67_29_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvYJvYx4CQ0SwABzIEgEAEcCCx0fMsv83LdUejMVsKlDaFIGBI2IjkWiMSwsZkce0gfjaVoysTBtVLDC4ZSkSz0SkKGQWHR6Ytcl4fDTBaBhaK2XoBlUJWwyRSqQKWEKRWKxBkssNlt0Zdq5brFZDOXKlGxRYiAJ5sU1a8WMm1sIgEeTdHkWPnUgl0y0clW8FjyaTsF2m8UUPCgATKO10R3OoOu8ULFgxKiB2kpABE4cjIvTtJMDB9LF4oAA7sL3KAGLR7WQHaBTYW2QsdKAIxF9QsFsM-Qj+abisyxwHMz3hwzWm5TaVe+zQ7tGKwrBQbMcxhYBPEUrGh9il7R4Z1kcfO0GQ8rdiC4rvbHNLu68ZsghuhidxuW6ICO+zgXoCKzfq81pSHQVAAG7sPshyWOcbDynQYJnpkJA0ConagAAvOspyAbYSGfP+h7nOCq5ZCWUakai86ZPGibJm2ToxuCWHDsMz4-MkLQUQeExgsxuj9vIg6iHoOhAA')">function remove_first_agenda_item(agenda) {
    const q = segment_queue(first_segment(agenda));
    delete_queue(q);
    if (is_empty_queue(q)) {
        set_segments(agenda, rest_segments(agenda));
    } else {}
}
</pre></div></div>
  </p></div>

  <div class='permalink'>
<a name='p29' class='permalink'></a><p>
    The first agenda item is found at the head of the queue in the first
    time segment.  Whenever we extract an item, we also update the current
    time:<a class='superscript' id='footnote-link-5' href='#footnote-5'>[5]</a>
    <div class='snippet' id='javascript_67_30_div'><div class='pre-prettyprint'><pre class='prettyprint eval' title='Evaluate Javascript program'onclick="window.open('http://source-academy.github.io/playground#chap=3&prgrm=PTAEGUEkGEAVQFLlAZgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQYHMWiATBgBQBKUAG9QAJxZkCE2gBsKAZzICADEIDcoAL65CpSjVAlZUomTaU6LAVx78R4qTLmgAFiwa873Pgy1dfWJyalolaTZTCXNLa1t7fwAaUHinbFBM0AjLT29fBwYUtM1sPXwQo3CWThsLJQL-J0lpWVoyBgp5RsdtcoNQ4xy2CNqeMgbE-hTRpXSs7MiOrp6ixc450v7KsNA8CgkVEZq61SmAsRbXWjyfUdPJv0dA7cNdqSP78cfC5pc21KdbpfeqrIQvYJvYzKNgsOgABzIAE8OE9BOd5ll-m4YUQCPJgSdvmCtGVIYNaIxWFYKDZjmMLAJ4ikAI4EFjszGZbG0eGdCRM2ksVnszlbclVdanGk2ARzS48jxeO4QipQ6oMyxsjm2eXOVpuZbA1UDSV4CQ0SyIgXazliDJYg03ZUCW0sUl6U3vLwSNjW12i932haKo0BnUetUUxaWc2Wv1kG2BlIUMhwrkxti3cPslNpuiRr1DSJSBi+-1uvPp4NZYZhyugVPp8VRyUwuGIlFunNB0QO7lOxtKNh4gkCOMWBNJiOR1u7CdawM9jOK9sI5FsbtuoT9hYLAD8oBYMSo09zoAARAvN4GTAwCSxeKAAO6p9ygBi0DvI0Bui87vdAIALiVfJrwrQNwRbItaH2Q5LHONgmzoMEa0yCg8FAAQ107VFChJNC92PC0BQvc4hyPdckVAABaGi9gOI5EOQ-9SgWHQj3kCJCIWEgaBUBj4PpUAAF5BM+IlGQxNjAMzaJYhlBI0RmSS4iFcdGMsUYoN3ENB2vbsQUXHUNKE7TSXYsogA')">function first_agenda_item(agenda) {
    if (is_empty_agenda(agenda)) {
        error("agenda is empty -- first_agenda_item");
    } else {
        const first_seg = first_segment(agenda);
        set_current_time(agenda, segment_time(first_seg));
        return front_queue(segment_queue(first_seg));
    }
}
</pre></div></div>
  </p></div>

  
    <div class="permalink">
    <a name="ex_3.32" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_3.32">Exercise 3.32 </a></b> 
  
    The
    
      
      functions
    
    to be run during each time segment of the agenda are kept in a queue.
    Thus, the
    
      
      functions
    
    for each segment are called in the order in which they were added to the
    agenda (first in, first out).  Explain why this order must be used.  In
    particular, trace the behavior of an and-gate whose inputs change from
    0,1 to 1,0 in the same segment and say how the behavior would differ if
    we stored a segment's
    
      
      functions
    
    in an ordinary list, adding and removing
    
      
      functions
    
    only at the front (last in, first out).
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_67_5_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_67_5_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>


  
  

<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1'>[1] </a>
    <FOOTNOTE>
    A
      full-adder is a basic circuit element used in adding two binary
      numbers.  Here $A$ and $B$
      are the bits at corresponding positions in the
      two numbers to be added, and $C_{\mathit{in}}$ is the
      carry bit from the addition one place to the right.  The circuit generates
      $\mathit{SUM}$, which is the sum bit in the corresponding position, and
      $C_{\mathit{out}}$, which is the
      carry bit to be propagated to the left.
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2'>[2] </a>
    <FOOTNOTE>
    These
    
      
      functions
    
    are simply syntactic sugar that allow
    
      
      
        
      
    
    
    us to use ordinary 
    
      
      
        functional
      
    
    syntax to access the local
    
      
      functions
    
    of objects.  It is striking that we can interchange the role of
    
    <QUOTE>functions</QUOTE>
    
    and
    <QUOTE>data</QUOTE> in such a simple way.  For example, if we write
    
      
      <kbd>wire("get_signal")</kbd>
      
    
    we think of <kbd>wire</kbd> as a
    
      
      function
    
    that is called with the message
    
      
      <kbd>"get_signal"</kbd>
      
    
    as input. Alternatively, writing
    
      
      <kbd>get_signal(wire)</kbd>
      
    
    encourages us to think of <kbd>wire</kbd> as a data
    object that is the input to a
    
      
      function
    
    
      
      <kbd>get_signal</kbd>.
      
    
    The truth of the matter is that, in a language in which we can deal with
    
    functions
    
    as objects, there is no fundamental difference between
    <QUOTE>
      
	
	functions
      
    </QUOTE>
    and <QUOTE>data,</QUOTE> and we can choose our syntactic sugar to allow us
    to program in whatever style we choose.
    
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-3' href='#footnote-link-3'>[3] </a>
    <FOOTNOTE>
    The
    agenda is a 
    
    
    headed list, like the tables in section&nbsp;<REF NAME="sec:tables"><a class="superscript" id="3.3.4-sec-link-3.3.3" href="./3.3.3.html">3.3.3</a></REF>,
    but since the list is headed by the time, we do not need an additional
    dummy header (such as the
    
      
      
	<kbd>"*table*"</kbd> string
      
    
    used
    with tables).
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-4' href='#footnote-link-4'>[4] </a>
    <FOOTNOTE>
    Observe that the
    
    
      
      
	conditional statement in this
	function has an
	
	empty block as its alternative statement.
      
    
    Such a
    
    
      
      
	<QUOTE>one-armed conditional statement</QUOTE>
      
    
    is used to decide whether to do something, rather than to select between two
    
      
      statements.
    
  
    </FOOTNOTE></div>

    
    <div class='footnote'>
      <a class='footnote-number' id='footnote-5' href='#footnote-link-5'>[5] </a>
    <FOOTNOTE>
    In this way, the current time will always be the time
    of the action most recently processed.  Storing this time at the head
    of the agenda ensures that it will still be available even if the
    associated time segment has been deleted.
    </FOOTNOTE></div>

    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./3.3.3.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='69' href='./3.3.5.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      3.3.4&nbsp;&nbsp;
    A Simulator for Digital Circuits
  
    </div>
    <script> var chapter_id = 68; </script>
    <script> var chapter_path = "chapters/3.3.4.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>