[{"id":"/sicpjs/2.2.4","tag":"TITLE","body":"2.2.4  \n    Example: A Picture Language"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    This section presents a simple language for drawing pictures that\n    illustrates the power of data abstraction and closure, and also exploits\n    higher-order\n    functions\n    in an essential way.  The language is designed to make it easy to\n    experiment with patterns such as the ones in\n    figure ","tag":"#text"},{"tag":"REF","body":"2.9","href":"/sicpjs/2.2.4#fig-2.9"},{"body":", which are composed of\n    repeated elements that are shifted and scaled.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/2.2.4#footnote-1"},{"body":" In this language, the data objects being\n    combined are represented as\n    functions\n    rather than as list structure. Just as\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pair"},{"body":",\n    which satisfies the\n    \n    closure property, allowed us to easily build arbitrarily complicated list\n    structure, the operations in this language, which also satisfy the closure\n    property, allow us to easily build arbitrarily complicated patterns.\n    ","tag":"#text"},{"tag":"FIGURE","scale":"70%","src":"img_original/2.9.svg","id":"#fig-2.9","captionHref":"/sicpjs/2.2.4#fig-2.9","captionName":"Figure 2.9 ","captionBody":[{"body":"Designs generated with the picture language.\n      ","tag":"#text"}]}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"The picture language","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    When we began our study of programming in\n    section ","tag":"#text"},{"tag":"REF","body":"1.1","href":"/sicpjs/1.1"},{"body":", we emphasized the\n    importance of describing a language by focusing on the language's\n    primitives, its means of combination, and its means of abstraction.\n    We'll follow that framework here.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    Part of the elegance of this picture language is that there is only one\n    kind of element, called a\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"painter","tag":"#text"}]},{"body":".  A painter draws an image that is shifted and scaled to\n    fit within a designated\n    \n    parallelogram-shaped frame.  For example, there's a primitive painter\n    we'll call ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"\n    that makes a crude line drawing,\n    as shown in figure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":".\n    ","tag":"#text"},{"tag":"FIGURE","scale":"60%","src":"img_original/2.10.svg","id":"#fig-2.10","captionHref":"/sicpjs/2.2.4#fig-2.10","captionName":"Figure 2.10 ","captionBody":[{"body":"Images produced by the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"\n      painter, with respect to four different frames.  The frames, shown\n      with dashed lines, are not part of the images.\n      ","tag":"#text"}]},{"body":"\n    The actual shape of the drawing depends on the frame—all four\n    images in figure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":" are produced by the same\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" painter, but with respect to four\n    different frames. Painters can be more elaborate than this: The primitive\n    painter called ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":" paints a picture of\n    MIT's founder, William Barton Rogers, as shown in\n    figure ","tag":"#text"},{"tag":"REF","body":"2.11","href":"/sicpjs/2.2.4#fig-2.11"},{"body":".","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-2","body":"2","href":"/sicpjs/2.2.4#footnote-2"},{"body":"\n    The four images in figure ","tag":"#text"},{"tag":"REF","body":"2.11","href":"/sicpjs/2.2.4#fig-2.11"},{"body":"\n    are drawn with respect to the same four frames\n    as the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" images in\n    figure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":".\n    ","tag":"#text"},{"tag":"FIGURE","scale":"60%","src":"img_original/2.11.svg","id":"#fig-2.11","captionHref":"/sicpjs/2.2.4#fig-2.11","captionName":"Figure 2.11 ","captionBody":[{"body":"\n\tImages of William Barton Rogers, founder and first\n        president of MIT, painted with respect to the same four frames as in\n\tfigure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":" (original image courtesy MIT Museum).\n      ","tag":"#text"}]}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    To combine images, we use various\n    \n    operations that construct new painters\n    from given painters. For example, the\n     ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" operation takes two painters and\n    produces a new, compound painter that draws the first painter's image\n    in the left half of the frame and the second painter's image in the\n    right half of the frame. Similarly,\n     ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":" takes two painters and produces a\n    compound painter that draws the first painter's image below the\n    second painter's image. Some operations transform a single painter\n    to produce a new painter.  For example,\n     ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_vert"},{"body":"\n    takes a painter and produces a painter that draws its image upside-down, and\n     ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_horiz"},{"body":"\n    produces a painter that draws the original painter's image\n    left-to-right reversed.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    Figure ","tag":"#text"},{"tag":"REF","body":"2.12","href":"/sicpjs/2.2.4#fig-2.12"},{"body":" shows the drawing of a\n    painter called ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave4"},{"body":"\n    that is built up in two stages starting from\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":":\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7AGYAbPEQD6ANwZtOdEgHdQAX1BSyJAqADkZAK4A7BiYDcuHiUtd6zSilABeUMNESAFIwsFNJyiiqUgW4UAJQx9iCgjs5UQZSYXpzc-FHBKOxpFCjxuBwamrnuJYllWpUUmPFAA","body":"const wave2 = beside(wave, flip_vert(wave));\nconst wave4 = below(wave2, wave2); "},{"body":"\n    In building up a complex image in this manner we are exploiting the fact\n    that painters are\n    \n    closed under the language's means of combination.\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" or\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":" of two painters is itself a painter;\n    therefore, we can use it as an element in making more complex painters.\n    As with building up list structure using\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pair"},{"body":",\n    the closure of our data under the means of combination is crucial to the\n    ability to create complex structures while using only a few operations.\n  ","tag":"#text"}]},{"tag":"FIGURE","scale":"70%","src":"img_original/2.12.svg","id":"#fig-2.12","snippet":{"tag":"SNIPPET","latex":true,"eval":false,"body":"\n$\\ $\nconst wave2 =                         const wave4 = \n    beside(wave, flip_vert(wave));        below(wave2, wave2);\n\n      "},"captionHref":"/sicpjs/2.2.4#fig-2.12","captionName":"Figure 2.12 ","captionBody":[{"body":"Creating a complex figure,\n    starting from the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" painter of\n    figure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":".\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    Once we can combine painters, we would like to be able to abstract typical\n    patterns of combining painters. We will implement the painter operations as \n    JavaScript functions.\n    This means that we don't need a special abstraction mechanism in the\n    picture language: Since the means of combination are ordinary \n    JavaScript functions,\n    we automatically have the capability to do anything with painter operations\n    that we can do with\n    functions.\n    For example, we can abstract the pattern in\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave4"},{"body":" as\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7AGYAbPEQD6ANwZtOdEgHdQAX1BSyJAqADkZAK4A7BiYDcuKVZ4U8JS-rlEiDMQqJM8Mg4ACn88SwpVAEoabFB40B43LlAwiNUUUABeUGFRCVCA9LJpT2VVCkLwyLIoqPsE0DIGCnMydy5ePirilHY0mpR67B1cJMsUxhYKTGyPeW9fMKDgqcphjg1NVeZKTHqgA","body":"function flipped_pairs(painter) {\n    const painter2 = beside(painter, flip_vert(painter));\n    return below(painter2, painter2);\n} "},{"body":"\n    and\n    declare","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave4"},{"body":" as an instance of this\n    pattern:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":8,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7AGYAbPEQD6ANwZtOdEgHdQAX1BSyJAqADkZAK4A7BiYDcuKVZ4U8JS-rlEiDMQqJM8Mg4ACn88SwpVAEoabFB40B43LlAwiNUUUABeUGFRCVCA9LJpT2VVCkLwyLIoqPsE0DIGCnMydy5ePirilHY0mpR67B1cJMsUxhYKTGyPeW9fMKDgqcphjg1NVeZKTHqgA","body":"const wave4 = flipped_pairs(wave); "}]},{"tag":"TEXT","id":"#p7","child":[{"tag":"FIGURE","scale":"70%","src":"img_javascript/ch2-Z-G-37.svg","id":"#fig-2.13","captionHref":"/sicpjs/2.2.4#fig-2.13","captionName":"Figure 2.13 ","captionBody":[{"body":"Recursive plans for\n\t  ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":" and\n\t  ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":".","tag":"#text"}]},{"body":"\n    We can also define recursive operations. Here's one that makes\n    painters split and branch towards the right as shown in\n    \n\tfigures ","tag":"#text"},{"tag":"REF","body":"2.13","href":"/sicpjs/2.2.4#fig-2.13"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"REF","body":"2.14","href":"/sicpjs/2.2.4#fig-2.14"},{"body":":\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7DnRIB3UAF9QAMzIkCoAORkArgDsGmgNy5l+nhTwk9oMngDmdCgH0ORADZ4KACiJM8ehQMZOx6AJQ02KDRoHjKoN42ALwpoAAMEdRRMTlkDBQ6ZDZ+AUFkJjlKDO4cDJE5OTzWXJwETO7uwaBJtg5Orh5evv6BwaGgALSgAIxhFQ3ReQVFoMKiEsOlY5zc-N4cbR3bB+2dZGFz2dEK2DfY0nLedo4ubp4+jCwU7JgXRkA","body":"function right_split(painter, n) {\n    if (n === 0) {\n        return painter;\n    } else {\n        const smaller = right_split(painter, n - 1);\n        return beside(painter, below(smaller, smaller));\n    }\n} "},{"body":"\n    We can produce balanced patterns by branching upwards as well as towards\n    the right (see exercise ","tag":"#text"},{"tag":"REF","body":"2.44","href":"/sicpjs/2.2.4#ex-2.44"},{"body":" and\n    figures ","tag":"#text"},{"tag":"REF","body":"2.13","href":"/sicpjs/2.2.4#fig-2.13"},{"body":"\n    and ","tag":"#text"},{"tag":"REF","body":"2.14","href":"/sicpjs/2.2.4#fig-2.14"},{"body":"):\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":21,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QBjcgOwFMyAaUAC2YENKOAzhR50A1hwBGzAXgAmzQZxIB3UAF9QAMzIkCoAORkAri30BuXJpN0KeEo1Bk8Ac04UA+gKIAbPBQAURDx4jBSsHIwAlDTYoHGgeJqg-g4AvOmgAAzR1LHx+WTMFEZkDkEhYWQW+RrM3gLMMfn5DIxCoAIEPN7erKCpji5unj5+gcGh4aAOALSgAIyR1c1xhcWloFIy8uMVU0Iiov6d3b3sHV09rJFLeXFq2A-YVow2dg5GRCO+AeWT51EmvFEsk0hlskCVmsSmUJpVlvdQHUGpDmq12icrmR+qBPt8xn9KhFQHNFgjmtCNgcxP4tnJmMdLmdBEzrhxCddyQ8ni83vZ6ExWPjfnCpoDcvkQSl+uCcncKUUYaAOVV5bV6o0JSsBW0qJ8cXivD9dv9iaTbtqde0nK4qAMbcMjQTRQCSQsLdr0VQKCQvr1NHbNtJ6f5PhxPh6Vl7NiQKD6CO4HYHqUckxwk5G0fZ2gxSn0BrmWGRhSaidM3WT5QVFVThDS6TsfX7mAGOIW2VXLZaGwyVZJY-HE0MKDcuY9cAIlMp-O3i06Atw+BQOJhR0A","body":"function corner_split(painter, n) {\n    if (n === 0) {\n        return painter;\n    } else {\n        const up = up_split(painter, n - 1);\n        const right = right_split(painter, n - 1);\n        const top_left = beside(up, up);\n        const bottom_right = below(right, right);\n        const corner = corner_split(painter, n - 1);\n        return beside(below(painter, top_left),\n                      below(bottom_right, corner));\n    }\n} "},{"tag":"FIGURE","scale":"70%","src":"img_javascript/2.14.svg","id":"#fig-2.14","captionHref":"/sicpjs/2.2.4#fig-2.14","captionName":"Figure 2.14 ","captionBody":[{"body":"The recursive operation\n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":" applied to the\n\t  painters ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" and\n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":".\n          Combining four\n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":" figures\n\t  produces symmetric\n\t  ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"\n          as shown in figure ","tag":"#text"},{"tag":"REF","body":"2.9","href":"/sicpjs/2.2.4#fig-2.9"},{"body":".\n          ","tag":"#text"}]},{"body":"\n    By placing four copies of a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":"\n    appropriately, we obtain a pattern called\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":",\n      \n    whose application to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":" is shown in\n    figure ","tag":"#text"},{"tag":"REF","body":"2.9","href":"/sicpjs/2.2.4#fig-2.9"},{"body":":\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":35,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QBjcgOwFMyAaUAC2YENKOAzhR50A1hwoBXMowD6kogLwATZrOUkA7ow4AjZktUcAZgBs8RWQDdWFE+cudyeAF6Cnm0AF9QxsiQJQAHIySRYggG5cYzC6CjwSRlAyPABzTgpZASJzCgAKIh48RgpWDkYAShpsUFrQPGNQPKSAXjbQAAYq6hq6vrJmKRlQQuLSsii+n2ZTAWZqvr6GRiFQAQIeU1NWUBbktIysnLx80ZKy0CSAWlAARgrJxdqBoaT9Q2YCovP2NeExPLrTbbX5ArasCoPXq1LzYWHYGKMOIJJIKI65L5jC6VBZ1BpNVrtLq4p4vaRJM7jR4w0AzOYkxbLVZgkG7UBo7IYynY0A3e7UxZk4ZCESiPLvFSfFkXaVkCocblygWw+GI5GJehMVjok6Yn7lbrQ+qNZq7ImGp7PQbkkbfKlG6azeY9S2alZUBRsjnHU52nl8qGuplUFLpKh7UOHTm6xXlXl3QOW4OgCgkSzbYzh0AS1R5BQcBSJp7J3QkCipgiySNZkUA6scatFxmJVYMGQ7PZtlhkHW+rG-a4JgX9a3C-5inOfVPp5iZjhdiFsI2uleTvXjPRlitVg4USHKuHRWLxDUCACOkj4anMBBjfoHFrqyYvfHGbIXPejff1lybyYURDapwmyNHsa5mBYshOCkLh5C+lCLqA8HjH+LZUKYWhASBbJrq88iKJK6haIwcGXghcpLiuVHURBlg2JQpGvhCTZCkktZigBWGmMYHAYZoXHGFC8ICB4gLwdehC6twr4cJg+5AA","body":"function square_limit(painter, n) {\n    const quarter = corner_split(painter, n);\n    const half = beside(flip_horiz(quarter), quarter);\n    return below(flip_vert(half), half);\n} "}]},{"tag":"EXERCISE","title":"Exercise 2.44","id":"#ex-2.44","child":[{"body":"Declare the function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"up_split"},{"body":"\n    used by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":".\n      \n    It is similar to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":",\n      \n    except that it switches the roles of ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":"\n    and ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":".\n    ","tag":"#text"}],"solution":[{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7DnRIB3UAF9QAMzIkCoAORkArgDsGmgNy5l+nhTwk9oHUQD6HIgBs8FABREmePRQZl2PQBKGmxQcNA8ZVB3GwBeBNAABhDqMIiMsgYKHTIbLx8-MhMMpQZnDgZQjIyeay5OAiZnZ39QONsHJ1cPAt9-QNAAWlAARiCSmvCsnLzObn53YVEJdw4mloHG5tayIPY+oon08IVsM+xpOXc7Rxc3d0YWCnZMIImgA","body":"function up_split(painter, n) {\n    if (n === 0) {\n        return painter;\n    } else {\n        const smaller = up_split(painter, n - 1);\n        return stack(beside(smaller, smaller), painter);\n    }\n} "}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"Higher-order operations","tag":"#text"}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    In addition to abstracting patterns of combining painters, we can work at a\n    higher level, abstracting patterns of combining painter operations. That\n    is, we can view the painter operations as elements to manipulate and can\n    write means of combination for these\n    elements—functions\n    that take painter operations as arguments and create new painter operations.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n    For example,\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flipped_pairs"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"\n    each arrange four copies of a painter's image in a square pattern;\n    they differ only in how they orient the copies. One way to abstract this\n    pattern of painter combination is with the following\n    function,\n    which takes four one-argument painter operations and produces a painter\n    operation that transforms a given painter with those four operations and\n    arranges the results in a square.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-3","body":"3","href":"/sicpjs/2.2.4#footnote-3"},{"body":"The functions ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"tl"},{"body":",\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"tr"},{"body":", ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"bl"},{"body":", and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"br"},{"body":" are the transformations to apply to the\n    top left copy, the top right copy, the bottom left copy, and the bottom\n    right copy, respectively.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":7,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgEcAriwoMyAfQrCyAO0kAbBgDMKQ0ZQnTZCsngDmddaBnzJwohzwATBpJskA7nPYAjBtbvsOdZ6ABfUBUyEgJQAHIyYTkGCIBuXBUYngo8EjlQWwY5NIoATwAKAA8AShpsUCrQMgYzTOLEgKSUtIzOERZ7EhVJFRJZQopFdgoydxHQNzJy6krq2vrQIiY8XIlQAF4APk5ufkKPLwYhxUKVtfEZ0bJz1fWZ0tZ56te394+pz2zDs4uHp5TW7-K6lMFNXC+ZyFDidWqSHp9Aa3eoWKzZBzOVxZOy5PAFdgvT7EuFXHTmfRGEyk7So5RqUpE0CFRhiRmvUrxIA","body":"function square_of_four(tl, tr, bl, br) {\n    return painter => {\n        const top = beside(tl(painter), tr(painter));\n        const bottom = beside(bl(painter), br(painter));\n        return below(bottom, top);\n    };\n} "},{"body":"\n    Then\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flipped_pairs"},{"body":"\n      can be defined in terms of\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_of_four"},{"body":" as follows:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-4","body":"4","href":"/sicpjs/2.2.4#footnote-4"},{"tag":"SNIPPET","latex":false,"id":9,"eval":true,"prependLength":12,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdhQCuZAHYB9IUQ54AJg3GySAd1HsARgxnz2AMwA2eIuIBuDNqANHxdcngBe7DreWgAvpbIkCoAORkhUQZfAG5cXUCeCjwSUU4ARyEWBRJdcV0SEQAKCn1BMg080HUyAEoabFAq0DIGYTFQIiY8UQpzUABeAD5Obn4szW0GHP0sppa2svyx5tbzUtLWSuqV1bX1qsG5YfVR8bmp4rIZifmFsLdwyOjY0G3WvAoATyyAD3LqZara+rjXi6uoiiMTiViIRAYsnE4zIHBOBw+X1APFiXGR3nULQYmE6CSStXEqXSmWOv0k0m2ihUakshmMZgsSI2zJZqzBNjsjju8gez1KYRWPxEcRRBExQUw8Mm-Owl2wzhUWTBEKhMLhjBYFHOQA","body":"function flipped_pairs(painter) {\n    const combine4 = square_of_four(identity, flip_vert, \n                                    identity, flip_vert);\n    return combine4(painter);\n} "},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"\n    can be expressed as","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-5","body":"5","href":"/sicpjs/2.2.4#footnote-5"},{"tag":"SNIPPET","latex":false,"id":10,"eval":true,"prependLength":44,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QBjcgOwFMyAaUAC2YENKOAzhR50A1hwoBXMowD6kogLwATZrOUkA7ow4AjZktUcAZgBs8RWQDdWFE+cudyeAF6Cnm0AF9QxsiQJQAHIySRYggG5cYzC6CjwSRlABAEdJPjUSY1ljEmkACgpTCXZQXWKysgBKGmxQetAyZikZUCIePEYKVlAAXgA+ZOExfP1DZkLTfPbO7uqS6Y6u1iqqtjqGza3tnfqxlQnyxdmVvTJj5erVqK9o2PjE0AOuvAoAT3yADxrqDfqmlpJT43O6MOIJJJkPAAc04FFkAiI5goFzmHEYPz+T2MoHySV6BNAAAZMbsAdIkjNLlFNj5mKYBMxarsGIwhMkCDxTKYer1GjC4Qika9Uax0aAALSgACMVRpO3JrX2qlFpSEIlE+QEnO5Yo5XJ5V3l9Vut2wMTBDySCiFyNV6NJDTwOLxfUJJOZCuaFLaSzmxu8oHpjM921Z7O1Bt5oBtiLtVLRoCSUtlAc2iqS6pGyomkd1ap1hrWvpO1QDptB4MeDBkrFtIoTeoxoexuPx7sd2wzJepWLpDKZvxZiXZCj6McscYbfqbkplcqxm3DVChsKofNXgqnKMbpWT87TDWXoAoJEsPOM67KBgO+QUHAUC+HbKouhIFFPBFkm6vWc1P44H8nx2Y8axYMhxzAutt3tJM51TRcGm7P9RhvFVT3PZhLw4KD5kQ3YdhzWC3w-AJvwFChrj7bAzQtKtMzSDJZHMAhp1LB0W1AgJdE6ZhMHHVJ0iaWQshyPJzjMCxZCcKE3CeVQXneDh8II1TVMBeRFAOdQtB0XwHGsWxgP+b1WgYAgeJYTB8lw+sdxnPcqLNAQPC1RjhJYkVuD4OxQEwa4gA","body":"function square_limit(painter, n) {\n    const combine4 = square_of_four(flip_horiz, identity, \n                                    rotate180, flip_vert);\n    return combine4(corner_split(painter, n));\n} "}]},{"tag":"EXERCISE","title":"Exercise 2.45","id":"#ex-2.45","child":[{"body":"\n\tThe functions\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"up_split"},{"body":"\n    can be expressed as instances of a general splitting operation. \n    Declare a function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"split"},{"body":" with the property that evaluating\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":11,"eval":true,"prependLength":5,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QAjAUwGc8ATB0AX1ADMySCoAORkArgDsGQgNy4QvCQGMKeEuNBMiAGzxUKJehwDuZXRQbq6ATw0VR7cRVyK1TKqYDmACwoB9TTpUALwa2roAFIws7AA0hlokRgCUsi7ibqCiRP5hwaGBkQwJRnFRbAwpQA","body":"const right_split = split(beside, below);\nconst up_split = split(below, beside); "},{"body":"\n    produces\n    functions","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"up_split"},{"body":"\n      with the same behaviors as the ones already declared.\n      ","tag":"#text"}],"solution":[{"tag":"SNIPPET","latex":false,"id":12,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7DnRIB3UAF9QAMzIkCoAORkArgDsGmgNy5l+nhTwk9nIgBs8FABSC8AczcMyAfRJEpBEx2dl6+RACUNNigMSrmltagZAw83hz2jk5ETHh6FF7sepHU0bFleMqgTjYAvHWgAAzFpWWtSQwUOmQ22bn5ZCZtMUoMdhwMUUOtPNZcnIHBXqA17anpDs69eQWgNgC0oACM4YNTscmd3aCuHqF+WTnbZOwtZ28xHAshPvefQd8Bf5ecInV5lBSvCFlC5dGzJNYZCgmCHYGZ6OZkdx0ChpRHLWwbFwicSSTjcfig7DSOROTFubG4wmMFgUdiYEFGIA","body":"function split(bigger_op, smaller_op) {\n    function rec_split(painter, n) {\n        if (n === 0) {\n            return painter;\n        } else {\n            const smaller = rec_split(painter, n - 1);\n            return bigger_op(painter, \n                        smaller_op(smaller, smaller));\n        }\n    }\n    return rec_split;\n} "},{"tag":"SNIPPET","latex":false,"id":13,"eval":true,"prependLength":16,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdgCMGHPABMG7DnRIB3UAF9QAMzIkCoAORkArgDsGmgNy5l+nhTwk9nIgBs8FABSC8AczcMyAfRJEpBEx2dl6+RACUNNigMSrmltagZAw83hz2jk5ETHh6FF7sepHU0bFleMqgTjYAvHWgAAzFpWWtSQwUOmQ22bn5ZCZtMUoMdhwMUUOtPNZcnIHBXqA17anpDs69eQWgNgC0oACM4YNTscmd3aCuHqF+WTnbZOwtZ28xHAshPvefQd8Bf5ecInV5lBSvCFlC5dGzJNYZCgmCHYGZ6OZkdx0ChpRHLWwbFwicSSTjcfig7DSOROTFubG4wmMFgUdiYEFGIA","body":"const right_split = split(beside, below);\n\nright_split(rogers, 4); "}]},{"tag":"SUBHEADING","id":"#h3","child":[{"body":"Frames","tag":"#text"}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    Before we can show how to implement painters and their means of\n    combination, we must first consider\n    \n    frames.  A frame can be described by three vectors—an origin vector\n    and two edge vectors.  The origin vector specifies the offset of the\n    frame's origin from some absolute origin in the plane, and the edge\n    vectors specify the offsets of the frame's corners from its origin.\n    If the edges are perpendicular, the frame will be rectangular.\n    Otherwise the frame will be a more general parallelogram.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p11","child":[{"body":"\n    Figure ","tag":"#text"},{"tag":"REF","body":"2.15","href":"/sicpjs/2.2.4#fig-2.15"},{"body":" shows a frame and its associated\n    vectors.  In accordance with data abstraction, we need not be specific yet\n    about how frames are represented, other than to say that there is a\n    constructor\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_frame"},{"body":",\n    which takes three vectors and produces a frame, and three corresponding\n    selectors\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"origin_frame"},{"body":",\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"edge1_frame"},{"body":",\n      \n    and\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"edge2_frame"},{"body":"\n    (see exercise ","tag":"#text"},{"tag":"REF","body":"2.47","href":"/sicpjs/2.2.4#ex-2.47"},{"body":").\n\n    ","tag":"#text"},{"tag":"FIGURE","scale":"70%","src":"img_original/ch2-Z-G-42.svg","id":"#fig-2.15","captionHref":"/sicpjs/2.2.4#fig-2.15","captionName":"Figure 2.15 ","captionBody":[{"body":"A frame is described by three vectors—an origin and two edges.\n      ","tag":"#text"}]}]},{"tag":"TEXT","id":"#p12","child":[{"body":"\n    We will use coordinates in the\n    \n    unit square\n    (","tag":"#text"},{"body":"$0\\leq x, y\\leq 1$","tag":"LATEX"},{"body":") to specify images. With\n    each frame, we associate a\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"frame coordinate map","tag":"#text"}]},{"body":", which will be used to shift and scale images\n    to fit the frame.  The map transforms the unit square into the frame by\n    mapping the vector ","tag":"#text"},{"body":"$\\mathbf{v}=(x, y)$","tag":"LATEX"},{"body":" to the\n    vector sum\n    ","tag":"#text"},{"body":"\n      \\[\n      \\text{Origin(Frame)} + x\\cdot \\text{ Edge}_1\\text{ (Frame)}\n      + y\\cdot \\text{ Edge}_2\\text{ (Frame)}\n      \\]\n    ","tag":"LATEX"},{"body":"\n    For example, ","tag":"#text"},{"body":"$(0, 0)$","tag":"LATEX"},{"body":" is mapped to the origin of\n    the frame, ","tag":"#text"},{"body":"$(1, 1)$","tag":"LATEX"},{"body":" to the vertex diagonally\n    opposite the origin, and ","tag":"#text"},{"body":"$(0.5, 0.5)$","tag":"LATEX"},{"body":" to the\n    center of the frame.  We can create a frame's coordinate map with\n    the following\n    function:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-6","body":"6","href":"/sicpjs/2.2.4#footnote-6"},{"tag":"SNIPPET","latex":false,"id":14,"eval":true,"prependLength":40,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5F2EsRDN9GEbFnY7aa4qmxFtP2-OhfxtNh9gA4kbgAZiETBVjAsgfzYKCUFgyUqgAViEAA2FCaHA38O2w64Xwgv85GVVUhGoqDsUY+02FAki0Oors5B7BhVAAjs2G43i+2oxd9FQ9CGgorceBA4iv0439e1UDUdl6Ud0OEthex4aixn0aiVLUhpdCAA","body":"function frame_coord_map(frame) {\n    return v => add_vect(origin_frame(frame), \n                         add_vect(scale_vect(xcor_vect(v), \n                                             edge1_frame(frame)), \n                                  scale_vect(ycor_vect(v), \n                                             edge2_frame(frame))));\n} "},{"body":"\n    Observe that applying\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"frame_coord_map"},{"body":"\n    to a frame returns a\n    function\n    that, given a vector, returns a vector. If the argument vector is in the\n    unit square, the result vector will be in the frame.  For example, \n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":15,"eval":true,"prependLength":48,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5F2EsRDNU-nY7a1xfYkbmxE5WQfKYgKqABmIRMHGZdz0gzoAFYhGQ099A7NguzkHsGD7Bh51EHgkN4KNowwoA","body":"frame_coord_map(a_frame)(make_vect(0, 0)); "},{"body":"\n    returns the same vector as\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":16,"eval":true,"prependLength":40,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61thLEQzaAGOWWKAALxta6V+XEm7Yk6s3mA0dVADMQkw4xpU9cM86AFYhOvRKs3UQezxu8O8kA","body":"origin_frame(a_frame); "}]},{"tag":"EXERCISE","title":"Exercise 2.46","id":"#ex-2.46","child":[{"body":"\n    A two-dimensional\n    \n    vector ","tag":"#text"},{"body":"$v$","tag":"LATEX"},{"body":" running from the\n    origin to a point can be represented as a pair consisting of an\n    ","tag":"#text"},{"body":"$x$","tag":"LATEX"},{"body":"-coordinate and a\n    ","tag":"#text"},{"body":"$y$","tag":"LATEX"},{"body":"-coordinate.  Implement a data abstraction\n    for vectors by giving a constructor\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_vect"},{"body":"\n    and corresponding selectors\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"xcor_vect"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ycor_vect"},{"body":".\n    In terms of your selectors and constructor, implement\n    functions","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"add_vect"},{"body":",","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"sub_vect"},{"body":",\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"scale_vect"},{"body":"\n    that perform the operations vector addition, vector subtraction, and\n    multiplying a vector by a scalar:\n    ","tag":"#text"},{"body":"\n      \\[\\begin{array}{lll}\n      (x_1, y_1)+(x_2, y_2) &=& (x_1+x_2, y_1+y_2)\\\\\n      (x_1, y_1)-(x_2, y_2) &=& (x_1-x_2, y_1-y_2)\\\\\n      s\\cdot(x, y)&= &(sx, sy)\n      \\end{array}\\]\n    ","tag":"LATEX"}],"solution":[{"tag":"SNIPPET","latex":false,"id":17,"eval":true,"prependLength":0,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3CWIjFMj0YQ7Yb7UAAXja1yq2JO+jFEqlMusKAVSpJdgAzEJMKstjc6NKGmxsZbtWw1UA","body":"function make_vect(x, y) {\n    return pair(x, y);\n}\nfunction xcor_vect(vector) {\n    return head(vector);\n}\nfunction ycor_vect(vector) {\n    return tail(vector);\n}\nfunction scale_vect(factor, vector) {\n    return make_vect(factor * xcor_vect(vector), \n                     factor * ycor_vect(vector));\n}\nfunction add_vect(vector1, vector2) {\n    return make_vect(xcor_vect(vector1)  \n                     + xcor_vect(vector2), \n                     ycor_vect(vector1)  \n                     + ycor_vect(vector2));\n}\nfunction sub_vect(vector1, vector2) {\n    return make_vect(xcor_vect(vector1)  \n                     - xcor_vect(vector2), \n                     ycor_vect(vector1)  \n                     - ycor_vect(vector2));\n} "}]},{"tag":"EXERCISE","title":"Exercise 2.47","id":"#ex-2.47","child":[{"body":"\n    Here are two possible constructors for frames:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":18,"eval":false,"body":"function make_frame(origin, edge1, edge2) {\n    return list(origin, edge1, edge2);\n}\n\nfunction make_frame(origin, edge1, edge2) {\n    return pair(origin, pair(edge1, edge2));\n}"},{"body":"\n    For each constructor supply the appropriate selectors to produce an\n    implementation for frames.","tag":"#text"}],"solution":[{"tag":"OL","child":[{"tag":"LI","child":[{"tag":"SNIPPET","latex":false,"id":19,"eval":true,"prependLength":27,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61thLEQzfRhGw3bQALxta5VbEt9udujdm1sfagAfEm4AZiEmFWY7IXbYU5Qs8HJLsAFYhAA2Vc0cfdyssHfzy88Cc9uTK1VCe9T7Gv+1sFs2su3++XvIgA","body":"function make_frame(origin, edge1, edge2) {\n    return list(origin, edge1, edge2);\n}\nfunction origin_frame(frame) {\n    return list_ref(frame, 0);\n}\nfunction edge1_frame(frame) {\n    return list_ref(frame, 1);\n}\nfunction edge2_frame(frame) {\n    return list_ref(frame, 2);\n} "}]},{"tag":"LI","child":[{"tag":"SNIPPET","latex":false,"id":20,"eval":true,"prependLength":27,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoHUmgVcmVqqEJq0uu16s1LGF+TFyNAipVRClMrl1W9LFOzUJXh8-mlsv9zqRRVt+y94d94YDhta3j8PHSFCyYblohFLujDpQcZ92f9+JkLVSGay1YTOZF2EsRGKZHowjY7tVoAAvG1rlVsSd9E2W222La2Pse32SXYAMxCTCrEetujticoafEm4AViEADZlzRR2viywt5LSzxT521WOJ9jTxvVrai1fT6W8kA","body":"function make_frame(origin, edge1, edge2) {\n    return pair(origin, pair(edge1, edge2));\n}\nfunction origin_frame(frame) {\n    return head(frame);\n}\nfunction edge1_frame(frame) {\n    return head(tail(frame));\n}\nfunction edge2_frame(frame) {\n    return tail(tail(frame));\n} "}]}]}]},{"tag":"SUBHEADING","id":"#h4","child":[{"body":"Painters","tag":"#text"}]},{"tag":"TEXT","id":"#p13","child":[{"body":"\n    A painter is represented as a\n    function\n    that, given a frame as argument, draws a particular image shifted and\n    scaled to fit the frame. That is to say, if\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"p"},{"body":" is a painter and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"f"},{"body":" is a frame, then we produce\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"p"},{"body":"'s image in\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"f"},{"body":" by calling ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"p"},{"body":"\n    with ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"f"},{"body":" as argument.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p14","child":[{"body":"\n    The details of how primitive painters are implemented depend on the\n    particular characteristics of the graphics system and the type of image to\n    be drawn.  For instance, suppose we have a\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"draw_line"},{"body":"\n    that draws a line on the screen between two specified points.  Then we can\n    create painters for line drawings, such as the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"\n    painter in figure ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":", from lists of line\n    segments as follows:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-7","body":"7","href":"/sicpjs/2.2.4#footnote-7"},{"tag":"SNIPPET","latex":false,"id":21,"eval":true,"prependLength":68,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKxLYxRYSrlRFib90jkMh6jYFgiF8NMawDUB1E0ewgIYECwIgqCi0KCIzWQrMfz-CDYmgodUm8Px7FjYsIjQ79f3-QjB1rWh0goLIOHfEBQAAIl8GUAHdVSVKdjVVFhONAbwFBKCg6AIDIGDIDVsA4tFhDguRVUoIhBLIbxQC7ORfFVeSWGKV08CUsAdJYEpgLIKdIOtByqDwNJdJNIgWA-CIeIYXi2Hc+UOCQlCcXAyCiMM4pVDk4QeE4gKbJwgSpzITjVlcSLooYWKguwkD0tkTKYrihK0OS+S0v0DLTSynKwvQ1s4yw2iCOKNgejYeCAJYLQ8Lo-zTTIIjGNADsx0nZcpjwYYfBITweD6gjxsm3kfL8gKeBWg8OzYfSewYPtFy2h8Ftsmj8IAhaWoA09WQfaYdr2thexPY77x4ajFsur6htu-4Hx+gazXfSwiDNehhDYWcxzaa4qmxFtQfBuhIZtNh9hhr8qgAZiETBViRuyUfA+02BQTHJSqABWIQADYCZoZHIbG0dYfYF9idnIRibR7EedJltsEJiHgqzDHWaxzoowLBmwaJ1HIPRim4c6bFCyFxn5fO-rxbZ7WCJ4Ym8rF7mFe2dWNblkXjbJ5Wtx4aXUFlpn6ttiXKc6FBm2drXAfJ93rh+w3IZtr2ReowXheJrqFLkGGfrajqY56zb7uEs1g-1gD0dNrOs2FfRsGjjRuq0YnF10IA","body":"function segments_to_painter(segment_list) {\n    return frame => \n             for_each(segment =>\n                        draw_line(\n                            frame_coord_map(frame)\n                                (start_segment(segment)), \n                            frame_coord_map(frame)\n                                (end_segment(segment))), \n                      segment_list);\n} "},{"body":"\n    The segments are given using coordinates with respect to the unit square.\n    For each segment in the list, the painter transforms the segment endpoints\n    with the frame coordinate map and draws a line between the transformed\n    points.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p15","child":[{"body":"\n    Representing painters as\n    functions\n    erects a powerful abstraction barrier in the picture language.  We can\n    create and intermix all sorts of primitive painters, based on a variety of\n    graphics capabilities. The details of their implementation do not matter.\n    Any\n    function\n    can serve as a painter, provided that it takes a frame as argument and\n    draws something scaled to fit the frame.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-8","body":"8","href":"/sicpjs/2.2.4#footnote-8"}]},{"tag":"EXERCISE","title":"Exercise 2.48","id":"#ex-2.48","child":[{"body":"\n    A directed line segment in the plane can be represented as a pair of\n    \n    vectors—the vector running from the origin to the start-point of\n    the segment, and the vector running from the origin to the end-point of\n    the segment. Use your vector representation from\n    exercise ","tag":"#text"},{"tag":"REF","body":"2.46","href":"/sicpjs/2.2.4#ex-2.46"},{"body":" to define a representation for\n    segments with a constructor\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_segment"},{"body":"\n    and selectors\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"start_segment"},{"body":"\n    and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"end_segment"},{"body":".\n      ","tag":"#text"}],"solution":[{"tag":"SNIPPET","latex":false,"id":22,"eval":true,"prependLength":27,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsYosADmdBYRFiUvScjI9TYCt8p2ahLUGi0HGVDFV6s1IrFyJKKrIUtl8sV9m1BIuoG8fkd+QtRU1trlCtiTpkLVS6QoWQ4IuwliIxTI9GERtVoAAvG1rlUAAxCR76aOx+Maoi+FNpkl2bE5qM0fN0BPSv2KkvE332uy1xNqgtm-TYdv11u6IA","body":"function make_segment(v_start, v_end) {\n    return pair(v_start, v_end);\n}\nfunction start_segment(v) {\n    return head(v);\n}\nfunction end_segment(v) {\n    return tail(v);\n} "}]},{"tag":"EXERCISE","title":"Exercise 2.49","id":"#ex-2.49","child":[{"body":"\n    Use\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"segments_to_painter"},{"body":"\n    to define the following primitive painters:\n    ","tag":"#text"},{"tag":"OL","child":[{"tag":"LI","child":[{"body":"\n        The painter that draws the outline of the designated frame.\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n        The painter that draws an \"","tag":"#text"},{"body":"X","tag":"#text"},{"body":"\" by connecting opposite corners of\n        the frame.\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n        The painter that draws a diamond shape by connecting the midpoints of\n        the sides of the frame.\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n        The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" painter.\n      ","tag":"#text"}]}]}],"solution":[{"tag":"OL","child":[{"tag":"LI","child":[{"body":"\n          The painter that draws the outline of the designated frame.\n\t  ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":23,"eval":true,"prependLength":86,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsYosADmdBYRFiUvScjI9TYCt8p2ahLUGi0HGVDFV6s1IrFyJKKrIUtl8sV9m1BIuoG8fkd+QtRU1trlCtiTpkLVS6QoWQ4IvWluJbDwcgY8p4VgoMooRCELF8MpY2Mz2bxLmdrQyFGKdmTqfToDzOYzWZYJ09SKKFbTsfjibjCZYgfOxdLNoUeGqHZYQgADObmxEa-t292R93e8HaCWy2wh4v5UJHk3CjP6yh553R8vdaA14OWMOu9vUJGvRFb+xLFZtoxVFue-ig+eOKAAF4AD5QC2G5WyIY8WC-P4aV5WQwKqUpyhJOwyXuWD4KwyFZygmDMOw3lkIqG4BWWAjCMo1wayPZ98NESMQFAAAiXx4wAdzTGVQIvNMWGY10WAUEoKDoAgMgYMhM2wJi0WEUBVDkNNKCIbiyG8UBXzkXw00klhilAKg8BksB1JYK1jTIUCiF8asbMMvA0g0ksiBYKMijYhh2LYFzoMNMtLNNGzex04pVAk4QeGY3yLNVLjQLIZjVlcULwoYSL-OtZLZFSiKopizV4skpL9BS0s0oyjVgvydyImlP1FWKNgejYdRlKEnh6vtG1LzPF1n0AkC4KmPBhh8EhPE6u1-UG4beU87zfJ4ObsOfNgtPfBhP2fUQVqozrrV9bqpoasgGNZKjpjWja2A-GC9songfS6-0Tu6hiKMIl7FR8gdI0sIgy1AYgKBtCDALaa4qnHCdVgBoGQZtGs2H2CGYyqbFJ30eGrMRjV6zYFA0claGdzhmgEaIUGoOJ646LxiCLsu6Y8eRw4Hqw1mCcbXAccMggyF8o1VRR2nUJ4GHQCx7A+aoAWhZ9VGAMh8XMfJwGrLlwW+KO-1ReVmNvvLeWdYCkXsQ55mZC1hWbJR9WgZt03DqJg2Sc6NXsYpzWTdcqrtldlWbmxXcZe9-ntb9o3CbF3WHSdqOXaZq3IQT9gfR52XffYM2bQAZljjGya9jWI9t7YC7dqHOkl0Os8jnPpp+yug6NpNs+F-Pk5TgE0-9tg84dn2G87thMELmvi7D0u+59ceq-FyXpfroXo-n1um+Nkfc7H7ue9eWe7cwIey51trFSEiGjaalrz6krRLd5S92+3zeUb3-frY76OUAER-CL7tHPOf9P4zEAW-Y+qxsB9zvh1PGO1dBAA","body":"const outline_start_1 = make_vect(0, 0);\nconst outline_end_1 = make_vect(1, 0);\nconst outline_segment_1 = make_segment(outline_start_1, \n                                       outline_end_1);\nconst outline_start_2 = make_vect(1, 0);\nconst outline_end_2 = make_vect(1, 1);\nconst outline_segment_2 = make_segment(outline_start_2, \n                                       outline_end_2);\nconst outline_start_3 = make_vect(1, 1);\nconst outline_end_3 = make_vect(0, 1);\nconst outline_segment_3 = make_segment(outline_start_3, \n                                       outline_end_3);\nconst outline_start_4 = make_vect(0, 1);\nconst outline_end_4 = make_vect(0, 0);\nconst outline_segment_4 = make_segment(outline_start_4, \n                                       outline_end_4);\nconst outline_painter = segments_to_painter(\n                              list(outline_segment_1, \n                                   outline_segment_2,\n                                   outline_segment_3,\n                                   outline_segment_4)); "}]},{"tag":"LI","child":[{"body":"\n          The painter that draws an \"","tag":"#text"},{"body":"X","tag":"#text"},{"body":"\" by connecting opposite\n\t  corners of the frame.\n\t  ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":24,"eval":true,"prependLength":86,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsYosADmdBYRFiUvScjI9TYCt8p2ahLUGi0HGVDFV6s1IrFyJKKrIUtl8sV9m1BIuoG8fkd+QtRU1trlCtiTpkLVS6QoWQ4IvWluJbDwcgY8p4VgoMooRCELF8MpY2Mz2bxLmdrQyFGKdmTqfToDzOYzWZYJ09SKKFbTsfjibjCZYgfOxdLNoUeGqHZYQgADObmxEa-t292R93e8HaCWy2wh4v5UJHk3CjP6yh553R8vdaA14OWMOu9vUJGvRFb+xLFZtoxVFue-ig+eOKAAF4AD5QC2G5WyIY8WC-P4aV5WQwKqUpyhJOwyXuWD4KwyFZygmDMOw3lkIqG4BWWAjCMo1wayPZ98NESMQFAAAiXx4wAdzTGVQIvNMWGY10WAUEoKDoAgMgYMhM2wJi0WEUBVDkNNKCIbiyG8UBXzkXw00klhilAKg8BksB1JYK1jTIUCiF8asbMMvA0g0ksiBYKMijYhh2LYFzoMNMtLNNGzex04pVAk4QeGY3yLNVLjQLIZjVlcULwoYSL-OtZLZFSiKopizV4skpL9BS0s0oyjVgvydyImlP1FWKNgejYdRlKEnh6vtG1LzPF1n0AkC4KmPBhh8EhPE6u1-UG4beU87zfJ4ObsOfNgtPfBhP2fUQVqozrrV9bqpoasgGNZKjpjWja2A-GC9songfS6-0Tu6hiKMIl7FR8gdI0sIgy1AYgKBtCDALaa4qnHCdVgBoGQZtGs2H2CGYyqbFJ30eGrMRjV6zYFA0claGdzhmgEaIUGoOJ646LxiCLsu6Y8eRw4Hqw1mCcbXAccGI1VRR2nUJ4GHQCx7A+b4KrtlRgDIZF7Fd0limrOl76bTlhWjte9XDuxDnCOln1lalgWbSJ+X0c6THycBtWZcJ4WbjF03Vf5jWnatyUNf4c3CaZ5mZmNmzCbtoHpbaxUhIhjWmpaqOpK0Q3eUvP3PYNoPAXV6afuFfRsEjjRo60PGdt0IA","body":"const x_start_1 = make_vect(0, 0);\nconst x_end_1 = make_vect(1, 1);\nconst x_segment_1 = make_segment(x_start_1, \n                                 x_end_1);\nconst x_start_2 = make_vect(1, 0);\nconst x_end_2 = make_vect(0, 1);\nconst x_segment_2 = make_segment(x_start_2, \n                                 x_end_2);\nconst x_painter = segments_to_painter(\n                              list(x_segment_1, \n                                   x_segment_2)); "}]},{"tag":"LI","child":[{"body":"\n          The painter that draws a diamond shape by connecting the midpoints of\n          the sides of the frame.\n\t  ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":25,"eval":true,"prependLength":86,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsYosADmdBYRFiUvScjI9TYCt8p2ahLUGi0HGVDFV6s1IrFyJKKrIUtl8sV9m1BIuoG8fkd+QtRU1trlCtiTpkLVS6QoWQ4IvWluJbDwcgY8p4VgoMooRCELF8MpY2Mz2bxLmdrQyFGKdmTqfToDzOYzWZYJ09SKKFbTsfjibjCZYgfOxdLNoUeGqHZYQgADObmxEa-t292R93e8HaCWy2wh4v5UJHk3CjP6yh553R8vdaA14OWMOu9vUJGvRFb+xLFZtoxVFue-ig+eOKAAF4AD5QC2G5WyIY8WC-P4aV5WQwKqUpyhJOwyXuWD4KwyFZygmDMOw3lkIqG4BWWAjCMo1wayPZ98NESMQFAAAiXx4wAdzTGVQIvNMWGY10WAUEoKDoAgMgYMhM2wJi0WEUBVDkNNKCIbiyG8UBXzkXw00klhilAKg8BksB1JYK1jTIUCiF8asbMMvA0g0ksiBYKMijYhh2LYFzoMNMtLNNGzex04pVAk4QeGY3yLNVLjQLIZjVlcULwoYSL-OtZLZFSiKopizV4skpL9BS0s0oyjVgvydyImlP1FWKNgejYdRlKEnh6vtG1LzPF1n0AkC4KmPBhh8EhPE6u1-UG4beU87zfJ4ObsOfNgtPfBhP2fUQVqozrrV9bqpoasgGNZKjpjWja2A-GC9songfS6-0Tu6hiKMIl7FR8gdI0sIgy1AYgKBtCDALaa4qnHCdVgBoGQZtGs2H2CGYyqbFJ30eGrMRjV6zYFA0claGdzhmgEaIUGoOJ646LxiCLsu6Y8eRw4Hqw1mCcbXAcdAHSExobYAtVFHadQnhxzQABWWHsYpqyBboIWqu2VGAMhiXMZl8nAcVihBZso7-TFjWY2+uwlZVkWbWxDnmZkK2jZ9XdsD5p3hcOomzZJzptel3WgY91XCfFm4pdl0BXfdg3laNi3Q5964LZ4YObcJpmHchYOfR5mPDc9yy2AAZjD6GZbJ+W9f52OVZ9Uuk4lmHQAjwP9YL42fobzXO8t2v48O4vM6zgEc6N4u25rjv08wMvOmb1uq6D-vth9WfG-DiuW8ntPpp+9ee5TtPDswYeR9eMftkwHeV9ajRFSEiGLaalq2ofrR7d5S9U9vhO7fPi+v8942hQAIT+hFd6nRLmAgBMxIHdTYNfVY2Bg5vykloPGO1dBAA","body":"const diamond_start_1 = make_vect(0.5, 0);\nconst diamond_end_1 = make_vect(1, 0.5);\nconst diamond_segment_1 = make_segment(diamond_start_1, \n                                       diamond_end_1);\nconst diamond_start_2 = make_vect(1, 0.5);\nconst diamond_end_2 = make_vect(0.5, 1);\nconst diamond_segment_2 = make_segment(diamond_start_2, \n                                       diamond_end_2);\nconst diamond_start_3 = make_vect(0.5, 1);\nconst diamond_end_3 = make_vect(0, 0.5);\nconst diamond_segment_3 = make_segment(diamond_start_3, \n                                       diamond_end_3);\nconst diamond_start_4 = make_vect(0, 0.5);\nconst diamond_end_4 = make_vect(0.5, 0);\nconst diamond_segment_4 = make_segment(diamond_start_4, \n                                       diamond_end_4);\nconst diamond_painter = segments_to_painter(\n                              list(diamond_segment_1, \n                                   diamond_segment_2,\n                                   diamond_segment_3,\n                                   diamond_segment_4)); "}]}]}]},{"tag":"SUBHEADING","id":"#h5","child":[{"body":"Transforming and combining painters","tag":"#text"}]},{"tag":"TEXT","id":"#p16","child":[{"body":"\n    An operation on painters (such as\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_vert"},{"body":"\n    or ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":")\n    works by creating a painter that invokes the original painters with respect\n    to frames derived from the argument frame. Thus, for example,\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_vert"},{"body":"\n    doesn't have to know how a painter works in order to flip\n    it—it just has to know how to turn a frame upside down: The flipped\n    painter just uses the original painter, but in the inverted frame.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p17","child":[{"body":"\n    Painter operations are based on the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"transform_painter"},{"body":",\n      \n    which takes as arguments a painter and information on how to transform a\n    frame and produces a new painter.  The transformed painter, when called on\n    a frame, transforms the frame and calls the original painter on the\n    transformed frame. The arguments to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"transform_painter"},{"body":"\n    are points (represented as vectors) that specify the corners of the new\n    frame: When mapped into the frame, the first point specifies the new\n    frame's origin and the other two specify the ends of its edge vectors.\n    Thus, arguments within the unit square specify a frame contained within the\n    original frame.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":26,"eval":true,"prependLength":115,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKxLYxRYSrlRFib90jkMh6jYFgiF8NMawDUB1E0ewgIYECwIgqCi0KCIzWQrMfz-CDYmgodUm8Px7FjYsIjQ79f3-QjB1rWh0goLIOHfEBQAAIl8GUAHdVSVKdjVVFhONAbwFBKCg6AIDIGDIDVsA4tFhDguRVUoIhBLIbxQC7ORfFVeSWGKV08CUsAdJYEpgLIKdIOtByqDwNJdJNIgWA-CIeIYXi2Hc+UOCQlCcXAyCiMM4pVDk4QeE4gKbJwgSpzITjVlcSLooYWKguwkD0tkTKYrihK0OS+S0v0DLTSynKwvQ1s4yw2iCOKNgejYeCAJYLQ8Lo-zTTIIjGNADsx0nZcpjwYYfBITweD6gjxsm3kfL8gKeBWg8OzYfSewYPtFy2h8Ftsmj8IAhaWoA09WQfaYdr2thexPY77x4ajFsur6htu-4Hx+gazXfSwiDNV0CDIALgqzfYxzaa4qijaNVlB8GqEh6HqLh0cEa3HhsRjfQ0bsjGoZE87+pxvHKYIhVMYpvLYbu+7eTJrHILYQtsBJiHyY8mG2BQeGvyqQnUZodGGYF6jhdx0XOmxbnefZxnrqzOWaZ++n+fYJmhZZ1naVVmXOZbFXpb1s6AGYRclMWCwlsHSct+q2Ft+X7c6ZHQGVyWXd12mAPdu3rm1k2rZw93DaNwEI7d62nalwP9cwUP8Z9v3nb5jntjTz3Ee9lHif9nO1YurN8619Wdeh1OY9jt54+ozAk4D6GuoUuR4Z+tqOs7nrNsb1xM1r8uqYb4eZHjwGUAEN77pn9Xo4Xh8l4rthW9WHnS+ICgs1ndObh9omd+zvesxtLmj4d0BT95i-wPtIWb6L3229AR+xoL9gX0f2dJ6s0flfQ4q9eTAOfi2LytA8AmlUDYECPAB6NANDBI0ZAZRg2mnIOgnUNDdS0Mg+eU8aZI0dkIUAHEPK8VdOpS0YDaQK14ErP4lCwDUMcr4My1p7T7AYZCJhdgT6nl0Gw0AHC0LcKfI1SiTFMHFGwbg5BSD8FdyEAAvSVgPIHCEFEbR+ozgjW-pOVBAJeZ0Hho9Kg3ZnoHRPFVSEvNqFsEPvLBUdDVQFUBCNZRX4Xz8LZM4gBATaSogxFUOgPA9E9UeEIIJHiiDjBCZCMJNxInRLkCcOJLA-KzjfA4t4Bh8hn3BrAigqhVAahca7ZBY4VplPgVwRB8dkHbwaZU7YLTVGDy-j6PIQA","body":"function transform_painter(painter, origin, corner1, corner2) {\n    return frame => {\n             const m = frame_coord_map(frame);\n             const new_origin = m(origin);\n             return painter(make_frame(\n                                new_origin,\n                                sub_vect(m(corner1), new_origin),\n                                sub_vect(m(corner2), new_origin)));\n           };\n} "}]},{"tag":"TEXT","id":"#p18","child":[{"body":"\n    Here's how to flip painter images vertically:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":27,"eval":true,"prependLength":119,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfIPwiITihYJU5Qg+w2DNBg5DIeo2BYIhfDTGsAz4jQtA4Fz0nczzvN8otCgiVz3Jc+zHNiPyh1Sbw-HsWNiwiSKEoc7zksHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWCq0BvAUEoKDoAgMgYEDfGwSq0WEPiOIghq0m8UBSN8VV+pYYpXTwIawDIaa4vwhgfOtHaqDwKaWGa+DrNoWqGCYk14OczaIp8lK5uKVQ+uEHgqquo7Nsm-qqu42RHuehhXpCza-pkAGXrej7drmohGp+sHQAhoHnMi9841ixKCuKNgekAjQINAng7PyiC2EzFLeIwid-khP9rB8EhPGJrGIMwjTaXOy6Wp4DmV2I2a2F7E8+fPYmwqzEmkpZ0myFPVlZNmH0SKobshYokXFdeHhcqlgqZaSt8FfvPWyYpqzaPwqgCDID7QrcrN9lYyUqijaNVkt10bbt3KndHNpriqbEY30T3rdtlq8qStg-YD9hTfNb3I82mPja1wFw59nyY49mg6Mz5OJbYFBncDzpg9zvCvYj+CvOzkv-aEoOC0r-Ok9rhPi9L+PWcTmv46LlA0-Tt4C9r3KWzD9uB4dtgAGZu5ubFC2wKf+7r7YF8bl3Ojd0AV7Xu3O63uOo-1seZ-iufh5HmYL43+fW6t6f7fizBF9dlvQ7z5-19y9-t5l14HvEOq8f7VyPr3NgADT4JwVC-FOmAb63ymPff+T8IGR34qBQiCccZ42wVoUWK5MzwPXp3bExD7z307kPKh54aFQOvvQg8jDZbQLMrgT2xAKBZhYoArcPAQEYJ4VmG0McP7l3dt-KuoivL2i7gIm4e8D7gLkdTU+L45EwVprfOR4jDgsMhPohRLZTpERNKoGw7keCEMpgFL821fz-nxsBImhDpIoKbrvFuQhQCVUYq6EyRAjEAm8bwZefx-FgECZFZa1p7T7FCW8cJdhhF5GifRFgDEYbxKfK2T2eBLGqA1MxF+hCxwySKRQKxXAbH3zsfofAxTSkNIJgJdRPo8hAA","body":"function flip_vert(painter) {\n    return transform_painter(painter,\n                             make_vect(0, 1),  // new origin\n                             make_vect(1, 1),  // new end of edge1\n                             make_vect(0, 0)); // new end of edge2\n} "},{"body":"\n    Using\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"transform_painter"},{"body":",\n      we can easily define new transformations.      \n      For example, we can declare a\n      painter that shrinks its image to the upper-right quarter of the frame\n      it is given:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":28,"eval":true,"prependLength":119,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfIPwiITihYJU5Qg+w2DNBg5DIeo2BYIhfDTGsAz4jQtA4Fz0nczzvN8otCgiVz3Jc+zHNiPyh1Sbw-HsWNiwiSKEoc7zksHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWCq0BvAUEoKDoAgMgYEDfGwSq0WEPiOIghq0m8UBSN8VV+pYYpXTwIawDIaa4vwhgfOtHaqDwKaWGa+DrNoWqGCYk14OczaIp8lK5uKVQ+uEHgqquo7Nsm-qqu42RHuehhXpCza-pkAGXrej7drmohGp+sHQAhoHnMi9841ixKCuKNgekAjQINAng7PyiC2EzFLeIwid-khP9rB8EhPGJrGIMwjTaXOy6Wp4DmV2I2a2F7E8+fPYmwqzEmkpZ0myFPVlZNmH0SKobshYokXFdeHhcqlgqZaSt8FfvPWyYpqzaPwqgCDID7QrcrN9lYyUqijaNVkt10bbt3KndHNpriqbEY30T3rdtlq8qStg-YD9hTfNb3I82mPja1wFw59nyY49mg6Mz5OJbYFBncDzpg9zvCvYj+CvOzkv-aEoOC0r-Ok9rhPi9L+PWcTmv46LlA0-Tt4C9r3KWzD9uB4dtgAGZu5ubFC2wKf+7r7YF8bl3Ojd0AV7Xu3O63uOo-1seZ-iufh5HmYL43+fW6t6f7fizBF9dlvQ7z5-19y9-t5l14HvEOq8f7VyPr3NgADT4JwVC-FOmAb63ymPff+T8IGR34qBQiCccZ42wVoUWK5MzwPXp3bExD7z307kPKh54aFQOvvQg8jDZbQLMrgT2xAKBZhYoArcPAQEYJ4VmG0McP7l3dt-KuoivL2i7gIm4e8D7gLkdTU+L45EwVprfOR4jDgsMhPohRLZTolE8ONJguMqBsAIKoVQoEQzKk8HYQhlMApfm2r+f8+NgJE0IdJFBTdd5oAAKzRnCepYJO9eDByiUE2+ITgHhJbu+T2xRLHEGsffQhY4ZKZKsTYuxDinGSVcWQu27j9DYEKdk5iL9CE8HUT6PIQA","body":"function shrink_to_upper_right(painter) {\n    return transform_painter(painter,\n                             make_vect(0.5, 0.5),\n                             make_vect(1, 0.5),\n                             make_vect(0.5, 1));\n} "},{"body":"\n    Other transformations rotate images counterclockwise by 90\n    degrees","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-9","body":"9","href":"/sicpjs/2.2.4#footnote-9"},{"tag":"SNIPPET","latex":false,"id":29,"eval":true,"prependLength":119,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfIPwiITihYJU5Qg+w2DNBg5DIeo2BYIhfDTGsAz4jQtA4Fz0nczzvN8otCgiVz3Jc+zHNiPyh1Sbw-HsWNiwiSKEoc7zksHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWCq0BvAUEoKDoAgMgYEDfGwSq0WEPiOIghq0m8UBSN8VV+pYYpXTwIawDIaa4vwhgfOtHaqDwKaWGa+DrNoWqGCYk14OczaIp8lK5uKVQ+uEHgqquo7Nsm-qqu42RHuehhXpCza-pkAGXrej7drmohGp+sHQAhoHnMi9841ixKCuKNgekAjQINAng7PyiC2EzFLeIwid-khP9rB8EhPGJrGIMwjTaXOy6Wp4DmV2I2a2F7E8+fPYmwqzEmkpZ0myFPVlZNmH0SKobshYokXFdeHhcqlgqZaSt8FfvPWyYpqzaPwqgCDID7QrcrN9lYyUqijaNVkt10bbt3KndHNpriqbEY30T3rdtlq8qStg-YD9hTfNb3I82mPja1wFw59nyY49mg6Mz5OJbYFBncDzpg9zvCvYj+CvOzkv-aEoOC0r-Ok9rhPi9L+PWcTmv46LlA0-Tt4C9r3KWzD9uB4dtgAGZu5ubFC2wKf+7r7YF8bl3Ojd0AV7Xu3O63uOo-1seZ-iufh5HmYL43+fW6t6f7fizBF9dlvQ7z5-19y9-t5l14HvEOq8f7VyPr3NgADT4JwVC-FOmAb63ymPff+T8IGR34qBQiCccZ42wVoUWK5MzwPXp3bExD7z307kPKh54aFQOvvQg8jDZbQLMrgT2xAKBZhYoArcPAQEYJ4VmG0McP7l3dt-KuoivL2i7gIm4e8D7gLkdTU+L45EwVprfOR4jDgsMhPohRLZTryCoOkECABOKMPBCGUwCl+bav5-z42AkTQh0kUFNykaAGM3jb6+N4MvdSPid7APdu+T2chLELW2PfQhY4ZKxKsSwWxZC7YOP0NgVJ8TmIv0ITwdRPo8hAA","body":"function rotate90(painter) {\n    return transform_painter(painter,\n                             make_vect(1, 0),\n                             make_vect(1, 1),\n                             make_vect(0, 0));\n} "},{"body":"\n    or squash images towards the center of the frame:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-10","body":"10","href":"/sicpjs/2.2.4#footnote-10"},{"tag":"SNIPPET","latex":false,"id":30,"eval":true,"prependLength":119,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfIPwiITihYJU5Qg+w2DNBg5DIeo2BYIhfDTGsAz4jQtA4Fz0nczzvN8otCgiVz3Jc+zHNiPyh1Sbw-HsWNiwiSKEoc7zksHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWCq0BvAUEoKDoAgMgYEDfGwSq0WEPiOIghq0m8UBSN8VV+pYYpXTwIawDIaa4vwhgfOtHaqDwKaWGa+DrNoWqGCYk14OczaIp8lK5uKVQ+uEHgqquo7Nsm-qqu42RHuehhXpCza-pkAGXrej7drmohGp+sHQAhoHnMi9841ixKCuKNgekAjQINAng7PyiC2EzFLeIwid-khP9rB8EhPGJrGIMwjTaXOy6Wp4DmV2I2a2F7E8+fPYmwqzEmkpZ0myFPVlZNmH0SKobshYokXFdeHhcqlgqZaSt8FfvPWyYpqzaPwqgCDID7QrcrN9lYyUqijaNVkt10bbt3KndHNpriqbEY30T3rdtlq8qStg-YD9hTfNb3I82mPja1wFw59nyY49mg6Mz5OJbYFBncDzpg9zvCvYj+CvOzkv-aEoOC0r-Ok9rhPi9L+PWcTmv46LlA0-Tt4C9r3KWzD9uB4dtgAGZu5ubFC2wKf+7r7YF8bl3Ojd0AV7Xu3O63uOo-1seZ-iufh5HmYL43+fW6t6f7fizBF9dlvQ7z5-19y9-t5l14HvEOq8f7VyPr3NgADT4JwVC-FOmAb63ymPff+T8IGR34qBQiCccZ42wVoUWK5MzwPXp3bExD7z307kPKh54aFQOvvQg8jDZbQLMrgT2xAKBZhYoArcPAQEYJ4VmG0McP7l3dt-KuoivL2i7gIm4e8D7gLkdTU+L45EwVprfOR4jDgsMhPohRLZTolAAI4EAYMUTwbBVQMTcr4YoPBCGUwCl+bav5-z42AkTQh0kUFN13u7QJt9gnALQAANgAKzRjQHPGJ6kgk70iYk+JsTOFGDAVXYoVibHeG2PfQhY4ZJ5OsbY+xRBHFkRccUgmkFVjYHKQUjUzEX6EJ4Oon0eQgA","body":"function squash_inwards(painter) {\n    return transform_painter(painter,\n                             make_vect(0, 0),\n                             make_vect(0.65, 0.35),\n                             make_vect(0.35, 0.65));\n} "}]},{"tag":"TEXT","id":"#p19","child":[{"body":"\n    Frame transformation is also the key to\n    defining means of combining two or more painters.\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":"function,\n    for example, takes two painters, transforms them to paint in the left and\n    right halves of an argument frame respectively, and produces a new,\n    compound painter. When the compound painter is given a frame, it calls the\n    first transformed painter to paint in the left half of the frame and calls\n    the second transformed painter to paint in the right half of the frame:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":31,"eval":true,"prependLength":111,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfJsFo-DiAoLMWNHNpriqKNo1WGzQDsrMbTYfZWMlKpsRjfRPO8thfJQAKXM6NzQELayaDo8KMKcoSX3CmD-lk6Zwt8w4NPPPL7TYFsPwiITihYJU5Qg+w2DNBg5DIeoIqIXw0xrAM+I0LQOAa9Jmtalh2tjYsIka5qGuq2rYk6odUm8Px7DGwoIhG7Yqpqka5sHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWDO0BvAUEoKDoAgMgYEDfGwU60WEPiOIgm60m8UBSN8VVvpYYpXTwP6wDIcHJvwhh2utDGqDwMGWHu+DytoS6GCYk14Pq1HhtGwcoeKVQvuEHgzrJvHUdB76zu42RafphhGf61GuZkHmGaZlnMahohbo5oXQBFvn6o2984wmmaduKNgekAjQINAngttmthM3m3jUsnQqiOGHwSE8fW1YgzCLcBYnSYengnbZYjIbYXsTw9-d9cGrMDZ2u3tog09WRy2QvaobsfYov3o5mHgNum8O7BDiPI+y+8s6zY2rM8vgBqarN-LSwLYvc0Kkvwku04r5ytx4bEEuL9PDabyr7e3Uupuxf39wb9q-I8uvBn7rMosrmLeGC8e8MntOZ+bm44vbieS-z0rovYfP+Cn0qo+TqYR+2FsO-40DCPzjWtevrQh9pTND53wfT9ebfe9KszcBLx+PAUo+lWITUAaJYYUF8PKR+2JH4oVcJ5OmJosyqCoMBPe680AAFYa5nE8vxI2OZ8KES-OjX8-5tbAT1rA6Sn82RCVcu5Oh9DITIPsoBdBEEWGsIBIw6u8U-6IInoQySnh8JOTIT+P8cgAKAPgTw3hrx2GoK4S1Z+OV+Hz2YRo2SWi7BRhwQWIR6ZUhm0HICQhFQ8B2Coh7URypxEnnMm8SyrYIHFCgfKABOtIJCB8dQ3IQCiAcKokAA","body":"function beside(painter1, painter2) {\n    const split_point = make_vect(0.5, 0);\n    const paint_left  = transform_painter(painter1,\n                                          make_vect(0, 0),\n                                          split_point,\n                                          make_vect(0, 1));\n    const paint_right = transform_painter(painter2,\n                                          split_point,\n                                          make_vect(1, 0),\n                                          make_vect(0.5, 1));\n    return frame => {\n               paint_left(frame);\n               paint_right(frame);\n           };\n} "}]},{"tag":"TEXT","id":"#p20","child":[{"body":"\n    Observe how the painter data abstraction, and in particular the\n    representation of painters as\n    functions,\n    makes\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" easy to implement.  The\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":"function\n    need not know anything about the details of the component painters other\n    than that each painter will draw something in its designated frame.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 2.50","id":"#ex-2.50","child":[{"body":"Declare\n    the transformation\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_horiz"},{"body":",\n    which flips painters horizontally, and transformations that rotate painters\n    counterclockwise by 180 degrees and 270 degrees.\n    ","tag":"#text"}],"solution":[{"tag":"OL","child":[{"tag":"LI","child":[{"body":"\n\t  The transformation \n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flip_horiz"},{"body":":\n\t    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":32,"eval":true,"prependLength":111,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfJsFo-DiAoLMWNHNpriqKNo1WGzQDsrMbTYfZWMlKpsRjfRPO8thfJQAKXM6NzQELayaDo8KMKcoSX3CmD-lk6Zwt8w4NPPPL7TYFsPwiITihYJU5Qg+w2DNBg5DIeoIqIXw0xrAM+I0LQOAa9Jmtalh2tjYsIka5qGuq2rYk6odUm8Px7DGwoIhG7Yqpqka5sHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWDO0BvAUEoKDoAgMgYEDfGwU60WEPiOIgm60m8UBSN8VVvpYYpXTwP6wDIcHJvwhh2utDGqDwMGWHu+DytoS6GCYk14Pq1HhtGwcoeKVQvuEHgzrJvHUdB76zu42RafphhGf61GuZkHmGaZlnMahohbo5oXQBFvn6o2984wmmaduKNgekAjQINAngttmthM3m3jUsnQqiOGHwSE8fW1YgzCLcBYnSYengnbZYjIbYXsTw9-d9cGrMDZ2u3tog09WRy2QvaobsfYov3o5mHgNum8O7BDiPI+y+8s6zY2rM8vgBqarN-LSwLYvc0Kkvwku04r5ytx4bEEuL9PDabyr7e3Uupuxf39wb9q-I8uvBn7rMosrmLeGC8e8MntOZ+bm44vbieS-z0rovYfP+Cn0qo+TqYR+2FsO-40DCPzjWtevrQh9pTND53wfT9ebfe9KszcBLx+PAUo+lWITIiJpVBsE8IqAAXjwR+JtupfnRr+f82tgJ60ftJXkQkgruSEKAU6jFXQmSIB7XB1dQAxgIUQlgDEJbw2tPafY5Cq7zwLGZQhYBiEbUYU+VseAIFQNgYfBBQCiD2XnHkIAA","body":"function flip_horiz(painter) {\n    return transform_painter(painter,\n               make_vect(1, 0),  // new origin\n               make_vect(0, 0),  // new end of edge1\n               make_vect(1, 1)); // new end of edge2\n} "}]},{"tag":"LI","child":[{"body":"\n\t  The transformation \n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rotate180"},{"body":":\n\t    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":33,"eval":true,"prependLength":111,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfJsFo-DiAoLMWNHNpriqKNo1WGzQDsrMbTYfZWMlKpsRjfRPO8thfJQAKXM6NzQELayaDo8KMKcoSX3CmD-lk6Zwt8w4NPPPL7TYFsPwiITihYJU5Qg+w2DNBg5DIeoIqIXw0xrAM+I0LQOAa9Jmtalh2tjYsIka5qGuq2rYk6odUm8Px7DGwoIhG7Yqpqka5sHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWDO0BvAUEoKDoAgMgYEDfGwU60WEPiOIgm60m8UBSN8VVvpYYpXTwP6wDIcHJvwhh2utDGqDwMGWHu+DytoS6GCYk14Pq1HhtGwcoeKVQvuEHgzrJvHUdB76zu42RafphhGf61GuZkHmGaZlnMahohbo5oXQBFvn6o2984wmmaduKNgekAjQINAngttmthM3m3jUsnQqiOGHwSE8fW1YgzCLcBYnSYengnbZYjIbYXsTw9-d9cGrMDZ2u3tog09WRy2QvaobsfYov3o5mHgNum8O7BDiPI+y+8s6zY2rM8vgBqarN-LSwLYvc0Kkvwku04r5ytx4bEEuL9PDabyr7e3Uupuxf39wb9q-I8uvBn7rMosrmLeGC8e8MntOZ+bm44vbieS-z0rovYfP+Cn0qo+TqYR+2FsO-40DCPzjWtevrQh9pTND53wfT9ebfe9KszcBLx+PAUo+lWITeQVB0ggX2AADijDwR+JtupfnRr+f82tgJ6w9o-E+kIhJBQLH8UAp1GKuhMkQD2eDq7xUIcQlgDEJbw2tPafYFCq7z3cnkIhYASEbUYU+VscgIEwxgXAgBOtIKiCAUQey848hAA","body":"function rotate180(painter) {\n    return transform_painter(\n               painter, \n               make_vect(1, 1),  // new origin\n               make_vect(0, 1),  // new end of edge1\n               make_vect(1, 0)); // new end of edge2\n} "}]},{"tag":"LI","child":[{"body":"\n\t  The transformation \n          ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rotate270"},{"body":":\n\t    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":34,"eval":true,"prependLength":111,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfJsFo-DiAoLMWNHNpriqKNo1WGzQDsrMbTYfZWMlKpsRjfRPO8thfJQAKXM6NzQELayaDo8KMKcoSX3CmD-lk6Zwt8w4NPPPL7TYFsPwiITihYJU5Qg+w2DNBg5DIeoIqIXw0xrAM+I0LQOAa9Jmtalh2tjYsIka5qGuq2rYk6odUm8Px7DGwoIhG7Yqpqka5sHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWDO0BvAUEoKDoAgMgYEDfGwU60WEPiOIgm60m8UBSN8VVvpYYpXTwP6wDIcHJvwhh2utDGqDwMGWHu+DytoS6GCYk14Pq1HhtGwcoeKVQvuEHgzrJvHUdB76zu42RafphhGf61GuZkHmGaZlnMahohbo5oXQBFvn6o2984wmmaduKNgekAjQINAngttmthM3m3jUsnQqiOGHwSE8fW1YgzCLcBYnSYengnbZYjIbYXsTw9-d9cGrMDZ2u3tog09WRy2QvaobsfYov3o5mHgNum8O7BDiPI+y+8s6zY2rM8vgBqarN-LSwLYvc0Kkvwku04r5ytx4bEEuL9PDabyr7e3Uupuxf39wb9q-I8uvBn7rMosrmLeGC8e8MntOZ+bm44vbieS-z0rovYfP+Cn0qo+TqYR+2FsO-40DCPzjWtevrQh9pTND53wfT9ebfe9KszcBLx+PAUo+lWITeQVB0ggRQAAdijDwR+JtupfnRr+f82tgJ6w9o-E+kIhKuQLH8UAp1GKuhMkQD2eDq6gBjEIIhYASEbXhtae0+wKFV3nu5PIdD6IsAYhLJhT5WxyAgTDGBcCAE60gqIIBRB7LzjyEAA","body":"function rotate270(painter) {\n    return transform_painter(\n               painter, \n               make_vect(0, 1),  // new origin\n               make_vect(0, 0),  // new end of edge1\n               make_vect(1, 0)); // new end of edge2\n} "}]}]}]},{"tag":"EXERCISE","title":"Exercise 2.51","id":"#ex-2.51","child":[{"body":"Declare\n    the\n     ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":" operation for painters.\n    The function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":"\n    takes two painters as arguments. The resulting painter, given a frame, \n\tdraws with the first painter in the bottom of the frame and with the\n\tsecond painter in the top.\n    Define ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":" in two different\n    ways—first by writing a\n    function\n    that is analogous to the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":"function\n    given above, and again in terms of ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" and\n    suitable rotation operations (from exercise ","tag":"#text"},{"tag":"REF","body":"2.50","href":"/sicpjs/2.2.4#ex-2.50"},{"body":").\n    ","tag":"#text"}],"solution":[{"tag":"OL","child":[{"tag":"LI","child":[{"body":"\n\t  First the direct method:\n          ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":35,"eval":true,"prependLength":111,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQBbAQwGsBTAfQDcXyAKADwA0oAJ4BKUAG9soGaABOLMgTm0ADgwpz+QsQG5sAX3zFy1WnxJU5nbmR5dyV8VNnzFy2gAsWDACb3bJ30jQlJKGhFLawc7GKdJaVkFJRVQMg0AGwDHOVFg4zCzUABnEgYM9hiePAYcoTjchNdkj3pmSttq2rIrUAAqUAsrG14G0SFE1ynp1xqc-sjhqrG8wwLTCL9fEdjAuQBGer2UZ0m3FNpGVh3+KJuG-fFQM5nXmQBqQbvl4-Hnt4BMmE306DyeL0BU0+wKWoN+qxCJnCtGKBAARvc9odQA0Tk0ku5UlcOrwhtE4TlHjIIZDZABaL6w0a-Ca014w8nMyngtkzBkczE5E4I3ChDaXdpsPByBh0Fg8KwUADmFCIQhYviVLGxGq1eJcBIuoAyFGKdkVKrVoF12vVmpYJ3yYuRoAtqqlMrl1U9LFOzUJtBNZrYCjw3tlLCEAAYRc6ijb9h6I+G5X7Da0g2QQyww9KI0JHk6kfH7Sgk1686n8TIWqlM9ncz6hI61usXZX2JYrNtGKoU77q+dWhxQABeAB8oC2NzdRHL8o7fxpvNk06qpXKJLsZPuS5X+8hCfn-dEe4PvI3FRuAuWZ-P99cNrLHZPp5FbaKZBlRGKeCsdDYdRVTIFgtCAogQLkIRZyEKIiFA7E4NA-UzlrWgOzHScDUBSwfzIegx1ADs2C7OQewYPtF30WlcLNUB4IAdzYWdCLoBU5GVVVVlpNDQHAyCeGJY9lwfWRGOYjjLQEETRJKdEbjYpCDj+cTZ3GGTRNRDEqkUqx4LkE4hFUySuNPaiAQMfJsFo-DiAoLMWNHNpriqKNo1WGzQDsrMbTYfZWMlKpsRjfRPO8thfJQAKXM6NzQELayaDo8KMKcoSX3CmD-lk6Zwt8w4NPPPL7TYFsPwiITihYJU5Qg+w2DNBg5DIeoIqIXw0xrAM+I0LQOAa9Jmtalh2tjYsIka5qGuq2rYk6odUm8Px7DGwoIhG7Yqpqka5sHXj0goLIOHfEBQAAIl8GUGNVJUp2NVUWDO0BvAUEoKDoAgMgYEDfGwU60WEPiOIgm60m8UBSN8VVvpYYpXTwP6wDIcHJvwhh2utDGqDwMGWHu+DytoS6GCYk14Pq1HhtGwcoeKVQvuEHgzrJvHUdB76zu42RafphhGf61GuZkHmGaZlnMahohbo5oXQBFvn6o2984wmmaduKNgekAjQINAngttmthM3m3jUsnQqiOGHwSE8fW1YgzCLcBYnSYengnbZYjIbYXsTw9-d9cGrMDZ2u3tog09WRy2QvaobsfYov3o5mHgNum8O7BDiPI+y+8s6zY2rM8vgBqarN-LSwLYvc0Kkvwku04r5ytx4bEEuL9PDabyr7e3Uupuxf39wb9q-I8uvBn7rMosrmLeGC8e8MntOZ+bm44vbieS-z0rovYfP+Cn0qo+TqYR+2FsO-40DCPzjWtevrQh9pTND53wfT9ebfe9KszcBLx+PAUo+lWITUAaIWAZCoAxHgj9sSPxQq4TydMTRZlUFQYCe917RjQAAVllp5fibACCqFUDfUcy4vzo1-P+bWwE9ZwOksnFB9lAIYIgkw6OQkgo4PwZwnK3Dq7xT-kgieRCoEMXIZQ78NC5AAUAQg-hslBG8DijGJRokVF2AXhoh8LC0HsLILLU2PpMKDkBEQkhZCtBUQ9uI6BetbGAksq2CBEjD6PyEAAnWkFRBAKIKwqiQA","body":"function below(painter1, painter2) {\n    const split_point = make_vect(0, 0.5);\n    const paint_upper =\n        transform_painter(painter1,\n                          split_point,\n                          make_vect(1, 0.5),\n                          make_vect(0, 1));\n    const paint_lower =\n        transform_painter(painter2,\n                          make_vect(0, 0),\n                          make_vect(1, 0),\n                          split_point);\n    return frame => {\n               paint_upper(frame);\n               paint_lower(frame);\n           };\n} "}]},{"tag":"LI","child":[{"body":"\n\t  Now the version with rotation and\n\t  ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":":\n          ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":36,"eval":true,"prependLength":32,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsDMBXAOwGMAXASwHsjQAjAUwGcKATBgCgAcBDCosgwBOARgA0oXv0FCUASlABvbKFWgSNJmVBMuAGwpkA+lyrTQAXlABbHgGsGRgG4NyHAAxoArBPdyA3CpqGkRaknwCRnoMeNqWoGRCPKF4VELWJhEy3FnC4kFqhUXFJaUltg7OrmQevnJiBWVNzWW6Bsam0g0tPb1qFY4ubu4SInIBjSFhUpFCFADmABbaVonJTKnpmdLCOTuy3X1HTW2GJmYCh8fXRQNVbuKgflc3r3dDNZ4+oGMThUIMMgEIS0PBJawMSwAPiUjWaM2M0ViHDBPAhf16CKMcyWNVR6MCzQAvoEibhCKRKDRQEIqGQeIIAJzuPYCYQKZT-QHA2hrFJpDII3ZCoQvV63eyDaocR7POHi-qS+41R5jMUK1TvaUjJ7jUnk4jkai0Wn0wQoADsLJFHMaAKBIISSX5WxFHHlZRFEg9pS1w1G9VUIFARAYAHdQGkFvwfeUlR9arqJKBg6GIwwiKxI3hQAxWPMGCJY8U-Sq6gEU2A07nM9nc-mGChsGT8IaqbRGHoqGHWTJHiL5LCuQ6TXSGY2rRxGCx2BxTePmb28vVi9d50zrblZOMJi3O92OAAPbZs0WgY82jjEM74hgBIA","body":"function below(painter1, painter2) {\n    return rotate270(beside(rotate90(painter1),\n                            rotate90(painter2)));\n} "}]}]}]},{"tag":"SUBHEADING","id":"#h6","child":[{"body":"Levels of language for robust design","tag":"#text"}]},{"tag":"TEXT","id":"#p21","child":[{"body":"\n    The picture language exploits some of the critical ideas we've\n    introduced about abstraction with\n    functions\n    and data.  The fundamental data abstractions, painters, are implemented\n    using\n    \n        functional\n      \n    representations, which enables the language to handle different basic\n    drawing capabilities in a uniform way.  The means of combination satisfy\n    the closure property, which permits us to easily build up complex designs.\n    Finally, all the tools for abstracting\n    functions\n    are available to us for abstracting means of combination for painters.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p22","child":[{"body":"\n    We have also obtained a glimpse of another crucial idea about languages and\n    program design.  This is the approach of\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"stratified design","tag":"#text"}]},{"body":", the notion that a complex system should be\n    structured as a sequence of levels that are described using a sequence of\n    languages. Each level is constructed by combining parts that are regarded\n    as primitive at that level, and the parts constructed at each level are\n    used as primitives at the next level.  The language used at each level\n    of a stratified design has primitives, means of combination, and means\n    of abstraction appropriate to that level of detail.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p23","child":[{"body":"\n    Stratified design pervades the engineering of complex systems.  For\n    example, in computer engineering, resistors and transistors are\n    combined (and described using a language of analog circuits) to\n    produce parts such as and-gates and or-gates, which form the\n    primitives of a language for digital-circuit design.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-11","body":"11","href":"/sicpjs/2.2.4#footnote-11"},{"body":" These parts are combined to build\n    processors, bus structures, and memory systems, which are in turn\n    combined to form computers, using languages appropriate to computer\n    architecture.  Computers are combined to form distributed systems,\n    using languages appropriate for describing network interconnections,\n    and so on.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p24","child":[{"body":"\n    As a tiny example of stratification, our picture language uses primitive\n    elements (primitive painters) that specify points and lines to provide the\n    shapes of a painter like ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":". The bulk of\n    our description of the picture language focused on combining these\n    primitives, using geometric combiners such as\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" and ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":".\n    We also worked at a higher level, regarding\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"beside"},{"body":" and ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"below"},{"body":"\n    as primitives to be manipulated in a language whose operations, such as\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_of_four"},{"body":",\n      \n    capture common patterns of combining geometric combiners.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p25","child":[{"body":"\n    Stratified design helps make programs\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"robust","tag":"#text"}]},{"body":", that is, it makes\n    it likely that small changes in a specification will require\n    correspondingly small changes in the program.  For instance, suppose we\n    wanted to change the image based on ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"\n    shown in figure ","tag":"#text"},{"tag":"REF","body":"2.9","href":"/sicpjs/2.2.4#fig-2.9"},{"body":".  We could work\n    at the lowest level to change the detailed appearance of the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" element; we could work at the middle\n    level to change the way\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":"\n    replicates the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"; we could work at the\n    highest level to change how\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"\n    arranges the four copies of the corner. In general, each level of a\n    stratified design provides a different vocabulary for expressing the\n    characteristics of the system, and a different kind of ability to change it.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 2.52","id":"#ex-2.52","child":[{"body":"\n    Make changes to the square limit of ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":"\n    shown in figure ","tag":"#text"},{"tag":"REF","body":"2.9","href":"/sicpjs/2.2.4#fig-2.9"},{"body":" by working at\n    each of the levels described above.  In particular:\n    ","tag":"#text"},{"tag":"OL","child":[{"tag":"LI","child":[{"body":"\n        Add some segments to the primitive\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" painter\n        of exercise ","tag":"#text"},{"tag":"REF","body":"2.49","href":"/sicpjs/2.2.4#ex-2.49"},{"body":" (to add a smile, for\n\texample).\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n        Change the pattern constructed by\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"corner_split"},{"body":"\n        (for example, by using only one copy of the\n        ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"up_split"},{"body":"\n\tand\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"right_split"},{"body":"\n\timages instead of two).\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n        Modify the version of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"\n\tthat uses\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_of_four"},{"body":"\n        so as to assemble the corners in a different pattern.\n\t(For example, you might make the big Mr. Rogers look outward \n\tfrom each corner of the square.)\n      ","tag":"#text"}]}]}],"solution":[{"tag":"SNIPPET","latex":false,"id":37,"eval":true,"prependLength":50,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QBjcgOwFMyAaUAC2YENKOAzhR50A1hwoBXMowD6kogLwATZrOUkA7ow4AjZktUcAZgBs8RWQDdWFE+cudyeAF6Cnm0AF9QxsiQJQAHIySRYggG5cYzC6CjwSRlABAEdJPjUSY1ljEmkACgpTCXZQXWKysgBKGmxQetAyZikZUCIePEYKVlAAXgA+ZOExfP1DZkLTfPbO7uqS6Y6u1iqqtjqGza3tnfqxlQnyxdmVvTJj5erVqK9o2PjE0AOuvAoAT3yADxrqDfqmlpJT43O6MOIJJJkPAAc04FFkAiI5goFzmHEYPz+T2MoHySV6BNAAAZMbsAdIkjNLlFNj5mKYBMxarsGIwhMkCDxTKYer1GjC4Qika9Uax0aAALSgACMVRpO3JrX2qlFpSEIlE+QEnO5Yo5XJ5V3l9Vut2wMTBDySCiFyNV6NJDTwOLxfUJJOZCuaFLaSzmxu8oHpjM921Z7O1Bt5oBtiLtVLRoCSUtlAc2iqS6pGyomkd1ap1hrWvpO1QDptB4MeDBkrFtIoTeoxoexuPx7sd2wzJepWLpDKZvxZiXZCj6McscYbfqbkplcqxm3DVChsKofNXgqnKMbpWT87TDWXoAoJEsPOM67KBgO+QUHAUC+HbKouhIFFPBFkm6vWc1P44H8nx2Y8axYMhxzAutt3tJM51TRcGm7P9RhvFVT3PZhLw4KD5kQ3YdhzWC3w-AJvwFChrj7bAzQtKtMzSDJZHMAhp1LB0W1AgJdE6ZhMHHVJ0iaWQshyPJzjMCxZCcKE3CeVQXneDh8II1TVMBeRFAOdQtB0XwHGsWxgP+b1WgYAgeJYTB8lw+sdxnPcqLNEBQGgcwxC4VgmVPNpTB4N5QE0V5OFAHhGACnhdCEMgRCtbAXMkRllF8chkkY4SWNeXABA8LV0rUTKUW4Pg7FATBriAA","body":"// Click here to play with any abstraction\n// used for square_limit "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/2.2.4#footnote-link-1","child":[{"body":"The picture\n    language is based on the language\n    \n    Peter Henderson created to construct images like\n    \n    M.C. Escher's \"","tag":"#text"},{"body":"Square Limit","tag":"#text"},{"body":"\" woodcut (see\n    Henderson 1982). The woodcut incorporates a repeated\n    scaled pattern, similar to the arrangements drawn using the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_limit"},{"body":"function\n    in this section.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-2","count":2,"href":"/sicpjs/2.2.4#footnote-link-2","child":[{"body":"\n      William Barton Rogers (1804–1882) was the founder and first\n      president of MIT.  A geologist and talented teacher, he taught at\n      William and Mary College and at the University of Virginia.  In 1859\n      he moved to Boston, where he had more time for research, worked on a\n      plan for establishing a \"","tag":"#text"},{"body":"polytechnic institute,","tag":"#text"},{"body":"\" and\n      served as Massachusetts's first State Inspector of Gas Meters.\n      \n      When MIT was established in 1861, Rogers was elected its first\n      president. Rogers espoused an ideal of \"","tag":"#text"},{"body":"useful learning","tag":"#text"},{"body":"\"\n      that was different from the university education of the time, with its\n      overemphasis on the classics, which, as he wrote, \"","tag":"#text"},{"body":"stand in the\n      way of the broader, higher and more practical instruction and\n      discipline of the natural and social sciences.","tag":"#text"},{"body":"\"  This\n      education was likewise to be different from narrow trade-school\n      education.  In Rogers's words:\n      ","tag":"#text"},{"tag":"EPIGRAPH","child":[{"body":"\n        The world-enforced distinction between the practical and the\n        scientific worker is utterly futile, and the whole experience of\n        modern times has demonstrated its utter worthlessness.\n      ","tag":"#text"}]},{"body":"\n      Rogers served as president of MIT until 1870, when he resigned due to\n      ill health.  In 1878 the second president of MIT,\n      \n      John Runkle, resigned under the pressure of a financial crisis\n      brought on by the Panic of 1873 and strain of fighting off attempts\n      by Harvard to take over MIT.  Rogers returned to hold the office of\n      president until 1881.\n      \n      Rogers collapsed and died while addressing MIT's graduating\n      class at the commencement exercises of 1882.  Runkle quoted\n      Rogers's last words in a memorial address delivered that same\n      year:\n      ","tag":"#text"},{"tag":"EPIGRAPH","child":[{},{"child":[{"body":"\"","tag":"#text"},{"body":"As I stand here today and see what the Institute is, … I call\n        to mind the beginnings of science.  I remember one hundred and fifty\n        years ago Stephen Hales published a pamphlet on the subject of\n        illuminating gas, in which he stated that his researches had\n        demonstrated that 128 grains of bituminous coal—","tag":"#text"},{"body":"\"","tag":"#text"}]},{},{},{},{},{},{"child":[{"body":"\"","tag":"#text"},{"body":"Bituminous coal,","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" these were his last words on\n\t  earth.  Here he bent forward, as if consulting some notes on the\n\t  table before him, then slowly regaining an erect position, threw\n\t  up his hands, and was translated from the scene of his earthly\n\t  labors and triumphs to ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"the tomorrow of death,","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":"\n\t  where the mysteries of life are solved, and the disembodied\n\t  spirit finds unending satisfaction in contemplating the new and\n\t  still unfathomable mysteries of the infinite future.\n      ","tag":"#text"}]},{"body":"\n      In the words of  Francis A. Walker\n      \n      (MIT's third president):\n      ","tag":"#text"},{"tag":"EPIGRAPH","child":[{"body":"\n        All his life he had borne himself most faithfully and heroically,\n\tand he died as so good a knight would surely have wished, in\n\tharness, at his post, and in the very part and act of public duty.\n      ","tag":"#text"}]}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-3","count":3,"href":"/sicpjs/2.2.4#footnote-link-3","child":[{"body":"\n    In ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"square_of_four"},{"body":",\n    we use an extension of the syntax of lambda expressions that was introduced\n    in section ","tag":"#text"},{"tag":"REF","body":"1.3.2","href":"/sicpjs/1.3.2"},{"body":": The body of a lambda\n    expression can be a block, not just a return expression.\n    \n    Such a lambda expression has the shape\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"("},{"tag":"META","body":"parameters"},{"tag":"JAVASCRIPTINLINE","body":")"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"=>"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"{"},{"body":" ","tag":"#text"},{"tag":"META","body":"statements"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"}"},{"body":" or\n    ","tag":"#text"},{"tag":"META","body":"parameter"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"=>"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"{"},{"body":" ","tag":"#text"},{"tag":"META","body":"statements"},{"body":" ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"}"},{"body":".\n    ","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-4","count":4,"href":"/sicpjs/2.2.4#footnote-link-4","child":[{"body":"Equivalently, we could\n    write\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":38,"eval":true,"prependLength":12,"program":"chap=2&prgrm=PTAEGUEkGEAVQFLlAJgHToCwChsEsBbABwHsAnAF1AG9QALAUwENKAaUAZwqYGMBrdhQCuZAHYB9IUQ54AJg3GySAd1HsARgxnz2AMwA2eIuIBuDNqANHxdcngBe7DreWgAvpbIkCoAORkhUQZfAG5cXUCeCjwSUU4ARyEWBRJdcV0SEQAKCn1BMg080HUyAEoabFAq0DIGYTFQIiY8UQpzUABeAD5Obn4szW0GHP0sppa2svyx5tbzUtLWSuqV1bX1qsG5YfVR8bmp4rIZifmFsLdwyOjY0G3WvAoATyyAD3LqZara+rjXi9wPFiXEshiIRAYsnE4zIHE6XwSSVq4lS6Uyx1+kmk20UKjUoOsZgsCI26ysxlsZAc7Hu0WepTC2GcKiy5IhUJhHCyjBYFHOQA","body":"const flipped_pairs = square_of_four(identity, flip_vert,\n                                     identity, flip_vert); "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-5","count":5,"href":"/sicpjs/2.2.4#footnote-link-5","child":[{"body":"\n\tThe function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rotate180"},{"body":"\n    rotates a painter by 180 degrees. Instead of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rotate180"},{"body":"\n    we could say\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"compose(flip_vert, flip_horiz)"},{"body":",\n    \n    using the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"compose"},{"body":"function\n    from exercise ","tag":"#text"},{"tag":"REF","body":"1.42","href":"/sicpjs/1.3.4#ex-1.42"},{"body":".","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-6","count":6,"href":"/sicpjs/2.2.4#footnote-link-6","child":[{"body":"\n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"frame_coord_map"},{"body":"\n    uses the vector operations described in\n    exercise ","tag":"#text"},{"tag":"REF","body":"2.46","href":"/sicpjs/2.2.4#ex-2.46"},{"body":" below, which we assume have been\n    implemented using some representation for vectors. Because of data\n    abstraction, it doesn't matter what this vector representation is,\n    so long as the vector operations behave correctly.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-7","count":7,"href":"/sicpjs/2.2.4#footnote-link-7","child":[{"body":"\n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"segments_to_painter"},{"body":"\n    uses the representation for line segments described in\n    exercise ","tag":"#text"},{"tag":"REF","body":"2.48","href":"/sicpjs/2.2.4#ex-2.48"},{"body":" below. It also uses the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"for_each"},{"body":"function\n    described in exercise ","tag":"#text"},{"tag":"REF","body":"2.23","href":"/sicpjs/2.2.1#ex-2.23"},{"body":".","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-8","count":8,"href":"/sicpjs/2.2.4#footnote-link-8","child":[{"body":"\n    For example, the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":" painter of\n    figure ","tag":"#text"},{"tag":"REF","body":"2.11","href":"/sicpjs/2.2.4#fig-2.11"},{"body":" was constructed from a gray-level\n    image. For each point in a given frame, the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":" painter determines the point in\n    the image that is mapped to it under the frame coordinate map, and\n    shades it accordingly.\n    \n    By allowing different types of painters, we are capitalizing on the\n    abstract data idea discussed in section ","tag":"#text"},{"tag":"REF","body":"2.1.3","href":"/sicpjs/2.1.3"},{"body":",\n    where we argued that a rational-number representation could be anything at\n    all that satisfies an appropriate condition.  Here we're using the\n    fact that a painter can be implemented in any way at all, so long as it\n    draws something in the designated frame.\n    \n    Section ","tag":"#text"},{"tag":"REF","body":"2.1.3","href":"/sicpjs/2.1.3"},{"body":" also showed how pairs could be\n    implemented as\n    functions.\n    Painters are our second example of a\n    \n        functional\n      \n    representation for data.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-9","count":9,"href":"/sicpjs/2.2.4#footnote-link-9","child":[{"body":"The function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rotate90"},{"body":"\n    is a pure rotation only for square frames, because it also stretches and\n    shrinks the image to fit into the rotated frame.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-10","count":10,"href":"/sicpjs/2.2.4#footnote-link-10","child":[{"body":"\n    The diamond-shaped images in\n    figures ","tag":"#text"},{"tag":"REF","body":"2.10","href":"/sicpjs/2.2.4#fig-2.10"},{"body":"\n    and ","tag":"#text"},{"tag":"REF","body":"2.11","href":"/sicpjs/2.2.4#fig-2.11"},{"body":" were created with\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"squash_inwards"},{"body":"\n    applied to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"wave"},{"body":" and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"rogers"},{"body":".\n    ","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-11","count":11,"href":"/sicpjs/2.2.4#footnote-link-11","child":[{"body":"\n    Section ","tag":"#text"},{"tag":"REF","body":"3.3.4","href":"/sicpjs/3.3.4"},{"body":" describes one such\n    language.","tag":"#text"}]}]