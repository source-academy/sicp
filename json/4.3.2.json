[{"id":"/sicpjs/4.3.2","tag":"TITLE","body":"4.3.2  \n    Examples of Nondeterministic Programs"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    Section ","tag":"#text"},{"tag":"REF","body":"4.3.3","href":"/sicpjs/4.3.3"},{"body":" describes the\n    implementation of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator.  First,\n    however, we give some examples of how it can be used.  The advantage of\n    nondeterministic programming is that we can suppress the details of how\n    search is carried out, thereby\n    expressing our programs at a higher level of\n    \n    abstraction.\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"Logic Puzzles","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    The following puzzle (adapted from\n    Dinesman 1968) \n    is typical of a large class of simple logic puzzles:\n    ","tag":"#text"},{"tag":"EPIGRAPH","child":[{"body":"\n      The software company\n      ","tag":"#text"},{},{"body":"\n      Gargle is expanding, and Alyssa, Ben, Cy,  Lem, and Louis\n      are moving into a row of five private offices in a\n      new building. Alyssa does not move into the last office. Ben does not\n      move into the first office. Cy takes neither the first nor the last office.\n      Lem moves into an office after Ben's. Louis's office is not next to\n      Cy's. Cy's office is not next to Ben's. Who moves into which office?\n      ","tag":"#text"},{},{}]}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    We can determine who moves into which office in a straightforward way by\n    enumerating all the possibilities and imposing the given\n    restrictions:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/4.3.2#footnote-1"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":11,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAzAVwDsBjAFwEsB7E0AEyoGdryKAKKigUwFtmASlABvAJC5QU0ACceFIjPosA+iSIAbDV14DBk6YekB+UBRlEeBo4YBcoVeq0cKAQyrbu-IfptHT5pbWfqD2jprafPwARjwyHAAWPK4MOt6CADRm7p66Pr4hUqZMrFTsLjlpegWF9gSuGsw8ANy4AL74xOy09DQEBFRkPCp8NABuPBzCIsFkdKygDQCezMyuoAC8i3zRHACMWdhZGFkoWQCsgq2GcyQLsfRbrjv7h8enF1ez8xSgZEubba7A6gI6gE6oT7XaS3BYafiA57At7gj6gS7QqSw34aGhEFiIl4gsEQs7or6GOQAR3xcg4JTYlA4GhYnGWq1cWQeWX+WXhfD5eJYghFmNkPBpVDp7LWoAAhBsthjgtTaZMHvLFaA9hTpKqpZN-pqlbqpPq6UaFVsdWLzZN+aAAHygB6m8WSul8VwUBIqVzRZjMoXMUAAWj+S2EVu1brtHC9Pr9AY4RvDruNMdt8kU9BZrGZrI4ACIZa4i1lS5lgoVpHnOEWHuWXTwSFWazY68X-k3-m324ZO0X+U3+X3+1JB7j8cwR8HRe18H0BkMRuNJlcgA","body":"function office_move() {\n    const alyssa = amb(1, 2, 3, 4, 5);\n    const ben = amb(1, 2, 3, 4, 5);\n    const cy = amb(1, 2, 3, 4, 5);\n    const lem = amb(1, 2, 3, 4, 5);\n    const louis = amb(1, 2, 3, 4, 5);\n    require(distinct(list(alyssa, ben, cy, lem, louis)));\n    require(alyssa !== 5);\n    require(ben !== 1);\n    require(cy !== 5);\n    require(cy !== 1);\n    require(lem > ben);\n    require(math_abs(louis - cy) !== 1);\n    require(math_abs(cy - ben) !== 1);\n    return list(list(\"alyssa\", alyssa),\n                list(\"ben\", ben),\n                list(\"cy\", cy),\n                list(\"lem\", lem),\n                list(\"louis\", louis));\n} "}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    Evaluating the expression\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"office_move()"},{"body":"\n    produces the result\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":false,"body":"list(list(\"alyssa\", 3), list(\"ben\", 2), list(\"cy\", 4),\n     list(\"lem\", 5), list(\"louis\", 1))"},{"body":"\n    Although this simple\n    function\n    works, it is very slow.\n    Exercises ","tag":"#text"},{"tag":"REF","body":"4.37","href":"/sicpjs/4.3.2#ex-4.37"},{"body":"\n    and ","tag":"#text"},{"tag":"REF","body":"4.38","href":"/sicpjs/4.3.2#ex-4.38"},{"body":" discuss some possible\n    improvements.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.36","id":"#ex-4.36","child":[{"body":"\n    Modify the office-move\n    function\n    to omit the requirement that Louis's office is not next to Cy's.\n    How many solutions are there to this modified puzzle?\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.37","id":"#ex-4.37","child":[{"body":"\n    Does the order of the restrictions in the office-move\n    function\n    affect the answer? Does it affect the time to find an answer?  If you\n    think it matters, demonstrate a faster program obtained from the given\n    one by reordering the restrictions.  If you think it does not matter,\n    argue your case.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.38","id":"#ex-4.38","child":[{"body":"\n    In the office move problem, how many sets of assignments are\n    there of people to offices, both before and after the requirement that\n    office assignments be distinct?  It is very inefficient to generate all\n    possible assignments of people to offices and then leave it to\n    backtracking to eliminate them.  For example, most of the restrictions\n    depend on only one or two of the person-office\n    names,\n    and can thus be imposed before offices have been selected for all the people.\n    Write and demonstrate a much more efficient nondeterministic\n    function\n    that solves this problem based upon generating only those possibilities that\n    are not already ruled out by previous restrictions.\n    ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.39","id":"#ex-4.39","child":[{"body":"\n    Write an ordinary\n    JavaScript\n    program to solve the office move puzzle.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.40","id":"#ex-4.40","child":[{"body":"\n    Solve the following \"","tag":"#text"},{"body":"Liars","tag":"#text"},{"body":"\" puzzle (adapted from\n    Phillips 1934):\n    ","tag":"#text"},{"tag":"EPIGRAPH","child":[{"body":"\n      Alyssa, Cy, Eva, Lem, and Louis meet for a business lunch at SoSoService.\n      Their meals arrive one after the other, a considerable time after they\n      placed their orders. To entertain Ben, who expects them back at the office\n      for a meeting, they decide to each make one true statement and one false\n      statement about their orders:\n      ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"\n          Alyssa:\n\t  \"","tag":"#text"},{"body":"Lem's meal arrived second. Mine arrived third.","tag":"#text"},{"body":"\"","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\t  Cy:\n\t  \"","tag":"#text"},{"body":"Mine arrived first. Eva's arrived second.","tag":"#text"},{"body":"\"","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\t  Eva:\n\t  \"","tag":"#text"},{"body":"Mine arrived third, and poor Cy's arrived last.","tag":"#text"},{"body":"\"","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\t  Lem:\n\t  \"","tag":"#text"},{"body":"Mine arrived second. Louis's arrived fourth.","tag":"#text"},{"body":"\"","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\t  Louis:\n\t  \"","tag":"#text"},{"body":"Mine arrived fourth. Alyssa's meal arrived first.","tag":"#text"},{"body":"\"","tag":"#text"}]}]},{"body":"\n      What was the real order in which the five diners received their meals?\n      ","tag":"#text"},{},{}]}]},{"tag":"EXERCISE","title":"Exercise 4.41","id":"#ex-4.41","child":[{"body":"\n    Use the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator to solve the following\n    puzzle (adapted from\n    Phillips 1961):\n      ","tag":"#text"},{"tag":"EPIGRAPH","child":[{"body":"\n\tAlyssa, Ben, Cy, Eva, and Louis each pick a different chapter of SICP JS\n\tand solve all the exercises in that chapter.\n\tLouis solves the exercises in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Functions","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter,\n\tAlyssa the ones in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Data","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter, and\n\tCy the ones in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"State","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter.\n\tThey decide to check each other's work, and\n\tAlyssa volunteers to check the exercises in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Meta","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter.\n\tThe exercises in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Register Machines","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter are solved by Ben\n\tand checked by Louis.\n\tThe person who checks the exercises in the ","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Functions","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter\n\tsolves the exercises that are checked by Eva.\n\tWho checks the exercises in the\t","tag":"#text"},{"child":[{"body":"\"","tag":"#text"},{"body":"Data","tag":"#text"},{"body":"\"","tag":"#text"}]},{"body":" chapter?\n      ","tag":"#text"}]},{"body":"\n\t   Try to write the program so that it runs efficiently (see\n\t   exercise ","tag":"#text"},{"tag":"REF","body":"4.38","href":"/sicpjs/4.3.2#ex-4.38"},{"body":").  Also determine\n\t   how many solutions there are if we are not told that Alyssa checks the\n\t   exercises in the \"","tag":"#text"},{"body":"Meta","tag":"#text"},{"body":"\" chapter.\n\t   ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.42","id":"#ex-4.42","child":[{"body":"\n    Exercise ","tag":"#text"},{"tag":"REF","body":"2.42","href":"/sicpjs/2.2.3#ex-2.42"},{"body":" described the\n    \"","tag":"#text"},{"body":"eight-queens puzzle","tag":"#text"},{"body":"\" of placing queens on a chessboard so that\n    no two attack each other. Write a nondeterministic program to solve this\n    puzzle.\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"Parsing natural language","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    Programs designed to accept natural language as input usually start by\n    attempting to ","tag":"#text"},{"tag":"EM","child":[{"body":"parse","tag":"#text"}]},{"body":" the input, that is, to match the input\n    against some grammatical structure.  For example, we might try to\n    recognize simple sentences consisting of an article followed by a noun\n    followed by a verb, such as \"","tag":"#text"},{"body":"The cat eats.","tag":"#text"},{"body":"\"  To accomplish\n    such an analysis, we must be able to identify the parts of speech of\n    individual words.  We could start with some lists that classify various\n    words:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-2","body":"2","href":"/sicpjs/4.3.2#footnote-2"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":0,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuBjAewDsBnAF1BKIFdzQBeUAGwEtKAKAIhvu4A0obpVoATAKYkKg4QAcATkQBmEsmSILZ3AgEMZQnS13ruASgDc+YuSoA3CQoBGZJqw4UeD59tFi2atosEgQUtAqBhhL6ZL7BEnKxltaklKC6ChRsBMGuzOxc3BlZORLaFAAWZYa65hZAA","body":"const nouns = list(\"noun\", \"student\", \"professor\", \"cat\", \"class\");\n\nconst verbs = list(\"verb\", \"studies\", \"lectures\", \"eats\", \"sleeps\");\n\nconst articles = list(\"article\", \"the\", \"a\"); "},{"body":"\n    We also need a\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"grammar","tag":"#text"}]},{"body":", that is, a set of rules describing how\n    grammatical elements are composed from simpler elements.  A very\n    simple grammar might stipulate that a sentence always consists of two\n    pieces—a noun phrase followed by a verb—and that a noun\n    phrase consists of an article followed by a noun.  With this grammar, the\n    sentence \"","tag":"#text"},{"body":"The cat eats","tag":"#text"},{"body":"\" is parsed as follows:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":false,"body":"list(\"sentence\",\n     list(\"noun-phrase\", list(\"article\", \"the\"), list(\"noun\", \"cat\"),\n     list(\"verb\", \"eats\"))"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    We can generate such a parse with a simple program that has separate\n    functions\n    for each of the grammatical rules.  To parse a sentence, we identify its\n    two constituent pieces and return a list of these two elements, tagged with\n    the symbol ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"sentence"},{"body":":\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":30,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuBjAewDsBnAF1BKIFdzQBeUAGwEtKAKAIhvu4A0obpVoATAKYkKg4QAcATkQBmEsmSILZ3AgEMZQnS13ruASgDc+YuSoA3CQoBGZJqw4UeD59tFi2atosEgQUtAqBhhL6ZL7BEnKxltaklKC6ChRsBMGuzOxc3BlZORLaFAAWZYa65la4wVQ0FAD6AJ4SrXIZZBJibiS0LCz1yvShbKSg3Qq9LQDummKciwpiLQUUZqAA3qD7B7gHoBEAjrRsEZwAhKAcLYPDnM3tnS0zvWJmycdnF1e3e6PFicAC2ElBTkcnCqumWLw6XR6fTMQgoujYINW60232+VmONjSyjoJHW2LcsPhRFaiPeyK+BIOCLeHz6bnRmOeNNeSNmKKZ+wiYQUJHcXCpKyWGw8qNAJPo5KWyQAvvgxiQJlM2Q9Se8KgoTBJONsdkcDsLwmLNjw+CQALRyA1GwTm47u9067GcYrZXKot0eoNepbc+hkfG4NW4DVasU6tgkOS0TyJ5NbXaBll8z5uNMpwWgIlUXrSNw60sUKQEY0-C0Sc6XY1AoYg7P0-lfOtCzpW0CVqzR2NZbXIlqV6u13YewOW0XizwiKRVzXVQNBz1ju36w29E0Cdcbg4htacbwuSPRhNJlOcG3cSrVfY6fSyYTRChJSxAA","body":"function parse_sentence() {      \n    return list(\"sentence\",\n                parse_noun_phrase(),\n                parse_word(verbs));\n} "},{"body":"\n    A noun phrase, similarly, is parsed by finding an article followed by a\n    noun:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":30,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuBjAewDsBnAF1BKIFdzQBeUAGwEtKAKAIhvu4A0obpVoATAKYkKg4QAcATkQBmEsmSILZ3AgEMZQnS13ruASgDc+YuSoA3CQoBGZJqw4UeD59tFi2atosEgQUtAqBhhL6ZL7BEnKxltaklKC6ChRsBMGuzOxc3BlZORLaFAAWZYa65la4wVQ0FAD6AJ4SrXIZZBJibiS0LCz1yvShbKSg3Qq9LQDummKciwpiLQUUZqAA3qD7B7gHoBEAjrRsEZwAhKAcLYPDnM3tnS0zvWJmycdnF1e3e6PFicAC2ElBTkcnCqumWLw6XR6fTMQgoujYINW60232+VmONjSyjoJHW2LcsPhRFaiPeyK+BIOCLeHz6bnRmOeNNeSNmKKZ+wiYQUJHcXCpKyWGw8qNAJPo5KWyQAvvgxiQJlM2S1etIpAQJJxtntjqAjgdheExZseHqKAbqhazS6Djq+CR3hUFCYjajna6XTrsZxvC58bg1bgNVqxTq2CQ5LRPAmk1tdgGWXzPm5U8nBaAiVR7W4dfbHcaC39LkagUMQVn6fyvj9LZ1raB7VYozGstrkQ9SV6fb1jRnfu3ReLPLxSQBaOTe32CAOB47BpacYrZXL+teujdrbn0MgRqPxxPJzi27iVar7HT6WTCaIUJKWIA","body":"function parse_noun_phrase() {\n    return list(\"noun-phrase\",\n                parse_word(articles),\n                parse_word(nouns));\n} "}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    At the lowest level, parsing boils down to repeatedly checking that\n    the next\n    not-yet-parsed\n    word is a member of the list of words for the\n    required part of speech.  To implement this, we maintain a global\n    variable\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"not_yet_parsed"},{"body":",\n      \n    which is the input that has not yet been parsed.  Each time we check a word,\n    we require that\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"not_yet_parsed"},{"body":"\n    must be nonempty and that it should begin with a word from the designated\n    list.  If so, we remove that word from\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"not_yet_parsed"},{"body":"\n    and return the word together with its part of speech (which is found at\n    the head of the list):","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-3","body":"3","href":"/sicpjs/4.3.2#footnote-3"},{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":28,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AxpXIcyVQTP6gCAS1kAKAETzymgDShNswdyLkS+w0zaUAZkQ4dKbS5oksLBtwRaPNASnFcKRkyADciNgAjDiVVDU0I6NdjbhUHV2IJEkE2DK8iDw4U4iImYsDJaVlQdhIVCWJYgXiSLTqG4lcSAAsiVxYAoNsFbJVpUFZOIhodZh62XyJ1f1AAb1xQLdA8nLZyZTU27UoFAFomBaX9Te27++2prhoAd2dudQ7Gh389W4eAZN2M83mwPjoOP5KgBffAjchjCZPGZccxmCTLVZrB7-HakXIHVpaVEkdH9P6AwHI2ancjzRZcFYUykPamgj5JGJQ8Sw3DwxEHakqchMQRtYWikhY3FUWgMWjI3gCCVi8R3EI1ElKakkskrNXbPIAR0EKjy6jUs2EBHUsvojEV3NxuwJoBJPLho3qSOBM3Z6nZNFaWJxd2NpvNAEJQJbyNbbdR7QrfdwnWGiCazcto7H4wBbIh5qKRdR9FjgxPy5gp36gEgsFQ2wPBqGVdXVMi2WncV7vJRlityh01g1bO1VxVKeuNhND5PTVOjvF7QlHUuFD7No61rsKHvsmH4IUisXqImaXrkrZuDyWQyFEgVQJAA","body":"function parse_word(word_list) {      \n    require(! is_null(not_yet_parsed));\n    require(! is_null(member(head(not_yet_parsed), tail(word_list))));\n    const found_word = head(not_yet_parsed);\n    not_yet_parsed = tail(not_yet_parsed);\n    return list(head(word_list), found_word);\n} "}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    To start the parsing, all we need to do is set\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"not_yet_parsed"},{"body":"\n    to be\n    the entire input, try to parse a sentence, and check that nothing is\n    left over:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":0,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANxA","body":"let not_yet_parsed = null; "},{"tag":"SNIPPET","latex":false,"id":9,"eval":true,"prependLength":29,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AxpXIcyVQTP6gCAS1kAKAETzymgDShNswdyLkS+w0zaUAZkQ4dKbS5oksLBtwRaPNASnFcKRkyADciNgAjDiVVDU0I6NdjbhUHV2IJEkE2DK8iDw4U4iImYsDJaVlQdhIVCWJYgXiSLTqG4lcSAAsiVxYAoNsFbJVpUFZOIhoAd2dudXm2bhpW-1AAb1Ad3dxd0DyAR0EVPPUAQlA1GnJhAnUqWgZaKa5uf0qD49Pzq5u7iJ1ABbIjAqKRdR9FiLJ70RhvHj+AwkFgqB7LVbrT5fXYhGq2SgKVaYpTQ2HUeGvdjvXE7OEvZg0nhKVHox6UxmIj7ib6kXLkZRqNrkpYLNbC5GgQnEuYLSoAX3wI3IYwmiNuRPIzB6bF8RHUG02+12eRybEFrS0OgAtExdfr9CaDi6XRrMeoOo0HMjna7-e6FhyFBxPuIlbgVWrBRquOYzBIDUbXX6zQKhQk4yQE-09H7-W7mZqFDq9VxDXmCwXAyt1EkYmHcBGo-V1UWVOQmII2h2uyQjX6GQjmbwBL3u7y8dUyFmlLGzNnVUnJzsfmcDQD7hznsPph86Yd+RbQFnw-gNeO2lbNL1czs3B5LIZCiQKoEgA","body":"function parse_input(input) {\n    not_yet_parsed = input;\n    const sent = parse_sentence();\n    require(is_null(not_yet_parsed));\n    return sent;\n} "}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n    We can now try the parser and verify that it works for our simple test\n    sentence:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":10,"eval":true,"body":"parse_input(list(\"the\",  \"cat\",  \"eats\")); ","prependLength":36,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AxpXIcyVQTP6gCAS1kAKAETzymgDShNswdyLkS+w0zaUAZkQ4dKbS5oksLBtwRaPNASnFcKRkyADciNgAjDiVVDU0I6NdjbhUHV2IJEkE2DK8iDw4U4iImYsDJaVlQdhIVCWJYgXiSLTqG4lcSAAsiVxYAoNsFbJVpUFZOIhoAd2dudXm2bhpW-1AAb1Ad3dxd0DyAR0EVPPUAQlA1GnJhAnUqWgZaKa5uf0qD49Pzq5u7iJ1ABbIjAqKRdR9FiLJ70RhvHj+AwkFgqB7LVbrT5fXYhGq2SgKVaYpTQ2HUeGvdjvXE7OEvZg0nhKVHox6UxmIj7ib6kXLkZRqNrkpYLNbC5GgQnEuYLSoAX3wI3IYwmiNuRPIzB6bF8RHUG02+12eRybEFrS0OgAtExdfr9CaDi6XRrMeoOo0HMjna7-e6FhyFBxPuIlbgVWrBRquOYzBIDUbXX6zQKhQk4yQE-09H7-W7mZqFDq9VxDXmCwXAyt1EkYmHcBGo-V1UWVOQmII2h2uyQjX6GQjmbwBL3u7y8dUyFmlLGzNnVUnJzsfmcDQD7hznsPph86Yd+RbQFnw-gNeO2lbNL1czs3B5LIZCiQKoEgA","output":"Starting a new problem\namb-evaluate value:\nlist(\"sentence\",\n     list(\"noun-phrase\", list(\"article\", \"the\"), list(\"noun\", \"cat\")),\n     list(\"verb\", \"eats\"))"}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator is useful here because it is\n    convenient to express the parsing constraints with the aid of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":". Automatic search and backtracking\n    really pay off, however, when we consider more complex grammars where there\n    are choices for how the units can be decomposed.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p11","child":[{"body":"\n    Let's add to our grammar a list of prepositions:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":11,"eval":true,"prependLength":0,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuBjAewDsBnAF1AAcAnAU2qLIEsKXSzQBeUAGxaUAFACI6jEQBpQIgGZFaUmRSJKRLEmoBGATzUB3NgAsRASgDcQA","body":"const prepositions = list(\"prep\", \"for\", \"to\", \"in\", \"by\", \"with\"); "},{"body":"\n    and define a prepositional phrase (e.g., \"","tag":"#text"},{"body":"for the cat","tag":"#text"},{"body":"\") to be\n    a preposition followed by a noun phrase:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":12,"eval":true,"prependLength":56,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AZoPIBjEgEtK5UK05EaAd0ptuACi06aBeRxIBKUAG9QN27lug2RAI6D5T3QEJQJmuWEEulS0DLSqXNxmZuIOTq7uRF4+HH4BugC2ROkARkRsugAWRCx6wfSM4TxmADSgJCzygQbcRibmUdH2tjJKpqASlNItzfygRSVB1OVh7BGdDmWhzLM8o-WNkyEVK5Extk4kgmzKxqaFxXrNraY1-YPkw9q7uAC++D3kfUxOTJQc8gpeqNTiRdAAib5EJhg2pggZsGGgMEkSiIsHycho7J0NEaAEFMGdXAfPpUaQcYFtcFkzGw0yCbhEcgkNHfSgSIgcDjaNEyFgs2EyAgsLmE8TE3pkABueWyFIEIPBMrY2TR9O48k5aOIciOWthxRIHDVxChxqJJLI7AUQs5lLOYOt8ltaJIRTRLDFkmkckUykqNH+6SYxD892YBTYIsSFmsDlAXRsByOJypYKDIaIAFoaVmmJHozDE-GSzYA81dE7bRwasXS-Hy09JuSouI3lJZID-Ssw9II1GuLpY8WO76lKB0iw6LkaEQAB4kJmlcP5gdEYf15PHUAsHLN8j96PVOv1kuT6fqeeLh66RVg3OrwvH08v1+lmmHrjPt8-18ByG-P8XYsAQn4xh0ew2G8sSkCmE5TjOV5LroAYZqGH6PoOravN6nZ+ioPZcMyTIyDGVjFluqYOkR16kUWv5lj2GEFlh36-gGyrZGBQ6dO2PpdgRag0Jx3EbrYo4CeeiELshImYeu5GbrB267tkuhySxRBsQx8EXrOMk3nenF5pp9E6eZtgaWu2kWQx-4-H8AJ+iBokQcWLwAJAeXYMGHNuUmXgZeiNjo6myjWvG4WO3ZCRiTCCKCcUJWJNiLNsai8AISUkJBoCWqANGjKhTK0TGuVxG4Hi+P4IibNMywZdhvlwTRbZRQJ9lQo5wGgfJQ5WCWFHKVRoIQj8JlrmZ7E9hWAHdX6NY2X+TErppPFtbgAbZbeaZukQaqHIyzK4virruoK-JTb+6amkwxqwhiZ37YKwqiq2QA","body":"function parse_prepositional_phrase() {      \n    return list(\"prep-phrase\",\n                parse_word(prepositions),\n                parse_noun_phrase());\n} "},{"body":"\n    Now we can define a sentence to be a noun phrase followed by a verb\n    phrase, where a verb phrase can be either a verb or a verb phrase\n    extended by a prepositional phrase:","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-4","body":"4","href":"/sicpjs/4.3.2#footnote-4"},{"tag":"SNIPPET","latex":false,"id":13,"eval":true,"prependLength":47,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AZoPIBjEgEtK5UK05EaAd0ptuACi06aBeRxIBKUAG9QN27lug2RAI6D5T3QEJQJmuWEEulS0DLSqXNxmZuIOTq7uRF4+HH4BugC2ROkARkRsugAWRCx6wfSM4TxmADSgJCzygQbcRibmUdH2tjJKpqASlNItzfygRSVB1OVh7BGdDmWhzLM8o-WNkyEVK5Extk4kgmzKxqaFxXrNraY1-YPkw9q7uAC++D3kfUxOTJQc8gpeqNTiRdAAib5EJhg2pggZsGGgMEkSiIsHycho7J0NEaAEFMGdXBSWSA5SVZg-P4AxTkFgEZgFNgsLi6CzWBygLo2A5HE5tcGQpgAWiYTJZRBh3M5MpsFOauiF1LJHBq0tlnIpVGkjOZrKi4jeuA+fW1n2BArBZrRpkE3CI5BIaO+lAkRA4HG0aJkLCdsJkBBZHEJ4mNvTIADc8tkOBazmCo2xsjbDtx5O60cQ5EcM7DiiRg7COMQocGiSayOwFAH3XHQWCq-Ia2iSEU0SwQ5JpHJaSoVjR-ukmMQ-PddRK2VYZdLecdQCDwYPh0RhWbReKuFKNRr5U9dI2a6rqurt3L+wqzarOm8ST2lH21KOdWK9Yl2dLb2TQOkWHRcjQiAADxIB1SjHF8JXfDVZ2UFgckmZ8NyIY9T23H8-3UICQIeXQFyte511fLdUJI0izXHLgUNI6jtwpJV-jJekKLfDo9hsN5YlIPlv1-f8sNAxV+yXEdyIg-Vry7UlewpDEmEEUFZPkqDbEWbY1F4ARFJINjQArUAuEdUYKQM7CZDfHS4jcDxfH8ERNmmZZ1INGcuLnEzDUku9ySEh1TLfKwXMOOc8JMh0zOI6itXApC2SoyL+0TbJmLZCTP2khLo2S5SbDS+90L44CBMS5jss5GDQDg7JdGKsTkJPUj8swwqcLwxLCIlCKaK62waqQuLuu6uiqQY2kmNqlLnIcF4AEhprsTiguURqAOavRdx0aroyvDzcBk8g5NBPDW0lItU183F8RbNt-V9TrSLBYsiFLNEMSuk6kQDINCWiIA","body":"function parse_sentence() {\n    return list(\"sentence\",\n                parse_noun_phrase(),\n                parse_verb_phrase());\n}\nfunction parse_verb_phrase() {\n    function maybe_extend(verb_phrase) {\n        return amb(verb_phrase,\n                   maybe_extend(list(\"verb-phrase\",\n                                     verb_phrase,\n                                     parse_prepositional_phrase())));\n    }\t\t   \n    return maybe_extend(parse_word(verbs));\n} "}]},{"tag":"TEXT","id":"#p12","child":[{"body":"\n    While we're at it, we can also elaborate the definition of noun\n    phrases to permit such things as \"","tag":"#text"},{"body":"a cat in the class.","tag":"#text"},{"body":"\"  What\n    we used to call a noun phrase, we'll now call a simple noun phrase,\n    and a noun phrase will now be either a simple noun phrase or a noun phrase\n    extended by a prepositional phrase:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":14,"eval":true,"prependLength":47,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AZoPIBjEgEtK5UK05EaAd0ptuACi06aBeRxIBKUAG9QN27lug2RAI6D5T3QEJQJmuWEEulS0DLSqXNxmZuIOTq7uRF4+HH4BugC2ROkARkRsugAWRCx6wfSM4TxmADSgJCzygQbcRibmUdH2tjJKpqASlNItzfygRSVB1OVh7BGdDmWhzLM8o-WNkyEVK5Extk4kgmzKxqaFxXrNraY1-YPkw9q7uAC++D3kfUxOTJQc8gpeqNTiRdAAib5EJhg2pggZsGGgMEkSiIsHycho7J0NEaAEFMGdXBSWSA5SVZg-P4AxTkFgEZgFNgsLi6CzWBygLo2A5HE5tcGQpgAWiYTJZRBh3M5MpsFOauiF1LJHBq0tlnIpVGkjOZrKi4jeuA+fW1n2BArBZrRpkE3CI5BIaO+lAkRA4HG0aJkLCdsJkBBZHEJ4mNvTIADc8tkOBazmCo2xsjbDtx5O60cQ5EcM7DiiRg7COMQocGiSayOwFAH3XHQWCq-Ia2iSEU0SwQ5JpHJaSoVjQuI6HTJEuzpbzjqAQeDByRh5LquqNbYtfddRK2Yvl7KKYnsuv9Z03iSe0o+2oaHuD6OrNKT2TQOkWHRcjQiAAPOcPXRXsV6ohjhqE7KCwOQ-tG15btuGpPi+6gfl+ejTgm0aiuKXBStBWHYaAv7oUQUE4URMoUkq-xkvS15sh0ew2C8ACQ9F2LEpB8o+z6vghDp6PKTzgUmqpHl2pK9hSGJMIIoLiZJgG2Is2xqLwAjSSQtGgBWoCzqMFKzvObJqXEbgeL4-giJs0zLIpBrjqxk6zoawmnuS-b-OkTDEH4a5-hu7IyjZhyTshrnuUQwpmmh-6YURvE6LojY1qqhHYTFpT3IJDn3qJ-ZmlRsk2JlZ6wZxn7cZMOreVweWcsBoCgdkZXkJBS7YUV8Eld+yHhRVC7NcROE5d1SV9cRpFUuRtKUd11HWQ4bwsQFyitW+7U8S58huR5A34dRDm4GJ5ASaCyGtguSK2vajq4viLZtv6vpRURYLFkQpZohiN2nWCAZBoS0RAA","body":"function parse_simple_noun_phrase() {      \n    return list(\"simple-noun-phrase\",\n                parse_word(articles),\n                parse_word(nouns));\n}\nfunction parse_noun_phrase() {\n    function maybe_extend(noun_phrase) {\n        return amb(noun_phrase,\n                   maybe_extend(list(\"noun-phrase\",\n                                     noun_phrase,\n                                     parse_prepositional_phrase())));\n    }\n    return maybe_extend(parse_simple_noun_phrase());\n} "}]},{"tag":"TEXT","id":"#p13","child":[{"body":"\n    Our new grammar lets us parse more complex sentences.  For example\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":15,"eval":true,"prependLength":62,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AZoPIBjEgEtK5UK05EaAd0ptuACi06aBeRxIBKUAG9QN27lug2RAI6D5T3QEJQJmuWEEulS0DLSqXNxmZuIOTq7uRF4+HH4BugC2ROkARkRsugAWRCx6wfSM4TxmADSgJCzygQbcRibmUdH2tjJKpqASlNItzfygRSVB1OVh7BGdDmWhzLM8o-WNkyEVK5Extk4kgmzKxqaFxXrNraY1-YPkw9q7uAC++D3kfUxOTJQc8gpeqNTiRdAAib5EJhg2pggZsGGgMEkSiIsHycho7J0NEaAEFMGdXBSWSA5SVZg-P4AxTkFgEZgFNgsLi6CzWBygLo2A5HE5tcGQpgAWiYTJZRBh3M5MpsFOauiF1LJHBq0tlnIpVGkjOZrKi4jeuA+fW1n2BArBZrRpkE3CI5BIaO+lAkRA4HG0aJkLCdsJkBBZHEJ4mNvTIADc8tkOBazmCo2xsjbDtx5O60cQ5EcM7DiiRg7COMQocGiSayOwFAH3XHQWCq-Ia2iSEU0SwQ5JpHJaSoVjR-ukmMQ-PddRK2VYZdLecdQCDwYPh0RhWbReKuFKNRr5U9dI2a6rqurt3L+wqzarOm8ST2lH21KOdWK9Yl2dLb2TQOkWHRcjQiAADxIB1SjHF8JXfDVZ2UFgckmZ8NyIY9T23H8-3UICQIeXQFyte511fLdUJI0izXHLgUNI6jtwpJV-jJekKLfDo9hsN5YlIPlv1-f8sNAxV+yXEdyIg-Vry7UlewpLhHQdGQ3ysGcuLnPDZOwhTiOorVwKQtkqO0-tE2yZi2Qkz9pKM6NTKg2wLPvdC+OAgTjOY2yZRg0A4OyXRXLE5CT1IxzMOcnC8OMwiJS0miYtsPykIM2LYroqkGNpJj-LMg1pReABIXK7E4w452CgDQr0XcdF86Mr0NSS73JfsMSYQRQWa1r3IoKYlkqXgBHakg2NACtQHU0YZIdDS3yGuI3A8Xx-BETZpmWNRInmfYVOUdS6twCkBtwy1W0lItU0m3F8RbNt-V9aLSLBYsiFLNEMSuk6kQDINCWiIA","body":"parse_input(list(\"the\", \"student\", \"with\", \"the\", \"cat\",\n                 \"sleeps\", \"in\", \"the\", \"class\")); "},{"body":"\n  produces\n  ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":16,"eval":false,"body":"list(\"sentence\",\n     list(\"noun-phrase\",\n          list(\"simple-noun-phrase\", \n               list(\"article\", \"the\"), list(\"noun\", \"student\")),\n          list(\"prep-phrase\", list(\"prep\", \"with\"),\n               list(\"simple-noun-phrase\",\n                    list(\"article\", \"the\"),\n                    list(\"noun\", \"cat\")))),\n     list(\"verb-phrase\",\n          list(\"verb\", \"sleeps\"),\n          list(\"prep-phrase\", list(\"prep\", \"in\"),\n               list(\"simple-noun-phrase\", \n                    list(\"article\", \"the\"),\n                    list(\"noun\", \"class\")))))"}]},{"tag":"TEXT","id":"#p14","child":[{"body":"\n    Observe that a given input may have more than one legal parse.  In the\n    sentence \"","tag":"#text"},{"body":"The professor lectures to the student with the cat,","tag":"#text"},{"body":"\"\n    it may be that the professor is lecturing with the cat, or that the student\n    has the cat.  Our nondeterministic program finds both possibilities:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":17,"eval":true,"prependLength":62,"program":"chap=3&variant=non-det&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAbAUwBdQA7AexIH0BPUmgBwEMAnAZyIBNQBeCgFcCBANz4AZoPIBjEgEtK5UK05EaAd0ptuACi06aBeRxIBKUAG9QN27lug2RAI6D5T3QEJQJmuWEEulS0DLSqXNxmZuIOTq7uRF4+HH4BugC2ROkARkRsugAWRCx6wfSM4TxmADSgJCzygQbcRibmUdH2tjJKpqASlNItzfygRSVB1OVh7BGdDmWhzLM8o-WNkyEVK5Extk4kgmzKxqaFxXrNraY1-YPkw9q7uAC++D3kfUxOTJQc8gpeqNTiRdAAib5EJhg2pggZsGGgMEkSiIsHycho7J0NEaAEFMGdXBSWSA5SVZg-P4AxTkFgEZgFNgsLi6CzWBygLo2A5HE5tcGQpgAWiYTJZRBh3M5MpsFOauiF1LJHBq0tlnIpVGkjOZrKi4jeuA+fW1n2BArBZrRpkE3CI5BIaO+lAkRA4HG0aJkLCdsJkBBZHEJ4mNvTIADc8tkOBazmCo2xsjbDtx5O60cQ5EcM7DiiRg7COMQocGiSayOwFAH3XHQWCq-Ia2iSEU0SwQ5JpHJaSoVjR-ukmMQ-PddRK2VYZdLecdQCDwYPh0RhWbReKuFKNRr5U9dI2a6rqurt3L+wqzarOm8ST2lH21KOdWK9Yl2dLb2TQOkWHRcjQiAADxIB1SjHF8JXfDVZ2UFgckmZ8NyIY9T23H8-3UICQIeXQFyte511fLdUJI0izXHLgUNI6jtwpJV-jJekKLfDo9hsN5YlIPlv1-f8sNAxV+yXEdyIg-Vry7UlewpLhHQdGQ3ysGcuLnPDZOwhTiOorVwKQtkqO0-tE2yZi2Qkz9pKM6NTKg2wLPvdC+OAgTjOY2yZRg0A4OyXRXLE5CT1IxzMOcnC8OMwiJS0miYtsPykIM2LYroqkGNpJj-LMg1pReABIXK7E4w452CgDQr0XcdF86Mr0NSS73JfsMSYQRQWa1r3IoKYlkqXgBHakg2NACtQHU0YZIdDS3yGuI3A8Xx-BETZpmWNRInmfYVOUdS6twCkBtwy1W0lWEXTdD0vVhLNitzQLT2RVFYWOlM7Um3F8RbNt-V9QloiAA","body":"parse_input(list(\"the\", \"professor\", \"lectures\",\n                 \"to\", \"the\", \"student\", \"with\", \"the\", \"cat\")); "},{"body":"\n    produces\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":18,"eval":false,"body":"list(\"sentence\",\n     list(\"simple-noun-phrase\",\n          list(\"article\", \"the\"), list(\"noun\", \"professor\")),\n     list(\"verb-phrase\",\n          list(\"verb-phrase\",\n               list(\"verb\", \"lectures\"),\n               list(\"prep-phrase\", list(\"prep\", \"to\"),\n                    list(\"simple-noun-phrase\",\n                    list(\"article\", \"the\"),\n\t\t    list(\"noun\", \"student\")))),\n          list(\"prep-phrase\", list(\"prep\", \"with\"),\n               list(\"simple-noun-phrase\",\n                    list(\"article\", \"the\"),\n                    list(\"noun\", \"cat\")))))"},{"body":"\n    Asking the evaluator to retry yields\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":19,"eval":false,"body":"list(\"sentence\",\n     list(\"simple-noun-phrase\", \n          list(\"article\", \"the\"), list(\"noun\", \"professor\")),\n     list(\"verb-phrase\",\n          list(\"verb\", \"lectures\"),\n          list(\"prep-phrase\", list(\"prep\", \"to\"),\n               list(\"noun-phrase\",\n                    list(\"simple-noun-phrase\",\n                         list(\"article\", \"the\"),\n                         list(\"noun\", \"student\")),\n                    list(\"prep-phrase\", list(\"prep\", \"with\"),\n                         list(\"simple-noun-phrase\",\n                              list(\"article\", \"the\"),\n                              list(\"noun\", \"cat\")))))))"}]},{"tag":"EXERCISE","title":"Exercise 4.43","id":"#ex-4.43","child":[{"body":"\n    With the grammar given above, the following sentence can be parsed in five\n    different ways: \"","tag":"#text"},{"body":"The professor lectures to the student in the class\n    with the cat.","tag":"#text"},{"body":"\" Give the five parses and explain the differences in\n    shades of meaning among them.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.44","id":"#ex-4.44","child":[{"body":"\n    The\n    \n    evaluators in sections ","tag":"#text"},{"tag":"REF","body":"4.1","href":"/sicpjs/4.1"},{"body":" and\n    ","tag":"#text"},{"tag":"REF","body":"4.2","href":"/sicpjs/4.2"},{"body":" do not determine what order\n    argument expressions\n    are\n    evaluated in. We will see that the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator\n    evaluates them from left to right. Explain why our parsing program\n    wouldn't work if the\n    argument expressions\n    were evaluated in some other order.\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.45","id":"#ex-4.45","child":[{"body":"\n    Louis Reasoner suggests that, since a verb phrase is either a verb or\n    a verb phrase followed by a prepositional phrase, it would be much more\n    straightforward to\n    declare\n    the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"parse_verb_phrase"},{"body":"\n    as follows (and similarly for noun phrases):\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":20,"eval":false,"body":"function parse_verb_phrase() {\n    return amb(parse_word(verbs),      \n               list(\"verb-phrase\",\n                    parse_verb_phrase(),\n                    parse_prepositional_phrase()));\n}"},{"body":"\n    Does this work?  Does the program's behavior change if we interchange\n    the order of expressions in the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"?\n  ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.46","id":"#ex-4.46","child":[{"body":"\n    Extend the grammar given above to handle more complex sentences.  For\n    example, you could extend noun phrases and verb phrases to include adjectives\n    and adverbs, or you could handle compound sentences.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-5","body":"5","href":"/sicpjs/4.3.2#footnote-5"}]},{"tag":"EXERCISE","title":"Exercise 4.47","id":"#ex-4.47","child":[{"body":"\n    Alyssa P. Hacker is more interested in\n    \n    generating interesting sentences\n    than in parsing them.  She reasons that by simply changing the\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"parse_word"},{"body":"\n    so that it ignores the \"","tag":"#text"},{"body":"input sentence","tag":"#text"},{"body":"\" and instead always\n    succeeds and generates an appropriate word, we can use the programs we had\n    built for parsing to do generation instead.  Implement Alyssa's idea,\n    and show the first half-dozen or so sentences generated.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-6","body":"6","href":"/sicpjs/4.3.2#footnote-6"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/4.3.2#footnote-link-1","child":[{"body":"Our program uses the following\n    function\n    to determine if the elements of a list are distinct:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":21,"eval":true,"prependLength":0,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGY0CYBQuAzAVwDsBjAFwEsB7E0AEyoGdryKAKKigUwFtmASlABvAJC5QU0ACceFIjPosA+iSIAbDV14DBk6YekB+UBRlEeBo4YBcoVeq0cKAQyrbu-IfptHT5pbWfqD2jprafPwARjwyHAAWPK4MOt6CADRm7p66Pr4hUqZMrFTsLjlpegWF9gSuGsw8ANy4AL74JWyUHBosnACMWdhZKKNZAKyCgs1AA","body":"function distinct(items) {\t\n    return is_null(items)\n           ? true\n           : is_null(tail(items))\n           ? true\n           : is_null(member(head(items), tail(items)))\n           ? distinct(tail(items))\n           : false;\n} "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-2","count":2,"href":"/sicpjs/4.3.2#footnote-link-2","child":[{"body":"Here we use the convention that the first element of each\n    list designates the part of speech for the rest of the words in the\n    list.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-3","count":3,"href":"/sicpjs/4.3.2#footnote-link-3","child":[{"body":"Notice that\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"parse_word"},{"body":"\n    uses\n    assignment\n    to modify the\n    not-yet-parsed\n    input list.  For this to work, our\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator must undo the effects of\n    assignments\n    when it backtracks.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-4","count":4,"href":"/sicpjs/4.3.2#footnote-link-4","child":[{"body":"Observe that this\n    definition is recursive—a verb may be followed by any number\n    of prepositional phrases.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-5","count":5,"href":"/sicpjs/4.3.2#footnote-link-5","child":[{"body":"This kind of\n    grammar can become arbitrarily complex, but it\n    is only a\n    \n    toy as far as real language understanding is concerned.\n    Real natural-language understanding by computer requires an elaborate\n    mixture of syntactic analysis and interpretation of meaning.  On the\n    other hand, even toy parsers can be useful in supporting flexible\n    command languages for programs such as information-retrieval systems.\n    Winston 1992 discusses computational approaches to\n    real language understanding and also the applications of simple grammars\n    to command languages.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-6","count":6,"href":"/sicpjs/4.3.2#footnote-link-6","child":[{"body":"Although\n    Alyssa's idea works just fine (and is surprisingly simple), the\n    sentences that it generates are a bit boring—they don't\n    sample the possible sentences of this language in a very interesting way.\n    In fact, the grammar is highly recursive in many places, and\n    Alyssa's technique \"","tag":"#text"},{"body":"falls into","tag":"#text"},{"body":"\" one of these recursions\n    and gets stuck.  See exercise ","tag":"#text"},{"tag":"REF","body":"4.48","href":"/sicpjs/4.3.3#ex-4.48"},{"body":" for a way to deal\n    with this.","tag":"#text"}]}]