<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics - START -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156801664-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-156801664-1');
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics - END -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="description" content="2.2.1&nbsp;&nbsp;
    Representing Sequences
   - SICP Comparison Edition" />
    <title>
      2.2.1&nbsp;&nbsp;
    Representing Sequences
   - SICP Comparison Edition
    </title>
    
  <meta name="csrf-param" content="authenticity_token" />
  <meta name="csrf-token" content="EMTEijVc2kiiKUH4nYH0lQG3pLPfMowQ/Stg//t6DCo0e5pWMQwamnTvIdmVZqY/MqSx2IYYE+2bpNV6UNSMwQ==" />

    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    -->
    <link href="https://fonts.googleapis.com/css?family=Inconsolata&display?swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Droid+Sans|Droid+Serif" rel="stylesheet">
    <link rel="stylesheet" media="all" href="../assets/stylesheet.css" />

   <link rel="shortcut icon" type="image/x-icon" href="../assets/sourcepower.ico" />

<!--    <link rel="shortcut icon" type="image/png" href="../images/lambda.png" /> -->

    <!-- for support of progressive web app, see github README, DISABLED!
    <link rel="manifest" href="../static/manifest.json">
    -->

    <script src="https://code.jquery.com/jquery-3.2.1.min.js" 
		     	  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
	          crossorigin="anonymous">
    </script> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script> -->
    <script type="text/javascript" 
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script>
   <!--  <script type="text/javascript" 
      src="../MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML-full">
    </script> -->
  
    <script src="../assets/application.js"></script>
  
    <!-- Rendering inline LaTeX -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true,
          jax: ["input/TeX","output/HTML-CSS"]
        }
      });
    </script>
    <!--<script src="/mathjax/MathJax.js?config=TeX-AMS_HTML-full.js" type="text/javascript"></script>-->
    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js" type="text/javascript"></script>
    <![endif]-->
  </head>
  <body>

    
    <!-- support for progressive web app, see README, DISABLED
    <script>
      if ('serviceWorker' in navigator && !navigator.serviceWorker.controller) {
          navigator.serviceWorker.register("../sw.js").then(function(reg) {
              console.log("Service worker has been registered for scope: " + reg.scope);
          });
      }
    </script>
    -->

     <nav class="navbar navbar-expand-sm navbar-dark bg-dark fixed-top justify-content-between">
       <button id="btn" class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#nav-sidebar" aria-controls="nav-sidebar" aria-expanded="false" aria-label="Toggle navigation" title="navigation">
         <span class="navbar-toggler-icon"></span>
       </button>
       <span class="toolt">Legend<span class="toolttext">
    <div class="title-text-ALSO">
      <span class="title-text-ALSO">Color highlighting:</span><BR/>
    </div>
    <div class="title-text-OTHEREDITIONS">
      <span class="title-text-OTHEREDITIONS">
      <span style="color:black">Unchanged █</span>
      </span>
    </div>
    <div class="title-text-OTHEREDITIONS">
      <span class="title-text-OTHEREDITIONS">
      <span style="color:green">Scheme █</span>
      </span>
    </div>
    <div class="title-text-OTHEREDITIONS">
      <span class="title-text-OTHEREDITIONS">
      <span style="color:blue">Javascript █</span>
      </span>
    </div>
    <div class="title-text-OTHEREDITIONS">
      <span class="title-text-OTHEREDITIONS">
      <span style="color:grey">Explanation █</span>
      </span>
    </div>
    <div class="title-text-OTHEREDITIONS">
      <span class="title-text-OTHEREDITIONS">
      <span style="color:red">Web-only █</span>
    </div>
</span></span>
       <span class="navbar-brand-short"><a title="Go back to front page" href="../index.html" class="gray">SICP &mdash; Scheme/JS</a></span>
       <span class="navbar-brand-long" ><a title="Go back to front page" href="../index.html" class="gray">Structure and Interpretation of Computer Programs &mdash; Comparison Edition</a></span>

     </nav>
     
     <div class="container scroll">

     
        <div class="collapse" id="nav-sidebar" role="tablist" aria-multiselectable="true">
        <!-- insert a dummy entry, to give one extra line of space -->
        <a class="navbar-brand" href="index.html">&nbsp;</a>
    
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-1">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-1" aria-expanded="false" aria-controls="sidebar-collapse-1">
                <a href="./foreword02.html"> 
        <span style="color:blue">Foreword</span>
    </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-2">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-2" aria-expanded="false" aria-controls="sidebar-collapse-2">
                <a href="./foreword84.html"> Foreword <span style="color:blue">to Structure and Interpretation of Computer Programs, 1984</span></a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-3">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-3" aria-expanded="false" aria-controls="sidebar-collapse-3">
                <a href="./prefaces03.html"> 
    
      <span style="color:blue">Preface</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-4">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-4" aria-expanded="false" aria-controls="sidebar-collapse-4">
                <a href="./prefaces96.html"> 
    Prefaces
    
      <span style="color:blue">
	to Structure and Interpretation of Computer Programs, 1996<span style='color:blue'> & </span>1984
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-5">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-5" aria-expanded="false" aria-controls="sidebar-collapse-5">
                <a href="./acknowledgements.html"> Acknowledgments</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-6">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-6" aria-expanded="false" aria-controls="sidebar-collapse-6">
                <a href="./see.html"> </a>
              </span>
            </h5>
          </div>
        </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-7">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="true" aria-controls="sidebar-collapse-7">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-7" aria-expanded="true" aria-controls="sidebar-collapse-7">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.html">1 
    Building Abstractions with 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-7" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-8">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="true" aria-controls="sidebar-collapse-8">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-8" aria-expanded="true" aria-controls="sidebar-collapse-8">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.1.html">1.1 The Elements of Programming</a>
                </h5>
              </div>

              <div id="sidebar-collapse-8" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-9">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-9" aria-expanded="false" aria-controls="sidebar-collapse-9">
                <a href="./1.1.1.html"> 1.1.1 Expressions</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-10">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-10" aria-expanded="false" aria-controls="sidebar-collapse-10">
                <a href="./1.1.2.html"> 1.1.2 Naming and the Environment</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-11">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-11" aria-expanded="false" aria-controls="sidebar-collapse-11">
                <a href="./1.1.3.html"> 1.1.3 
    Evaluating
    
      <span style="color:green">Combinations</span>
      <span style="color:blue">Operator Combinations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-12">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-12" aria-expanded="false" aria-controls="sidebar-collapse-12">
                <a href="./1.1.4.html"> 1.1.4 
    Compound <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-13">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-13" aria-expanded="false" aria-controls="sidebar-collapse-13">
                <a href="./1.1.5.html"> 1.1.5 
    The Substitution Model for 
    
      <span style="color:green">
        Procedure
      </span>
      <span style="color:blue">
        Function
      </span>
    
    Application
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-14">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-14" aria-expanded="false" aria-controls="sidebar-collapse-14">
                <a href="./1.1.6.html"> 1.1.6 
    Conditional Expressions and Predicates
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-15">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-15" aria-expanded="false" aria-controls="sidebar-collapse-15">
                <a href="./1.1.7.html"> 1.1.7 Example: Square Roots by Newton's Method</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-16">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-16" aria-expanded="false" aria-controls="sidebar-collapse-16">
                <a href="./1.1.8.html"> 1.1.8 
    
      <span style="color:green">
        Procedures
      </span>
      <span style="color:blue">
        Functions
      </span>
    
    as Black-Box Abstractions
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-17">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="true" aria-controls="sidebar-collapse-17">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-17" aria-expanded="true" aria-controls="sidebar-collapse-17">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.2.html">1.2 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    and the Processes They Generate
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-17" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-18">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-18" aria-expanded="false" aria-controls="sidebar-collapse-18">
                <a href="./1.2.1.html"> 1.2.1 Linear Recursion and Iteration</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-19">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-19" aria-expanded="false" aria-controls="sidebar-collapse-19">
                <a href="./1.2.2.html"> 1.2.2 Tree Recursion</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-20">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-20" aria-expanded="false" aria-controls="sidebar-collapse-20">
                <a href="./1.2.3.html"> 1.2.3 Orders of Growth</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-21">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-21" aria-expanded="false" aria-controls="sidebar-collapse-21">
                <a href="./1.2.4.html"> 1.2.4 Exponentiation</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-22">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-22" aria-expanded="false" aria-controls="sidebar-collapse-22">
                <a href="./1.2.5.html"> 1.2.5 Greatest Common Divisors</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-23">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-23" aria-expanded="false" aria-controls="sidebar-collapse-23">
                <a href="./1.2.6.html"> 1.2.6 Example: Testing for Primality</a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-24">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="true" aria-controls="sidebar-collapse-24">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-24" aria-expanded="true" aria-controls="sidebar-collapse-24">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./1.3.html">1.3 
        Formulating Abstractions with Higher-Order 
        
	  <span style="color:green">Procedures</span>
	  <span style="color:blue">Functions</span>
	
      </a>
                </h5>
              </div>

              <div id="sidebar-collapse-24" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-25">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-25" aria-expanded="false" aria-controls="sidebar-collapse-25">
                <a href="./1.3.1.html"> 1.3.1 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Arguments
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-26">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-26" aria-expanded="false" aria-controls="sidebar-collapse-26">
                <a href="./1.3.2.html"> 1.3.2 
    
      <span style="color:green">Constructing Procedures using Lambda</span>
      <span style="color:blue">Constructing Functions using Lambda Expressions
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-27">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-27" aria-expanded="false" aria-controls="sidebar-collapse-27">
                <a href="./1.3.3.html"> 1.3.3 
    
      <span style="color:green">Procedures</span>
    <span style="color:blue">Functions</span>
    as General Methods
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-28">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-28" aria-expanded="false" aria-controls="sidebar-collapse-28">
                <a href="./1.3.4.html"> 1.3.4 
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
    as Returned Values
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-29">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="true" aria-controls="sidebar-collapse-29">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-29" aria-expanded="true" aria-controls="sidebar-collapse-29">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.html">2 Building Abstractions with Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-29" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-30">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="true" aria-controls="sidebar-collapse-30">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-30" aria-expanded="true" aria-controls="sidebar-collapse-30">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.1.html">2.1 Introduction to Data Abstraction</a>
                </h5>
              </div>

              <div id="sidebar-collapse-30" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-31">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-31" aria-expanded="false" aria-controls="sidebar-collapse-31">
                <a href="./2.1.1.html"> 2.1.1 
    Example: Arithmetic Operations for Rational Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-32">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-32" aria-expanded="false" aria-controls="sidebar-collapse-32">
                <a href="./2.1.2.html"> 2.1.2 
    Abstraction Barriers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-33">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-33" aria-expanded="false" aria-controls="sidebar-collapse-33">
                <a href="./2.1.3.html"> 2.1.3 
    What Is Meant by Data?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-34">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-34" aria-expanded="false" aria-controls="sidebar-collapse-34">
                <a href="./2.1.4.html"> 2.1.4 
    Extended Exercise: Interval Arithmetic
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-35">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="true" aria-controls="sidebar-collapse-35">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-35" aria-expanded="true" aria-controls="sidebar-collapse-35">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.2.html">2.2 Hierarchical Data and the Closure Property</a>
                </h5>
              </div>

              <div id="sidebar-collapse-35" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-36">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-36" aria-expanded="false" aria-controls="sidebar-collapse-36">
                <a href="./2.2.1.html"> 2.2.1 
    Representing Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-37">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-37" aria-expanded="false" aria-controls="sidebar-collapse-37">
                <a href="./2.2.2.html"> 2.2.2 
    Hierarchical Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-38">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-38" aria-expanded="false" aria-controls="sidebar-collapse-38">
                <a href="./2.2.3.html"> 2.2.3 
    Sequences as Conventional Interfaces
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-39">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-39" aria-expanded="false" aria-controls="sidebar-collapse-39">
                <a href="./2.2.4.html"> 2.2.4 
    Example: A Picture Language
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-40">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="true" aria-controls="sidebar-collapse-40">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-40" aria-expanded="true" aria-controls="sidebar-collapse-40">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.3.html">2.3 Symbolic Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-40" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-41">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-41" aria-expanded="false" aria-controls="sidebar-collapse-41">
                <a href="./2.3.1.html"> 2.3.1 
    
      <span style="color:green">Quotation</span>
      <span style="color:blue">Strings</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-42">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-42" aria-expanded="false" aria-controls="sidebar-collapse-42">
                <a href="./2.3.2.html"> 2.3.2 
    Example: Symbolic Differentiation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-43">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-43" aria-expanded="false" aria-controls="sidebar-collapse-43">
                <a href="./2.3.3.html"> 2.3.3 
    Example: Representing Sets
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-44">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-44" aria-expanded="false" aria-controls="sidebar-collapse-44">
                <a href="./2.3.4.html"> 2.3.4 
    Example: Huffman Encoding Trees
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-45">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="true" aria-controls="sidebar-collapse-45">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-45" aria-expanded="true" aria-controls="sidebar-collapse-45">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.4.html">2.4 Multiple Representations for Abstract Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-45" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-46">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-46" aria-expanded="false" aria-controls="sidebar-collapse-46">
                <a href="./2.4.1.html"> 2.4.1 
    Representations for Complex Numbers
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-47">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-47" aria-expanded="false" aria-controls="sidebar-collapse-47">
                <a href="./2.4.2.html"> 2.4.2 
    Tagged data
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-48">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-48" aria-expanded="false" aria-controls="sidebar-collapse-48">
                <a href="./2.4.3.html"> 2.4.3 
    Data-Directed Programming and Additivity
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-49">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="true" aria-controls="sidebar-collapse-49">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-49" aria-expanded="true" aria-controls="sidebar-collapse-49">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./2.5.html">2.5 Systems with Generic Operations</a>
                </h5>
              </div>

              <div id="sidebar-collapse-49" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-50">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-50" aria-expanded="false" aria-controls="sidebar-collapse-50">
                <a href="./2.5.1.html"> 2.5.1 
    Generic Arithmetic Operations
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-51">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-51" aria-expanded="false" aria-controls="sidebar-collapse-51">
                <a href="./2.5.2.html"> 2.5.2 
    Combining Data of Different Types
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-52">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-52" aria-expanded="false" aria-controls="sidebar-collapse-52">
                <a href="./2.5.3.html"> 2.5.3 
    Example: Symbolic Algebra
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-53">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="true" aria-controls="sidebar-collapse-53">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-53" aria-expanded="true" aria-controls="sidebar-collapse-53">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.html">3 Modularity, Objects, and State</a>
                </h5>
              </div>

              <div id="sidebar-collapse-53" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-54">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="true" aria-controls="sidebar-collapse-54">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-54" aria-expanded="true" aria-controls="sidebar-collapse-54">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.1.html">3.1 Assignment and Local State</a>
                </h5>
              </div>

              <div id="sidebar-collapse-54" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-55">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-55" aria-expanded="false" aria-controls="sidebar-collapse-55">
                <a href="./3.1.1.html"> 3.1.1 
    Local State Variables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-56">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-56" aria-expanded="false" aria-controls="sidebar-collapse-56">
                <a href="./3.1.2.html"> 3.1.2 
    The Benefits of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-57">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-57" aria-expanded="false" aria-controls="sidebar-collapse-57">
                <a href="./3.1.3.html"> 3.1.3 
    The Costs of Introducing Assignment
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-58">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="true" aria-controls="sidebar-collapse-58">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-58" aria-expanded="true" aria-controls="sidebar-collapse-58">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.2.html">3.2 The Environment Model of Evaluation</a>
                </h5>
              </div>

              <div id="sidebar-collapse-58" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-59">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-59" aria-expanded="false" aria-controls="sidebar-collapse-59">
                <a href="./3.2.1.html"> 3.2.1 
    The Rules for Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-60">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-60" aria-expanded="false" aria-controls="sidebar-collapse-60">
                <a href="./3.2.2.html"> 3.2.2 
    Applying Simple
    
      <span style="color:green">Procedures</span>
      <span style="color:blue">Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-61">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-61" aria-expanded="false" aria-controls="sidebar-collapse-61">
                <a href="./3.2.3.html"> 3.2.3 
    Frames as the Repository of Local State
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-62">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-62" aria-expanded="false" aria-controls="sidebar-collapse-62">
                <a href="./3.2.4.html"> 3.2.4 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-63">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-63" aria-expanded="false" aria-controls="sidebar-collapse-63">
                <a href="./3.2.5.html"> 3.2.5 
    CSE Machine
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-64">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="true" aria-controls="sidebar-collapse-64">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-64" aria-expanded="true" aria-controls="sidebar-collapse-64">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.3.html">3.3 Modeling with Mutable Data</a>
                </h5>
              </div>

              <div id="sidebar-collapse-64" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-65">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-65" aria-expanded="false" aria-controls="sidebar-collapse-65">
                <a href="./3.3.1.html"> 3.3.1 
    Mutable List Structure
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-66">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-66" aria-expanded="false" aria-controls="sidebar-collapse-66">
                <a href="./3.3.2.html"> 3.3.2 
    Representing Queues
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-67">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-67" aria-expanded="false" aria-controls="sidebar-collapse-67">
                <a href="./3.3.3.html"> 3.3.3 
    Representing Tables
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-68">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-68" aria-expanded="false" aria-controls="sidebar-collapse-68">
                <a href="./3.3.4.html"> 3.3.4 
    A Simulator for Digital Circuits
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-69">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-69" aria-expanded="false" aria-controls="sidebar-collapse-69">
                <a href="./3.3.5.html"> 3.3.5 
    Propagation of Constraints
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-70">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-70" aria-expanded="true" aria-controls="sidebar-collapse-70">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.4.html">3.4 Concurrency: Time Is of the Essence</a>
                </h5>
              </div>

              <div id="sidebar-collapse-70" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-71">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-71" aria-expanded="false" aria-controls="sidebar-collapse-71">
                <a href="./3.4.1.html"> 3.4.1 
    The Nature of Time in Concurrent Systems
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-72">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-72" aria-expanded="false" aria-controls="sidebar-collapse-72">
                <a href="./3.4.2.html"> 3.4.2 
    Mechanisms for Controlling Concurrency
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-73">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-73" aria-expanded="true" aria-controls="sidebar-collapse-73">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./3.5.html">3.5 Streams</a>
                </h5>
              </div>

              <div id="sidebar-collapse-73" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-74">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-74" aria-expanded="false" aria-controls="sidebar-collapse-74">
                <a href="./3.5.1.html"> 3.5.1 
    Streams Are Delayed Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-75">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-75" aria-expanded="false" aria-controls="sidebar-collapse-75">
                <a href="./3.5.2.html"> 3.5.2 
    Infinite Streams
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-76">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-76" aria-expanded="false" aria-controls="sidebar-collapse-76">
                <a href="./3.5.3.html"> 3.5.3 
    Exploiting the Stream Paradigm
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-77">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-77" aria-expanded="false" aria-controls="sidebar-collapse-77">
                <a href="./3.5.4.html"> 3.5.4 
    Streams and Delayed Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-78">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-78" aria-expanded="false" aria-controls="sidebar-collapse-78">
                <a href="./3.5.5.html"> 3.5.5 
    Modularity of Functional Programs and Modularity of Objects
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-79">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="true" aria-controls="sidebar-collapse-79">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-79" aria-expanded="true" aria-controls="sidebar-collapse-79">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.html">4 Metalinguistic Abstraction</a>
                </h5>
              </div>

              <div id="sidebar-collapse-79" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-80">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="true" aria-controls="sidebar-collapse-80">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-80" aria-expanded="true" aria-controls="sidebar-collapse-80">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.1.html">4.1 The Metacircular Evaluator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-80" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-81">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-81" aria-expanded="false" aria-controls="sidebar-collapse-81">
                <a href="./4.1.1.html"> 4.1.1 
    The Core of the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-82">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-82" aria-expanded="false" aria-controls="sidebar-collapse-82">
                <a href="./4.1.2.html"> 4.1.2 
    Representing
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-83">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-83" aria-expanded="false" aria-controls="sidebar-collapse-83">
                <a href="./4.1.3.html"> 4.1.3 
    Evaluator Data Structures
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-84">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-84" aria-expanded="false" aria-controls="sidebar-collapse-84">
                <a href="./4.1.4.html"> 4.1.4 
    Running the Evaluator as a Program
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-85">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-85" aria-expanded="false" aria-controls="sidebar-collapse-85">
                <a href="./4.1.5.html"> 4.1.5 
    Data as Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-86">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-86" aria-expanded="false" aria-controls="sidebar-collapse-86">
                <a href="./4.1.6.html"> 4.1.6 
    Internal
    
      <span style="color:green">Definitions</span>
      <span style="color:blue">Declarations</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-87">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-87" aria-expanded="false" aria-controls="sidebar-collapse-87">
                <a href="./4.1.7.html"> 4.1.7 
    Separating Syntactic Analysis from Execution
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-88">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-88" aria-expanded="true" aria-controls="sidebar-collapse-88">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.2.html">4.2 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Lazy Evaluation
</a>
                </h5>
              </div>

              <div id="sidebar-collapse-88" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-89">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-89" aria-expanded="false" aria-controls="sidebar-collapse-89">
                <a href="./4.2.1.html"> 4.2.1 
    Normal Order and Applicative Order
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-90">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-90" aria-expanded="false" aria-controls="sidebar-collapse-90">
                <a href="./4.2.2.html"> 4.2.2 
    An Interpreter with Lazy Evaluation
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-91">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-91" aria-expanded="false" aria-controls="sidebar-collapse-91">
                <a href="./4.2.3.html"> 4.2.3 
    Streams as Lazy Lists
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-92">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-92" aria-expanded="true" aria-controls="sidebar-collapse-92">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.3.html">4.3 
    
      <span style="color:green">Variations on a Scheme:</span>
    
    Nondeterministic Computing
  </a>
                </h5>
              </div>

              <div id="sidebar-collapse-92" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-93">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-93" aria-expanded="false" aria-controls="sidebar-collapse-93">
                <a href="./4.3.1.html"> 4.3.1 
    
      <span style="color:green">Amb and Search</span>
      <span style="color:blue">Search and amb</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-94">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-94" aria-expanded="false" aria-controls="sidebar-collapse-94">
                <a href="./4.3.2.html"> 4.3.2 
    Examples of Nondeterministic Programs
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-95">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-95" aria-expanded="false" aria-controls="sidebar-collapse-95">
                <a href="./4.3.3.html"> 4.3.3 
    Implementing the
    
      <span style="color:green">Amb</span>
      <span style="color:blue">amb</span>
    
    Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-96">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="true" aria-controls="sidebar-collapse-96">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-96" aria-expanded="true" aria-controls="sidebar-collapse-96">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./4.4.html">4.4 Logic Programming</a>
                </h5>
              </div>

              <div id="sidebar-collapse-96" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-97">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-97" aria-expanded="false" aria-controls="sidebar-collapse-97">
                <a href="./4.4.1.html"> 4.4.1 
    Deductive Information Retrieval
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-98">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-98" aria-expanded="false" aria-controls="sidebar-collapse-98">
                <a href="./4.4.2.html"> 4.4.2 
    How the Query System Works
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-99">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-99" aria-expanded="false" aria-controls="sidebar-collapse-99">
                <a href="./4.4.3.html"> 4.4.3 
    Is Logic Programming Mathematical Logic?
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-100">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-100" aria-expanded="false" aria-controls="sidebar-collapse-100">
                <a href="./4.4.4.html"> 4.4.4 
    Implementing the Query System
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-101">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-101" aria-expanded="true" aria-controls="sidebar-collapse-101">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.html">5 Computing with Register Machines</a>
                </h5>
              </div>

              <div id="sidebar-collapse-101" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-102">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="true" aria-controls="sidebar-collapse-102">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-102" aria-expanded="true" aria-controls="sidebar-collapse-102">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.1.html">5.1 Designing Register Machines</a>
                </h5>
              </div>

              <div id="sidebar-collapse-102" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-103">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-103" aria-expanded="false" aria-controls="sidebar-collapse-103">
                <a href="./5.1.1.html"> 5.1.1 
    A Language for Describing Register Machines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-104">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-104" aria-expanded="false" aria-controls="sidebar-collapse-104">
                <a href="./5.1.2.html"> 5.1.2 
    Abstraction in Machine Design
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-105">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-105" aria-expanded="false" aria-controls="sidebar-collapse-105">
                <a href="./5.1.3.html"> 5.1.3 
    Subroutines
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-106">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-106" aria-expanded="false" aria-controls="sidebar-collapse-106">
                <a href="./5.1.4.html"> 5.1.4 
    Using a Stack to Implement Recursion
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-107">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-107" aria-expanded="false" aria-controls="sidebar-collapse-107">
                <a href="./5.1.5.html"> 5.1.5 
    Instruction Summary
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-108">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="true" aria-controls="sidebar-collapse-108">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-108" aria-expanded="true" aria-controls="sidebar-collapse-108">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.2.html">5.2 A Register-Machine Simulator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-108" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-109">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-109" aria-expanded="false" aria-controls="sidebar-collapse-109">
                <a href="./5.2.1.html"> 5.2.1 
    The Machine Model
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-110">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-110" aria-expanded="false" aria-controls="sidebar-collapse-110">
                <a href="./5.2.2.html"> 5.2.2 
    The Assembler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-111">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-111" aria-expanded="false" aria-controls="sidebar-collapse-111">
                <a href="./5.2.3.html"> 5.2.3 
    
      <span style="color:green">Generating Execution Procedures for Instructions</span>
      <span style="color:blue">Instructions and Their Execution Functions</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-112">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-112" aria-expanded="false" aria-controls="sidebar-collapse-112">
                <a href="./5.2.4.html"> 5.2.4 
    Monitoring Machine Performance
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-113">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-113" aria-expanded="true" aria-controls="sidebar-collapse-113">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.3.html">5.3 Storage Allocation and Garbage Collection</a>
                </h5>
              </div>

              <div id="sidebar-collapse-113" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-114">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-114" aria-expanded="false" aria-controls="sidebar-collapse-114">
                <a href="./5.3.1.html"> 5.3.1 
    Memory as Vectors
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-115">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-115" aria-expanded="false" aria-controls="sidebar-collapse-115">
                <a href="./5.3.2.html"> 5.3.2 
    Maintaining the Illusion of Infinite Memory
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-116">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="true" aria-controls="sidebar-collapse-116">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-116" aria-expanded="true" aria-controls="sidebar-collapse-116">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.4.html">5.4 The Explicit-Control Evaluator</a>
                </h5>
              </div>

              <div id="sidebar-collapse-116" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-117">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-117" aria-expanded="false" aria-controls="sidebar-collapse-117">
                <a href="./5.4.1.html"> 5.4.1 
    
      <span style="color:green">The Core of the Explicit-Control Evaluator</span>
      <span style="color:blue">The Dispatcher and Basic Evaluation</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-118">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-118" aria-expanded="false" aria-controls="sidebar-collapse-118">
                <a href="./5.4.2.html"> 5.4.2 
    
      <span style="color:green">
        Sequence Evaluation and Tail Recursion
      </span>
      <span style="color:blue">
        Evaluating Function Applications
      </span>
        
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-119">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-119" aria-expanded="false" aria-controls="sidebar-collapse-119">
                <a href="./5.4.3.html"> 5.4.3 
    
      <span style="color:green">
        Conditionals, Assignments and Definitions
      </span>
      <span style="color:blue">
        Blocks, Assignments, and Declarations
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-120">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-120" aria-expanded="false" aria-controls="sidebar-collapse-120">
                <a href="./5.4.4.html"> 5.4.4 
    Running the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
            <div class="card card-inverse">
              <div class="card-header" role="tab" id="sidebar-121">
                <h5 class="mb-0">
                  <a class="sidebar-show collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="true" aria-controls="sidebar-collapse-121">
                  &#10148;   <!-- ➤ (because this one is rendered blue on mobile: ▶  -->
                  </a>
                  <a class="sidebar-hide collapsed" data-toggle="collapse" href="#sidebar-collapse-121" aria-expanded="true" aria-controls="sidebar-collapse-121">
                  &#x25BC;    <!-- ▼ (because the corresponding one is not rendered) -->
                  </a>
                  <a href="./5.5.html">5.5 Compilation</a>
                </h5>
              </div>

              <div id="sidebar-collapse-121" class="collapse" role="tabpanel" aria-labelledby="headingOne">
                <div class="card-block">
            
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-122">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-122" aria-expanded="false" aria-controls="sidebar-collapse-122">
                <a href="./5.5.1.html"> 5.5.1 
    Structure of the Compiler
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-123">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-123" aria-expanded="false" aria-controls="sidebar-collapse-123">
                <a href="./5.5.2.html"> 5.5.2 
    Compiling
    
      <span style="color:green">Expressions</span>
      <span style="color:blue">Components</span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-124">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-124" aria-expanded="false" aria-controls="sidebar-collapse-124">
                <a href="./5.5.3.html"> 5.5.3 
    Compiling
    
      <span style="color:green">
	Combinations
      </span>
      <span style="color:blue">
	Applications and Return Statements
      </span>
    
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-125">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-125" aria-expanded="false" aria-controls="sidebar-collapse-125">
                <a href="./5.5.4.html"> 5.5.4 
    Combining Instruction Sequences
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-126">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-126" aria-expanded="false" aria-controls="sidebar-collapse-126">
                <a href="./5.5.5.html"> 5.5.5 
    An Example of Compiled Code
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-127">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-127" aria-expanded="false" aria-controls="sidebar-collapse-127">
                <a href="./5.5.6.html"> 5.5.6 
    Lexical Addressing
  </a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-128">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-128" aria-expanded="false" aria-controls="sidebar-collapse-128">
                <a href="./5.5.7.html"> 5.5.7 
    Interfacing Compiled Code to the Evaluator
  </a>
              </span>
            </h5>
          </div>
        </div>
        
                </div>
              </div>
            </div>
        
                </div>
              </div>
            </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-129">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-129" aria-expanded="false" aria-controls="sidebar-collapse-129">
                <a href="./references.html"> References</a>
              </span>
            </h5>
          </div>
        </div>
        
        <div class="card card-inverse">
          <div class="card-header" role="tab" id="sidebar-130">
            <h5 class="mb-0">
              <span class="collapsed" data-toggle="collapse" href="#sidebar-collapse-130" aria-expanded="false" aria-controls="sidebar-collapse-130">
                <a href="./making-of.html"> <span class='webonly'>About the SICP JS Project</span></a>
              </span>
            </h5>
          </div>
        </div>
        </div>
<div id='permalink-msg'>
<div class='screen'>
  <div class='alert alert-success'>
    <strong>Permalink copied!</strong>
  </div>
</div>
</div>
<div class='chapter-content'>

      <div class='chapter-title'>
        <div class='permalink'>
        <a name='top' class='permalink'> 
    2.2.1&nbsp;&nbsp;
    Representing Sequences
  
        </a>
        </div>
      </div>
      <div class='chapter-text'>
        <div class='SECTION'>
    

  
  <div class='permalink'>
<a name='p1' class='permalink'></a><p>

    One of the useful structures we can build with pairs is a 
    
    
    
    <EM>sequence</EM>—an ordered collection of data objects.  There
    are, of course, many ways to represent sequences in terms of pairs.  One
    particularly straightforward representation is illustrated in
    
      <span style="color:green">figure&nbsp;<REF NAME="fig:sequence-of-pairs_scheme"><a class="superscript" id="2.2.1-fig-link-2.7" href="./2.2.1.html#fig_2.7">2.7</a></REF>,</span>
      <span style="color:blue">figure&nbsp;<REF NAME="fig:sequence-of-pairs"><a class="superscript" id="2.2.1-fig-link-2.8" href="./2.2.1.html#fig_2.8">2.8</a></REF>,
      </span>
    
    where the sequence 1, 2, 3, 4 is represented as a chain of pairs.  The
    
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
    
    of each pair is the
    corresponding item in the chain, and the
    
      <span style="color:green"><kbd>cdr</kbd></span>
      <span style="color:blue"><kbd>tail</kbd></span>
    
    of the pair is the next pair in the chain.  The
    
      <span style="color:green"><kbd>cdr</kbd></span>
      <span style="color:blue"><kbd>tail</kbd></span>
    
    of the final pair signals the end of the
    
      <span style="color:green">
	sequence by pointing to a
	distinguished value that is not a pair,
      </span>
      <span style="color:blue">
	sequence,
      </span>
    
    represented in box-and-pointer
    diagrams as a diagonal line
    
    and in programs as
        
    
    
    
      <span style="color:green">the value of the variable <kbd>nil</kbd>.</span>
      <span style="color:blue">
	JavaScript's primitive value
	<kbd>null</kbd>.
      </span>
    
    The entire sequence is constructed by nested
    
      <span style="color:green"><kbd>cons</kbd></span>
      <span style="color:blue"><kbd>pair</kbd></span>
    
    operations:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cons 1
      (cons 2
            (cons 3
                  (cons 4 nil))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
pair(1, 
     pair(2, 
          pair(3, 
               pair(4, null))));
      </kbd></span></td></tr></table>
  </p></div>

    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
        <FIGURE>
      <img id="fig_2.7" src="../img_original/ch2-Z-G-13.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./2.2.1.html#fig_2.7">Figure 2.7 </a></b>The sequence 1, 2, 3, 4 represented as a chain of pairs.
	  </div></FIGURE>
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
        <FIGURE>
      <img id="fig_2.8" src="../img_javascript/ch2-Z-G-13.svg">
      <div class="chapter-text-CAPTION">
      <b><a class="caption" href="./2.2.1.html#fig_2.8">Figure 2.8 </a></b>The sequence 1, 2, 3, 4 represented as a chain of pairs.
	  </div></FIGURE>
      </span></td></tr></table>
  
  <div class='permalink'>
<a name='p2' class='permalink'></a><p>
    Such a sequence of pairs, formed by nested
    
      <span style="color:green">
	<kbd>cons</kbd>es,
      </span>
      <span style="color:blue">
	<kbd>pair</kbd> applications,
      </span>
    
    is called a
    
    <EM>list</EM>, and
    
      <span style="color:green">Scheme</span>
      <span style="color:blue">our JavaScript environment</span>
    
    provides a primitive called 
    
    
    <kbd>list</kbd> to help in constructing 
    lists.<a class='superscript' id='footnote-link-1' href='#footnote-1'>[1]</a>
    The above sequence could be produced by
    
    
    
      <span style="color:green">
      <kbd>(list 1 2 3 4)</kbd>.</span>
      <span style="color:blue"><kbd>list(1, 2, 3, 4)</kbd>.
      </span>
    
    In general, 
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(list a$_{1}$ a$_{2}$ $\ldots$ a$_{n}$)
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
list($a$$_{1}$, $a$$_{2}$, $\ldots$, $a$$_{n}$)
      </kbd></span></td></tr></table>
    is equivalent to
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cons a$_{1}$ (cons a$_{2}$ (cons $\ldots$ (cons a$_{n}$ nil) $\ldots$)))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
pair($a$$_{1}$, pair($a$$_{2}$, pair($\ldots$, pair($a$$_{n}$, null)$\ldots$)))
      </kbd></span></td></tr></table>
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
        Lisp systems conventionally print lists by printing the sequence of
        elements, enclosed in parentheses.  Thus, the data object in
        figure&nbsp;<REF NAME="fig:sequence-of-pairs_scheme"><a class="superscript" id="2.2.1-fig-link-2.7" href="./2.2.1.html#fig_2.7">2.7</a></REF>
	is printed as
	<kbd>(1 2 3 4)</kbd>:
      </span>    </td>
          <td></td>
          <td><span style="color:blue">
        Our interpreter prints pairs using a textual representation of
	box-and-pointer diagrams that we call <EM>box notation</EM>.
        
	
	
	
	
	The result of <kbd>pair(1, 2)</kbd>
        is printed as <kbd>[1, 2]</kbd>, and
	the data object in figure&nbsp;<REF NAME="fig:sequence-of-pairs"><a class="superscript" id="2.2.1-fig-link-2.8" href="./2.2.1.html#fig_2.8">2.8</a></REF> 
        is printed as 
        <kbd>[1, [2, [3, [4, null]]]]</kbd>:
      </span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define one-through-four (list 1 2 3 4))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
const one_through_four = list(1, 2, 3, 4);
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
one-through-four	    
      </kbd></span><kbd class='snippet-output'>
(1 2 3 4)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
one_through_four;
      </kbd><kbd class='snippet-output'>
[1, [2, [3, [4, null]]]]
      </kbd></span></td></tr></table>
  
  <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
        Be careful not to confuse the expression
	<kbd>(list 1 2 3 4)</kbd> with the list
	<kbd>(1 2 3 4)</kbd>, which is the result obtained
	when the expression is evaluated.  Attempting to evaluate the
	expression <kbd>(1 2 3 4)</kbd> will signal an error
	when the interpreter tries to apply the procedure
        <kbd>1</kbd> to arguments 
        <kbd>2</kbd>, <kbd>3</kbd>, 
        and <kbd>4</kbd>.
    </span>    </td>
          <td></td>
          <td></td></tr></table>
  </p></div>
  <div class='permalink'>
<a name='p3' class='permalink'></a><p>
    We can think of 
    
    
    
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
    
    as selecting the first item in the list, and of 
    
    
      <span style="color:green"><kbd>cdr</kbd></span>
      <span style="color:blue"><kbd>tail</kbd></span>
    
    as selecting the sublist consisting of all but the first item.  Nested
    applications of
    
      <span style="color:green"><kbd>car</kbd></span>
      <span style="color:blue"><kbd>head</kbd></span>
    
    and
    
      <span style="color:green"><kbd>cdr</kbd></span>
      <span style="color:blue"><kbd>tail</kbd></span>
    
    can be used to extract the second, third, and subsequent items in the
    list.<span style="color:green"><a class='superscript' id='footnote-link-2' href='#footnote-2'style="color:green">[2]</a></span>
    The constructor 
    
    
      <span style="color:green"><kbd>cons</kbd></span>
      <span style="color:blue"><kbd>pair</kbd></span>
    
    makes a list like the original one, but with an additional item at the
    beginning.
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(car one-through-four)
      </kbd></span><kbd class='snippet-output'>
1
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
head(one_through_four);
      </kbd><kbd class='snippet-output'>
1
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cdr one-through-four)
      </kbd></span><kbd class='snippet-output'>
(2 3 4)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
tail(one_through_four);
      </kbd><kbd class='snippet-output'>
[2, [3, [4, null]]]
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(car (cdr one-through-four))
      </kbd></span><kbd class='snippet-output'>
2
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
head(tail(one_through_four));
      </kbd><kbd class='snippet-output'>
2
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cons 10 one-through-four)
      </kbd></span><kbd class='snippet-output'>
(10 1 2 3 4)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
pair(10, one_through_four);
      </kbd><kbd class='snippet-output'>
[10, [1, [2, [3, [4, null]]]]]
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cons 5 one-through-four)
      </kbd></span><kbd class='snippet-output'>
(5 1 2 3 4)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
pair(5, one_through_four);
      </kbd><kbd class='snippet-output'>
[5, [1, [2, [3, [4, null]]]]]
      </kbd></span></td></tr></table>
    <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
        The value of <kbd>nil</kbd>, used to terminate the
	chain of pairs, can be thought of as a sequence of no elements, the 
        
         
        <EM>empty list</EM>.  The word <EM>nil</EM> is a contraction of the
	Latin word <EM>nihil</EM>, which means
	<QUOTE>nothing.</QUOTE><a class='superscript' id='footnote-link-3' href='#footnote-3'style="color:green">[3]</a>
    </span>    </td>
          <td></td>
          <td><span style="color:blue">
        The value <kbd>null</kbd>, used to terminate
	the chain of pairs, can be thought of as a sequence of no elements, the 
        
         
        <EM>empty list</EM>.<a class='superscript' id='footnote-link-4' href='#footnote-4'style="color:blue">[4]</a>
    </span></td></tr></table>
</p></div>
<table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td>    </td>
          <td></td>
          <td><span style="color:blue">
    <div class='permalink'>
<a name='p4' class='permalink'></a><p>
      Box notation is sometimes difficult to read. In this book, when we want to
      indicate the list nature of a data structure, we will employ the
      alternative
      
      
      <EM>list notation</EM>: Whenever possible, list notation uses
      applications
      of <kbd>list</kbd> whose evaluation would result in the
      desired structure. For example, instead of the box notation
      <span style="color:blue"><kbd class='snippet-output'>
[1, [[2, 3], [[4, [5, null]], [6, null]]]]
	</kbd></span>
      we write 
      <span style="color:blue"><kbd class='snippet-output'>
list(1, [2, 3], list(4, 5), 6)
	</kbd></span>
      in list notation.<a class='superscript' id='footnote-link-5' href='#footnote-5'style="color:blue">[5]</a>
    </p></div>
  </span></td></tr></table>
  
      <div class='permalink'>
        <a name='h1' class='permalink'></a><h2>
    
    List operations
  </h2></div>

  
  
  <div class='permalink'>
<a name='p5' class='permalink'></a><p>
    The use of pairs to represent sequences of elements as lists is accompanied
    by conventional programming techniques for manipulating lists by
    successively 
    
      <span style="color:green">
	
	
	<QUOTE><kbd>cdr</kbd>ing down</QUOTE>
	the lists.
      </span>
      <span style="color:blue">
	
	
	using <kbd>tail</kbd> to walk down the lists.
      </span>
    
    For example, the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    
    
      <span style="color:green"><kbd>list-ref</kbd></span>
      <span style="color:blue"><kbd>list_ref</kbd></span>
    
    takes as arguments a list and a number $n$ and
    returns the $n$th item of the list.  It is
    customary to number the elements of the list beginning with 0.  The method
    for computing
    
      <span style="color:green"><kbd>list-ref</kbd></span>
      <span style="color:blue"><kbd>list_ref</kbd></span>
    
    is the following:
    <UL>
      <LI>
	For $n=0$,
	
	  <span style="color:green"><kbd>list-ref</kbd></span>
	  <span style="color:blue"><kbd>list_ref</kbd></span>
	
	should return the
	
	  <span style="color:green"><kbd>car</kbd></span>
	  <span style="color:blue"><kbd>head</kbd></span>
	
	of the list.
      </LI>
      <LI>
	Otherwise,
	
	  <span style="color:green"><kbd>list-ref</kbd></span>
	  <span style="color:blue"><kbd>list_ref</kbd>
	  </span>
	
	should return  the $(n-1)$st item of the
	
	  <span style="color:green"><kbd>cdr</kbd></span>
	  <span style="color:blue"><kbd>tail</kbd></span>
	
	of the list.
      </LI>
    </UL>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (list-ref items n)
  (if (= n 0)
      (car items)
      (list-ref (cdr items) (- n 1))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function list_ref(items, n) {
    return n === 0
           ? head(items)
           : list_ref(tail(items), n - 1);
}
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define squares (list 1 4 9 16 25))
(list-ref squares 3)
      </kbd></span><kbd class='snippet-output'>
16
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
const squares = list(1, 4, 9, 16, 25);

list_ref(squares, 3);
      </kbd><kbd class='snippet-output'>
16
      </kbd></span></td></tr></table>
    
    
  </p></div>
  <div class='permalink'>
<a name='p6' class='permalink'></a><p>
    Often we
    
      <span style="color:green">
	<kbd>cdr</kbd> down the whole list.
      </span>
      <span style="color:blue">
	walk down the whole list.
      </span>
    
    To aid in this,
    
      <span style="color:green">Scheme</span>
      <span style="color:blue">our JavaScript environment</span>
    
    includes a primitive
    predicate
    
    
    
    
    
      <span style="color:green">
      <kbd>null?</kbd>,</span>
      <span style="color:blue"><kbd>is_null</kbd>,</span>
    
    which tests whether its argument is the empty list.  The
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    
    
    <kbd>length</kbd>, which returns the number of items in
    a list, illustrates this typical pattern of use:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (length items)
  (if (null? items)
      0
      (+ 1 (length (cdr items)))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function length(items) {
    return is_null(items)
           ? 0
           : 1 + length(tail(items));
}
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define odds (list 1 3 5 7))
(length odds)
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
const odds = list(1, 3, 5, 7);

length(odds);
      </kbd><kbd class='snippet-output'>
4
      </kbd></span></td></tr></table>
    The <kbd>length</kbd>
    <span style="color:green">procedure</span>
    <span style="color:blue">function</span>
    
    implements a simple recursive plan. The reduction step is:
    <UL>
      <LI>
	The <kbd>length</kbd> of any list is 1 plus the
	<kbd>length</kbd> of the
	
	  <span style="color:green"><kbd>cdr</kbd></span>
	  <span style="color:blue"><kbd>tail</kbd></span>
	
	of the list.
      </LI>
    </UL>
    This is applied successively until we reach the base case:
    <UL>
      <LI>
	The <kbd>length</kbd> of the empty list is 0.
      </LI>
    </UL>
    We could also compute <kbd>length</kbd> in an iterative
    style:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (length items)
  (define (length-iter a count)
    (if (null? a)
        count
        (length-iter (cdr a) (+ 1 count))))
  (length-iter items 0))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function length(items) {
    function length_iter(a, count) {
        return is_null(a)
               ? count
               : length_iter(tail(a), count + 1);
    }
    return length_iter(items, 0);
}
      </kbd></span></td></tr></table>
  </p></div>
  <div class='permalink'>
<a name='p7' class='permalink'></a><p>
    Another conventional programming technique is to 
    
      <span style="color:green">
	
	
	<QUOTE><kbd>cons</kbd> up</QUOTE>
	the heads and tails of an answer list while
      <kbd>cdr</kbd>ing down a list,
      </span>
      <span style="color:blue">
	
	
	
	
	construct an answer list by adjoining elements to
	the front of the list with
	<kbd>pair</kbd>
	while walking down a list using
	<kbd>tail</kbd>,
      </span>
    
    as in the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    
    <kbd>append</kbd>, which takes two lists as arguments and
    combines their elements to make a new list:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(append squares odds)
      </kbd></span><kbd class='snippet-output'>
(1 4 9 16 25 1 3 5 7)	
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
append(squares, odds);
      </kbd><kbd class='snippet-output'>
list(1, 4, 9, 16, 25, 1, 3, 5, 7)
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(append odds squares)
      </kbd></span><kbd class='snippet-output'>
(1 3 5 7 1 4 9 16 25)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
append(odds, squares);
      </kbd><kbd class='snippet-output'>
list(1, 3, 5, 7, 1, 4, 9, 16, 25)
      </kbd></span></td></tr></table>
    
      <span style="color:green"><kbd>Append</kbd></span>
      <span style="color:blue">The function <kbd>append</kbd>
      </span>
    
    is also implemented using a recursive plan. To
    <kbd>append</kbd> lists
    <kbd>list1</kbd> and <kbd>list2</kbd>,
    do the following:
    <UL>
      <LI>
	If <kbd>list1</kbd> is the empty list, then the
      result is just <kbd>list2</kbd>.
      </LI>
      <LI>
	Otherwise, <kbd>append</kbd> the
	
	  <span style="color:green"><kbd>cdr</kbd></span>
	  <span style="color:blue"><kbd>tail</kbd></span>
	
	of <kbd>list1</kbd> and 
	<kbd>list2</kbd>, and
	
	  <span style="color:green"><kbd>cons</kbd></span>
	  <span style="color:blue">adjoin</span>
	
	the
	
	  <span style="color:green"><kbd>car</kbd></span>
	  <span style="color:blue"><kbd>head</kbd></span>
	
	of <kbd>list1</kbd>
	
	  <span style="color:green">
	    onto the result:
	  </span>
	  <span style="color:blue">
	    to the result:
	  </span>
	
      </LI>
    </UL>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (append list1 list2)
  (if (null? list1)
      list2
      (cons (car list1) (append (cdr list1) list2))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function append(list1, list2) {
    return is_null(list1)
           ? list2
           : pair(head(list1), append(tail(list1), list2));
}
      </kbd></span></td></tr></table>
  </p></div>
  
    <div class="permalink">
    <a name="ex_2.17" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.17">Exercise 2.17 </a></b> 
  
     
    Define a
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
     
    
    
      <span style="color:green"><kbd>last-pair</kbd></span>
      <span style="color:blue"><kbd>last_pair</kbd></span>
    
    that returns the list that contains only the last element of a given
    (nonempty) list:
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(last-pair (list 23 72 149 34))
      </kbd></span><kbd class='snippet-output'>
(34)	
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
last_pair(list(23, 72, 149, 34));
      </kbd><kbd class='snippet-output'>
list(34)
      </kbd></span></td></tr></table>
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_1_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_1_div"><SOLUTION>
    
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
	</kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function last_pair(items) {
    return is_null(tail(items))
           ? items
           : last_pair(tail(items));
}
	</kbd></span></td></tr></table>
    </SOLUTION></div></div>
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_2.18" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.18">Exercise 2.18 </a></b> 
  
    
    Define a
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
      
    
    <kbd>reverse</kbd> that takes a list as argument and
    returns a list of the same elements in reverse order:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(reverse (list 1 4 9 16 25))
      </kbd></span><kbd class='snippet-output'>
(25 16 9 4 1)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
	reverse(list(1, 4, 9, 16, 25));
      </kbd><kbd class='snippet-output'>
list(25, 16, 9, 4, 1)
      </kbd></span></td></tr></table>
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_2_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_2_div"><SOLUTION>
    
      Naive reverse (what is the run time?):
      <span style="color:blue"><kbd class='snippet'>
function reverse(items) {
    return is_null(items)
           ? null
           : append(reverse(tail(items)),
	            pair(head(items), null));
}
	</kbd></span>
      A better version:
      <span style="color:blue"><kbd class='snippet'>   
function reverse(items) {
    function reverse_iter(items, result) {
        return is_null(items)
               ? result
               : reverse_iter(tail(items),
	                      pair(head(items), result));
    }
    return reverse_iter(items, null);
}
	</kbd></span>
    </SOLUTION></div></div>
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_2.19" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.19">Exercise 2.19 </a></b> 
  
      Consider the 
      
      change-counting program of
      section&nbsp;<REF NAME="sec:tree-recursion"><a class="superscript" id="2.2.1-sec-link-1.2.2" href="./1.2.2.html">1.2.2</a></REF>.  It would be nice to be
      able to easily change the currency used by the program, so that we could
      compute the number of ways to change a British pound, for example.  As
      the program is written, the knowledge of the currency is distributed
      partly into the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>first-denomination</kbd></span>
	<span style="color:blue"><kbd>first_denomination</kbd>
	</span>
      
      and partly into the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      
	<span style="color:green"><kbd>count-change</kbd></span>
	<span style="color:blue"><kbd>count_change</kbd>
	</span>
      
      (which knows
      that there are five kinds of U.S. coins).
      It would be nicer
      to be able to supply a list of coins to be used for making change.
    <div class='permalink'>
<a name='p8' class='permalink'></a><p>
      We want to rewrite the
      
	<span style="color:green">procedure</span>
	<span style="color:blue">function</span>
      
      <kbd>cc</kbd> so that its second argument is a list of
      the values of the coins to use rather than an integer specifying which
      coins to use.  We could then have lists that defined each kind of
      currency:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define us-coins (list 50 25 10 5 1))

(define uk-coins (list 100 50 20 10 5 2 1))
        </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
const us_coins = list(50, 25, 10, 5, 1);
const uk_coins = list(100, 50, 20, 10, 5, 2, 1);
        </kbd></span></td></tr></table>
      We could then call <kbd>cc</kbd> as follows:
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(cc 100 us-coins)
        </kbd></span><kbd class='snippet-output'>
292
        </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
cc(100, us_coins);
        </kbd><kbd class='snippet-output'>
292
	</kbd></span></td></tr></table>
      To do this will require changing the program
      <kbd>cc</kbd> somewhat.  It will still have the same
      form, but it will access its second argument differently, as follows:
      
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (cc amount coin-values)
  (cond ((= amount 0) 1)
        ((or (< amount 0) (no-more? coin-values)) 0)
        (else
         (+ (cc amount
                (except-first-denomination coin-values))
            (cc (- amount
                   (first-denomination coin-values))
                coin-values)))))
        </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function cc(amount, coin_values) {
    return amount === 0
           ? 1
           : amount < 0 || no_more(coin_values)
           ? 0
           : cc(amount, except_first_denomination(coin_values)) +
             cc(amount - first_denomination(coin_values), coin_values);
}
        </kbd></span></td></tr></table>
      Define the
      
	<span style="color:green">procedures</span>
	<span style="color:blue">functions</span>
      
      
	<span style="color:green"><kbd>first-denomination</kbd>,</span>
	<span style="color:blue"><kbd>first_denomination</kbd>,
	</span>
      
      
	<span style="color:green"><kbd>except-first-denomination</kbd>,</span>
	<span style="color:blue">
	  <kbd>except_first_denomination</kbd>,
	</span>
      
      and
      
	<span style="color:green"><kbd>no-more?</kbd></span>
	<span style="color:blue"><kbd>no_more</kbd>
	</span>
      
      in terms of primitive operations on list structures.  Does the order of
      the list
      
	<span style="color:green"><kbd>coin-values</kbd></span>
	<span style="color:blue"><kbd>coin_values</kbd>
	</span>
      
      affect the answer produced by <kbd>cc</kbd>?
      Why or why not?
    </p></div>
    
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_3_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_3_div"><SOLUTION>
    
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
	</kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function first_denomination(coin_values) {
    return head(coin_values);
}
function except_first_denomination(coin_values) {
    return tail(coin_values);
}
function no_more(coin_values) {
    return is_null(coin_values);
}
	</kbd></span></td></tr></table>
      The order of the list <kbd>coin_values</kbd>
      does not affect the answer given by any correct solution of the problem,
      because the given list represents an unordered collection of
      denominations.
    </SOLUTION></div></div>
</EXERCISE></div>


  <table width="100%">
        <colgroup><col width="48%"><col width="1%"><col width="51%"></colgroup>
        <tr>
          <td class="meta" style = "color:grey; text-align: center">Original</td>
          <td></td>
          <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
        </tr>
        <tr><td><span style="color:green">
      
    <div class="permalink">
    <a name="ex_2.20" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.20">Exercise 2.20 </a></b> 
  
	
        
        
        
        
        The procedures
        <kbd>+</kbd>, <kbd>*</kbd>, and
	<kbd>list</kbd> take arbitrary numbers of arguments.
	One way to define such procedures is to use
	<kbd>define</kbd> with <EM>dotted-tail notation</EM>.
	In a procedure definition, a parameter list that has a dot before the
	last parameter name indicates that, when the procedure is called, the
	initial parameters (if any) will have as values the initial arguments, 
        as usual, but the final parameter's value will be a <EM>list</EM>
	of any remaining arguments. For instance, given the definition
        <span style="color:green"><kbd class='snippet'>
            (define (f x y . z) $\langle \textit{body} \rangle$)
          </kbd></span>
        the procedure <kbd>f</kbd> can be called with two or
	more arguments. If we evaluate
        <span style="color:green"><kbd class='snippet'>
            (f 1 2 3 4 5 6)
          </kbd></span>
        then in the body of <kbd>f</kbd>,
	<kbd>x</kbd> will be 1,
	<kbd>y</kbd> will be 2, and
	<kbd>z</kbd> will be the list
	<kbd>(3 4 5 6)</kbd>. Given the definition
        <span style="color:green"><kbd class='snippet'>
(define (g . w) $\langle \textit{body} \rangle$)
          </kbd></span>
        the procedure <kbd>g</kbd> can be called with zero or
	more arguments. If we evaluate
        <span style="color:green"><kbd class='snippet'>
            (g 1 2 3 4 5 6)
          </kbd></span>
        then in the body of <kbd>g</kbd>,
	<kbd>w</kbd> will be the list
	<kbd>(1 2 3 4 5 6)</kbd>.<a class='superscript' id='footnote-link-6' href='#footnote-6'style="color:green">[6]</a>
        Use this notation to write a procedure
	<kbd>same-parity</kbd> that takes one or more integers
        and returns a list of all the arguments that have the same even-odd
        parity as the first argument.  For example, 
        <span style="color:green"><kbd class='snippet'>
	    ;; same-parity to be given by student
          </kbd></span>
        <span style="color:green"><kbd class='snippet'>
(same-parity 1 2 3 4 5 6 7)
          </kbd><kbd class='snippet-output'>
(1 3 5 7)
          </kbd></span>
        <span style="color:green"><kbd class='snippet'>
(same-parity 2 3 4 5 6 7)
          </kbd><kbd class='snippet-output'>
(2 4 6)
          </kbd></span>
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#no_solution_35_4_div" data-toggle="collapse">Add solution</button></div>
      <div class="solution_content collapse" id="no_solution_35_4_div">There is currently no solution available for this exercise. This textbook adaptation is a community effort. Do consider contributing by providing a solution for this exercise, using a Pull Request in <a address="https://github.com/source-academy/sicp" href="https://github.com/source-academy/sicp">Github</a>.</div>
      </div>
    
</EXERCISE></div>

      
      
    </span>    </td>
          <td></td>
          <td><span style="color:blue">
      
    <div class="permalink">
    <a name="ex_2.21" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.21">Exercise 2.21 </a></b> 
  
	In the presence of higher-order functions, it is not strictly necessary
	for functions to have multiple parameters; one would
	suffice. If we have a function such as
	<kbd>plus</kbd> that naturally requires two
	arguments, we could write a variant of the function to which we pass
	the arguments one at a time. An application of the variant to the
	first argument could return a function that we can then apply to the
	second argument, and so on. This practice—called
	
	<EM>currying</EM> and named after the American mathematician and
	logician
	
	Haskell Brooks Curry—is quite common in programming
	languages such as
	
	Haskell and
	
	OCaml. In JavaScript, a curried
	version of <kbd>plus</kbd> looks as follows.
	<span style="color:blue"><kbd class='snippet'>
function plus_curried(x) {	    
    return y => x + y;
}
	  </kbd></span>
	
	Write a function <kbd>brooks</kbd> that
	takes a curried function as first argument and as second argument a list
	of arguments to which the curried function is then applied, one by one,
	in the given order. For example, the following application of
	<kbd>brooks</kbd> should have the
	same effect as
	<kbd>plus_curried(3)(4)</kbd>:
	
	<span style="color:blue"><kbd class='snippet'>
brooks(plus_curried, list(3, 4));
	  </kbd><kbd class='snippet-output'>
7
	  </kbd></span>
	While we are at it, we might as well curry the function
	<kbd>brooks</kbd>! Write a function 
	<kbd>brooks_curried</kbd> that can be applied
	as follows:
	
	<span style="color:blue"><kbd class='snippet'>
brooks_curried(list(plus_curried, 3, 4));
	  </kbd><kbd class='snippet-output'>
7
	  </kbd></span>
	With this function <kbd>brooks_curried</kbd>,
	what are the results of evaluating the following two statements?
	<span style="color:blue"><kbd class='snippet'>
brooks_curried(list(brooks_curried,
                    list(plus_curried, 3, 4)));
	  </kbd></span>
	<span style="color:blue"><kbd class='snippet'>
brooks_curried(list(brooks_curried,
                    list(brooks_curried, 
                         list(plus_curried, 3, 4))));
	  </kbd></span>
	
	
      
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_5_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_5_div"><SOLUTION>
    
	  <OL type="a">
	    <LI>
	      <span style="color:blue"><kbd class='snippet'>
function brooks(f, items) {
    return is_null(items)
           ? f
           : brooks(f(head(items)), tail(items));
}	   
		</kbd></span>
	    </LI>
	    <LI>
	      <span style="color:blue"><kbd class='snippet'>
function brooks_curried(items) {
    return brooks(head(items), tail(items));
}	   
		</kbd></span>
	    </LI>
	    <LI>
	      The statement 
	      <span style="color:blue"><kbd class='snippet'>
brooks_curried(list(brooks_curried,
                    list(plus_curried, 3, 4)));
		</kbd></span>
	      of course evaluates to 7, as does
	    </LI>
	    <LI>
	      <span style="color:blue"><kbd class='snippet'>
brooks_curried(list(brooks_curried,
                    list(brooks_curried, 
                         list(plus_curried, 3, 4))));
		</kbd></span>
	    </LI>
	  </OL>
	</SOLUTION></div></div>
</EXERCISE></div>

      
      
    </span></td></tr></table>

  
      <div class='permalink'>
        <a name='h2' class='permalink'></a><h2>
    
    Mapping over lists
  </h2></div>

  
  
  <div class='permalink'>
<a name='p9' class='permalink'></a><p>
    One extremely useful operation is to apply some transformation to each
    element in a list and generate the list of results. For instance, the
    following
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    scales each number in a list by a given factor:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (scale-list items factor)
  (if (null? items)
      nil
      (cons (* (car items) factor)
            (scale-list (cdr items) factor))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function scale_list(items, factor) {
    return is_null(items)
           ? null
           : pair(head(items) * factor, 
                  scale_list(tail(items), factor));
}
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(scale-list (list 1 2 3 4 5) 10)
      </kbd></span><kbd class='snippet-output'>
(10 20 30 40 50)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
scale_list(list(1, 2, 3, 4, 5), 10);
      </kbd><kbd class='snippet-output'>
[10, [20, [30, [40, [50, null]]]]]
      </kbd></span></td></tr></table>
  </p></div>
  <div class='permalink'>
<a name='p10' class='permalink'></a><p>
    We can abstract this general idea and capture it as a common pattern
    expressed as a higher-order
    
      <span style="color:green">procedure,</span>
    <span style="color:blue">function,</span>
    just as in section&nbsp;<REF NAME="sec:higher-order-procedures"><a class="superscript" id="2.2.1-sec-link-1.3" href="./1.3.html">1.3</a></REF>.  The
    higher-order
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    here is called <kbd>map</kbd>.
    
      <span style="color:green"><kbd>Map</kbd></span>
      <span style="color:blue">The function <kbd>map</kbd>
      </span>
    
    takes as arguments a
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    of one argument and a list, and returns a list of the results produced by
    applying the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    to each element in the list:<span style="color:green"><a class='superscript' id='footnote-link-7' href='#footnote-7'style="color:green">[7]</a></span>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (map proc items)
  (if (null? items)
      nil
      (cons (proc (car items))
            (map proc (cdr items)))))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function map(fun, items) {
    return is_null(items)
           ? null
           : pair(fun(head(items)), 
                  map(fun, tail(items)));
}
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(map abs (list -10 2.5 -11.6 17))
      </kbd></span><kbd class='snippet-output'>
(10 2.5 11.6 17)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
map(abs, list(-10, 2.5, -11.6, 17));
      </kbd><kbd class='snippet-output'>
[10, [2.5, [11.6, [17, null]]]]
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(map (lambda (x) (* x x))
     (list 1 2 3 4))
      </kbd></span><kbd class='snippet-output'>
(1 4 9 16)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
map(x => x * x, list(1, 2, 3, 4));
      </kbd><kbd class='snippet-output'>
[1, [4, [9, [16, null]]]]
      </kbd></span></td></tr></table>
    Now we can give a new definition of
    
      <span style="color:green"><kbd>scale-list</kbd></span>
      <span style="color:blue"><kbd>scale_list</kbd></span>
    
    in terms of <kbd>map</kbd>:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (scale-list items factor)
  (map (lambda (x) (* x factor))
       items))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function scale_list(items, factor) {
    return map(x => x * factor, items);
}
      </kbd></span></td></tr></table>
  </p></div>

  <div class='permalink'>
<a name='p11' class='permalink'></a><p>
    
      <span style="color:green"><kbd>Map</kbd></span>
      <span style="color:blue">The function <kbd>map</kbd>
      </span>
    
    is an important construct, not only because it captures a common pattern,
    but because it establishes a higher level of abstraction in dealing with
    lists.  In the original definition of
    
      <span style="color:green"><kbd>scale-list</kbd>,</span>
      <span style="color:blue"><kbd>scale_list</kbd>,</span>
    
    the recursive structure of the program draws attention to the
    element-by-element processing of the list.  Defining
    
      <span style="color:green"><kbd>scale-list</kbd></span>
      <span style="color:blue"><kbd>scale_list</kbd></span>
    
    in terms of <kbd>map</kbd> suppresses that level of
    detail and emphasizes that scaling transforms a list of elements to a list
    of results.  The difference between the two definitions is not that the
    computer is performing a different process (it isn't) but that we
    think about the process differently.  In effect,
    <kbd>map</kbd> helps establish an abstraction barrier
    that isolates the implementation of
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    that transform lists from the details of how the elements of the list are
    extracted and combined.  Like the barriers shown in
    
      <span style="color:green">
	figure&nbsp;<REF NAME="fig:abstraction-barriers_scheme"><a class="superscript" id="2.2.1-fig-link-2.1" href="./2.1.2.html#fig_2.1">2.1</a></REF>,
      </span>
      <span style="color:blue">
	figure&nbsp;<REF NAME="fig:abstraction-barriers"><a class="superscript" id="2.2.1-fig-link-2.2" href="./2.1.2.html#fig_2.2">2.2</a></REF>,
      </span>
    
    this abstraction gives us the flexibility to change the low-level details
    of how sequences are implemented, while preserving the conceptual framework
    of operations that transform sequences to sequences.
    Section&nbsp;<REF NAME="sec:sequences-conventional-interfaces"><a class="superscript" id="2.2.1-sec-link-2.2.3" href="./2.2.3.html">2.2.3</a></REF> expands
    on this use of sequences as a framework for organizing programs.
  </p></div>

  
    <div class="permalink">
    <a name="ex_2.22" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.22">Exercise 2.22 </a></b> 
  
    
    The
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    
      <span style="color:green"><kbd>square-list</kbd></span>
      <span style="color:blue"><kbd>square_list</kbd></span>
    
    takes a list of numbers as argument and returns a list of the squares of
    those numbers.
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
;; square-list to be given by student
(square-list (list 1 2 3 4))
      </kbd></span><kbd class='snippet-output'>
(1 4 9 16)
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
square_list(list(1, 2, 3, 4));
      </kbd><kbd class='snippet-output'>
[1, [4, [9, [16, null]]]]	
      </kbd></span></td></tr></table>
    Here are two different definitions of
    
      <span style="color:green"><kbd>square-list</kbd>.</span>
      <span style="color:blue"><kbd>square_list</kbd>.</span>
    
    Complete both of them by filling in the missing expressions:
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (square-list items)
  (if (null? items)
      nil
      (cons ?? ??)))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function square_list(items) {
    return is_null(items) 
           ? null
           : pair($\langle{}$<EM>??</EM>$\rangle$, $\langle{}$<EM>??</EM>$\rangle$);
}
      </kbd></span></td></tr></table>
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (square-list items)
  (map ?? ??))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function square_list(items) {
   return map($\langle{}$<EM>??</EM>$\rangle$, $\langle{}$<EM>??</EM>$\rangle$);
}
      </kbd></span></td></tr></table>
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_6_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_6_div"><SOLUTION>
    
      <span style="color:blue"><kbd class='snippet'>
function square_list(items) {
    return is_null(items)
           ? null
           : pair(square(head(items)),
	          square_list(tail(items)));
}
	</kbd></span>
      <span style="color:blue"><kbd class='snippet'>  
function square_list(items) {
    return map(square, items);
}
	</kbd></span>
    </SOLUTION></div></div>
</EXERCISE></div>


  
    <div class="permalink">
    <a name="ex_2.23" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.23">Exercise 2.23 </a></b> 
   
    Louis Reasoner tries to rewrite the first
    <span style="color:green"><kbd>square-list</kbd></span>
    <span style="color:blue"><kbd>square_list</kbd></span>
    
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    of exercise&nbsp;<REF NAME="ex:square-list"><a class="superscript" id="2.2.1-ex-link-2.22" href="./2.2.1.html#ex_2.22">2.22</a></REF> so that it evolves an
    iterative process:
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (square-list items)
  (define (iter things answer)
    (if (null? things)
        answer
        (iter (cdr things) 
              (cons (square (car things))
                    answer))))
  (iter items nil))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function square_list(items) {
    function iter(things, answer) {
        return is_null(things) 
               ? answer
               : iter(tail(things), 
                      pair(square(head(things)), 
                           answer));
    }
    return iter(items, null);
}
      </kbd></span></td></tr></table>
    Unfortunately, defining
    
      <span style="color:green"><kbd>square-list</kbd></span>
      <span style="color:blue"><kbd>square_list</kbd></span>
    
    this way produces the answer list in the reverse order of the one desired.
    Why?
    <div class='permalink'>
<a name='p12' class='permalink'></a><p>
      Louis then tries to fix his bug by interchanging the arguments to
    
      <span style="color:green"><kbd>cons</kbd>:</span>
      <span style="color:blue"><kbd>pair</kbd>:</span>
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(define (square-list items)
  (define (iter things answer)
    (if (null? things)
        answer
        (iter (cdr things)
              (cons answer
                    (square (car things))))))
  (iter items nil))
      </kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function square_list(items) {
    function iter(things, answer) {
        return is_null(things)
               ? answer
               : iter(tail(things), 
                      pair(answer, 
                           square(head(things))));
    }
    return iter(items, null);
}
      </kbd></span></td></tr></table>
    This doesn't work either.  Explain.
    </p></div>
    
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_7_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_7_div"><SOLUTION>
    
      <OL type="a">
	<LI>
	  The result list is reversed in the first program because the argument
	  list is traversed in the given order, from first to last, but squares
	  are added successively to the front of the answer list via
	  <span style="color:green"><kbd>cons</kbd>.</span>
	  <span style="color:blue"><kbd>pair</kbd>.</span>
	  
	  The last element of the list is the last one to be added to the answer
	  and thus ends up as the first element of the result list.
	</LI>
	<LI>
	  The second program makes things worse! The result is not even a list
	  any longer, because the elements occupy the tail position of the
	  result list and not the head position.
	</LI>
      </OL>
    </SOLUTION></div></div>
</EXERCISE></div>


  
  
    <div class="permalink">
    <a name="ex_2.24" class="permalink"></a><EXERCISE><b><a class="exercise-number permalink" id="ex_2.24">Exercise 2.24 </a></b> 
  
    
    The
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
      
    
      <span style="color:green"><kbd>for-each</kbd></span>
      <span style="color:blue"><kbd>for_each</kbd></span>
    
    is similar to <kbd>map</kbd>.  It takes as arguments a
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    and a list of elements.  However, rather than forming a list of the
    results,
    
      <span style="color:green"><kbd>for-each</kbd></span>
      <span style="color:blue"><kbd>for_each</kbd></span>
    
    just applies the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    to each of the elements in turn, from left to right. The values returned by
    applying the
    
      <span style="color:green">procedure</span>
      <span style="color:blue">function</span>
    
    to the elements are not used
    
      <span style="color:green">at all—<kbd>for-each</kbd></span>
      <span style="color:blue">at all—<kbd>for_each</kbd>
      </span>
    
    is used with
    
      <span style="color:green">procedures</span>
      <span style="color:blue">functions</span>
    
    that perform an action, such as printing.  For example, 
    
    <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
(for-each 
   (lambda (x) (newline) (display x))
   (list 57 321 88))
      </kbd></span><kbd class='snippet-output'>
57
321
88
      </kbd></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
for_each(x => display(x), list(57, 321, 88));
      </kbd><kbd class='snippet-output'>
57
321
88
      </kbd></span></td></tr></table>
    The value returned by the call to
    
      <span style="color:green"><kbd>for-each</kbd></span>
      <span style="color:blue"><kbd>for_each</kbd></span>
    
    (not illustrated above) can be something arbitrary, such as true.  Give an
    implementation of
    
      <span style="color:green"><kbd>for-each</kbd>.</span>
      <span style="color:blue"><kbd>for_each</kbd>.</span>
    
    
  
      <div class="Solution">
      <div class="solution_btn"><button class="btn btn-secondary solution_btn" href="#solution_35_8_div" data-toggle="collapse">Solution</button></div>
      <div class="solution_content collapse" id="solution_35_8_div"><SOLUTION>
    
      <table width="100%">
          <colgroup><col width="48%"><col width="52%"></colgroup>
          
          <tr>
            <td class="meta" style = "color:grey; text-align: center">Original</td>
            <td class="meta" style = "color:grey; text-align: center">JavaScript</td>
          </tr>
          <tr>
            <td><span style="color:green"><span style="color:green"><kbd class='snippet'>
	</kbd></span></span>    </td>
            <td><span style="color:blue"><kbd class='snippet'>
function for_each(fun, items) {
    if (is_null(items)){
        return undefined;
    } else {
        fun(head(items));
        for_each(fun, tail(items));
    }
}     
	</kbd></span></td></tr></table>
    </SOLUTION></div></div>
</EXERCISE></div>

  
  
<hr>

    <div class='footnote'>
      <a class='footnote-number' id='footnote-1' href='#footnote-link-1' >[1] </a>
    <FOOTNOTE>
    In this book, we use <EM>list</EM> to mean a chain of
    pairs terminated by the end-of-list marker.  In contrast, the term
    
    
    <EM>list structure</EM> refers to any data structure made out of pairs, 
    not just to lists.
    </FOOTNOTE></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-2' href='#footnote-link-2' style="color:green">[2] </a>
    <FOOTNOTE>
    Since nested applications of
    <kbd>car</kbd> and <kbd>cdr</kbd> are
    cumbersome to write, Lisp dialects provide abbreviations for
    them—for instance, 
    
      
     <span style="color:green"><kbd class='snippet'>
(cadr $\langle arg \rangle$) = (car (cdr $\langle arg \rangle$))
       </kbd></span>
    The names of all such procedures start with <kbd>c</kbd>
    and end with <kbd>r</kbd>.  Each
    <kbd>a</kbd> between them stands for a 
    
     
    <kbd>car</kbd> operation and each
    <kbd>d</kbd> for a <kbd>cdr</kbd>
    operation, to be applied in the same order in which they appear in the
    name.  The names <kbd>car</kbd> and 
    <kbd>cdr</kbd> persist because simple combinations like
    <kbd>cadr</kbd> are
    pronounceable.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-3' href='#footnote-link-3' style="color:green">[3] </a>
    <FOOTNOTE>
    It's remarkable how much energy
	in the standardization of Lisp dialects has been dissipated in
	arguments that are literally over nothing: Should
	<kbd>nil</kbd> be an ordinary name? Should the value
	of <kbd>nil</kbd> be a symbol?  Should it be a list?
        Should it be a pair?  
         
        In Scheme, <kbd>nil</kbd> is an ordinary name, which
	we use in this section as a variable whose value is the end-of-list
	marker (just as <kbd>true</kbd> is an ordinary
	variable that has a true value).  Other dialects of Lisp, including
	Common Lisp, treat <kbd>nil</kbd> as a special
	symbol.  The
        
        authors of this book, who have endured too many language
	standardization brawls, would like to avoid the entire issue.  Once we
        have introduced quotation in
	section&nbsp;<REF NAME="sec:symbolic-data"><a class="superscript" id="2.2.1-sec-link-2.3" href="./2.3.html">2.3</a></REF>, we will denote the
	empty list as <kbd>'()</kbd> and dispense with the
        variable <kbd>nil</kbd> entirely.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-4' href='#footnote-link-4' style="color:blue">[4] </a>
    <FOOTNOTE>
    The value
	<kbd>null</kbd> is used in JavaScript for
	various purposes, but in this book we shall only use it to
	represent the empty list.
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:blue">
      <a class='footnote-number' id='footnote-5' href='#footnote-link-5' style="color:blue">[5] </a>
    <FOOTNOTE>
    Our JavaScript environment provides
      a primitive function
      <kbd>display_list</kbd>
      that works like the primitive function
      <kbd>display</kbd>, except that
      it uses list notation instead of box notation.
    
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-6' href='#footnote-link-6' style="color:green">[6] </a>
    <FOOTNOTE>
    To define
	<kbd>f</kbd> and <kbd>g</kbd> using
        
        <kbd>lambda</kbd> we would write
        <span style="color:green"><kbd class='snippet'>
(define f (lambda (x y . z) body))
(define g (lambda w body))
          </kbd></span>
    </FOOTNOTE></span></div>
    
    
    <div class='footnote'><span style="color:green">
      <a class='footnote-number' id='footnote-7' href='#footnote-link-7' style="color:green">[7] </a>
    <FOOTNOTE>
    
    	  
    Scheme standardly provides a 
      
    <kbd>map</kbd>
    procedure that is more general than the one described here. This more
    general <kbd>map</kbd> takes a procedure of
    $n$ arguments, together with
    $n$ lists, and applies the procedure to all the
    first elements of the lists, all the second elements of the lists, and so
    on, returning a list of the results.  For example:
    <span style="color:green"><kbd class='snippet'>
(map + (list 1 2 3) (list 40 50 60) (list 700 800 900))
        </kbd><kbd class='snippet-output'>
(741 852 963)
        </kbd></span>
      <span style="color:green"><kbd class='snippet'>
(map (lambda (x y) (+ x (* 2 y)))
     (list 1 2 3)
     (list 4 5 6))
        </kbd></span>
    
    </FOOTNOTE></span></div>
    
    
</div></div>

    <div class='nav'>
  
        <a class='btn btn-secondary btn-nav' href='./2.2.html'>&lt; Previous</a>
    
    <div style='flex-grow: 1;'></div>
  
        <a class='btn btn-secondary btn-nav' id='37' href='./2.2.2.html'>Next &gt;</a>
      </div>
    <div class='chapter_sign'>
      2.2.1&nbsp;&nbsp;
    Representing Sequences
  
    </div>
    <script> var chapter_id = 36; </script>
    <script> var chapter_path = "chapters/2.2.1.html"; </script>
    <div class='next-page'></div>
    </div>
    </div> <!-- /.container -->
    </body></html>