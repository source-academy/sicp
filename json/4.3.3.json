[{"id":"/sicpjs/4.3.3","tag":"TITLE","body":"4.3.3  \n    Implementing the\n    \n      \n      amb\n    \n    Evaluator"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    The evaluation of an ordinary\n    JavaScript program\n    may return a value, may never terminate, or may signal an error.\n    In nondeterministic\n    JavaScript\n    the evaluation of\n    a program\n    may in addition result in the discovery of\n    a dead end, in which case evaluation must backtrack to a previous choice\n    point.  The interpretation of nondeterministic\n    JavaScript\n    is complicated by this extra case.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n    We will construct the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator for\n    nondeterministic\n    JavaScript\n    by modifying the\n    \n    analyzing evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-1","body":"1","href":"/sicpjs/4.3.3#footnote-1"},{"body":" As in the analyzing evaluator, evaluation of\n    a component\n    is accomplished by calling an \n    \n    execution\n    function\n    produced by analysis of that\n    component.\n    The difference between the interpretation of ordinary\n    JavaScript\n    and the interpretation of nondeterministic\n    JavaScript\n    will be entirely\n    in the execution\n    functions.","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"\n      Execution\n      functions\n      and continuations\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    Recall that the\n    \n    execution\n    functions\n    for the ordinary evaluator take one argument: the environment of execution.\n    In contrast, the execution\n    functions\n    in the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator take three arguments:\n    the environment, and two\n    functions\n    called\n    ","tag":"#text"},{"tag":"EM","child":[{"body":"continuation functions","tag":"#text"}]},{"body":".\n    The evaluation of\n    a component\n    will finish by calling one of these two\n    continuations: If the evaluation results in a value, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"success continuation","tag":"#text"}]},{"body":" is called with that value; if the evaluation\n    results in the discovery of a dead end, the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"failure continuation","tag":"#text"}]},{"body":" is called.  Constructing and calling\n    appropriate continuations is the mechanism by which the nondeterministic\n    evaluator implements backtracking.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    It is the job of the success continuation to receive a value and proceed\n    with the computation.  Along with that value, the success continuation is\n    passed another failure continuation, which is to be called subsequently if\n    the use of that value leads to a dead end.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    It is the job of the failure continuation to try another branch of the\n    nondeterministic process.  The essence of the nondeterministic\n    language is in the fact that\n    components\n    may represent choices among\n    alternatives.  The evaluation of such\n    a component\n    must proceed with\n    one of the indicated alternative choices, even though it is not known\n    in advance which choices will lead to acceptable results.  To deal\n    with this, the evaluator picks one of the alternatives and passes this\n    value to the success continuation.  Together with this value, the\n    evaluator constructs and passes along a failure continuation that can\n    be called later to choose a different alternative.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    A failure is triggered during evaluation (that is, a failure\n    continuation is called) when a user program explicitly rejects the\n    current line of attack (for example, a call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" may result in execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":",\n    an expression that always\n    fails—see section ","tag":"#text"},{"tag":"REF","body":"4.3.1","href":"/sicpjs/4.3.1"},{"body":").  The failure\n    continuation in hand at that point will cause the most recent choice point\n    to choose another alternative.  If there are no more alternatives to be\n    considered at that choice point, a failure at an earlier choice point\n    is triggered, and so on.  Failure continuations are also invoked by\n    the driver loop in response to a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request, to find another value of the\n    program.","tag":"#text"}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    In addition, if a side-effect operation (such as assignment to a\n    variable) occurs on a branch of the process resulting from a choice,\n    it may be necessary, when the process finds a dead end, to undo the\n    side effect before making a new choice.  This is accomplished by\n    having the side-effect operation produce a failure continuation that\n    undoes the side effect and propagates the failure.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    In summary, failure continuations are constructed by\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions—to provide a\n\tmechanism to make alternative choices if the current choice made by the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression leads to a dead end;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tthe top-level driver—to provide a mechanism to report failure\n\twhen the choices are exhausted;\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tassignments—to intercept failures and undo assignments\n\tduring backtracking.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n    Failures are initiated only when a dead end is encountered. This occurs\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"\n\tif the user program executes\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb()"},{"body":";","tag":"#text"}]},{"tag":"LI","child":[{"body":"\n\tif the user types\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n\tat the top-level driver.\n      ","tag":"#text"}]}]}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    Failure continuations are also called during processing of a failure:\n    ","tag":"#text"},{"tag":"UL","child":[{"tag":"LI","child":[{"body":"When the failure continuation created by an assignment finishes\n      undoing a side effect, it calls the failure continuation it intercepted,\n      in order to propagate the failure back to the choice point that\n      led to this assignment or to the top level.\n\n      ","tag":"#text"}]},{"tag":"LI","child":[{"body":"When the failure continuation for an ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n      runs out of choices, it calls the failure continuation that was originally\n      given to the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", in order to propagate the\n      failure back to the previous choice point or to the top level.\n      ","tag":"#text"}]}]}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"Structure of the evaluator","tag":"#text"}]},{"tag":"TEXT","id":"#p11","child":[{"body":"\n    The syntax- and data-representation\n    functions\n    for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator, and also the basic\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":"function,\n    are identical to those in the evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", except for the fact\n    that we need additional syntax\n    functions\n    to recognize\n    \n\tthe ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" syntactic form:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":186,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01yr0bLaQzkEIfhpWvdWHtZmjFVa6pSkRohsoqDTCFZltLW1AFEVpwcYpoRrcGyFVj7UksyCW7kowKnOXRpYGgQKRKTLeQmhFnY5hAA","body":"function is_amb(component) {      \n    return is_tagged_list(component, \"application\") && \n           is_name(function_expression(component)) && \n           symbol_of_name(function_expression(component)) === \"amb\";\n}\nfunction amb_choices(component) {\n    return arg_expressions(component);\n} "},{"body":"\n\tWe continue to use the parse function of\n\tsection ","tag":"#text"},{"tag":"REF","body":"4.1.2","href":"/sicpjs/4.1.2"},{"body":", which\n\tdoesn't support ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" as a syntactic\n\tform and instead treats ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb("},{"body":"$\\ldots$","tag":"LATEX"},{"tag":"JAVASCRIPTINLINE","body":")"},{"body":" as\n\ta function application. The function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"is_amb"},{"body":" ensures that\n\twhenever the name\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" appears as the function\n\texpression of an application, the evaluator treats the\n\t\"","tag":"#text"},{"body":"application","tag":"#text"},{"body":"\" as\n\ta nondeterministic choice point.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-2","body":"2","href":"/sicpjs/4.3.3#footnote-2"}]},{"tag":"TEXT","id":"#p12","child":[{"body":"\n    We must also add to the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"body":" a\n    clause that will recognize\n    such expressions and generate an appropriate execution\n      function:","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\n$\\ldots$\n: is_amb(component)\n? analyze_amb(component)\n: is_application(component)\n$\\ldots$\n      "}]},{"tag":"TEXT","id":"#p13","child":[{"body":"\n    The top-level\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" (similar to the version of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"evaluate"},{"body":"\n    given in section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":") analyzes the\n    given\n    component\n    and applies the resulting execution\n    function\n    to the given environment, together with two given continuations:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":674,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+7uUg4ysanm96nekgwMSLTgw+twY+0+6FLG8q1WrBz5dSENG+6NCBz6B+2Gxm1q0Vd+iyEGr+sB3+gkjdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXMR7i-VFg1soBhRmXRfXhtRisqB2G7+5BlR+Pfh12sAT4gQUR4x-VDRnLEBvPZR6xsFSRy2iKpx9x3R9xzmT6CGgQEyhBrx6Ou+-VJBqS1B1zdByh7cmOdOaRG65yo+96-Qch8+njGJs6qQTOf1QeRhju-oHmlJqJtJtODJquXG7hTe4JglWQQp1e3OaOEp1YHuGoSxAea2JhlMFhhm5+9hsFZJj+7hqHDmpa7mr2-m4GIWpQOEUCMWoLBM1QbJtxwRsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szlcd8d6ah2nF3UsBykud0xts5TIBEC6adr4ZtqVRqYGd-VBu6euaMY-DdquA9twdJu9omayKmc2BmfkCyEryyYeSUDmhaTCZapOvEDb04lVGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTouBeDkzqZaFgdJxcAhoHxb3qakcaPDJYXgVmURSCJdvuNo-CVX7GJlxXdWe2FEvomUlm7UzqxbSm+jQkcSwfNqRz0xTHZff2eNGE+M1cIdUG+IlHANVYobqfFjM1YVOgJRamiyERETEWpUSZvLtZXX0q1zxaxmlYZFClGggYJRNajFUAeuhg1dRC1ZWv9sRQ9fya5FqfOu0GDZco+fBvmrOIx2TYGdlroqMuVi9dy1ADDftAjZX1ZbcEdtmoxeOrQaKqiZ+jxCFd1nrmJdIfeqYBTZ+u0HlnofaYzbptrafoxu1uDh7b+bWGraON4euYneZ2gc4z1u41+F72zEBlnZ6ateUDkjeVCl+YYDlwBc+fHYEcWiHpP2NyPdzs5lNoMZZZ6e7UzFvbsE-pUeGemtGa0z5p9qFqsEkCDu2dDpEHOZUdVrjWdsXdXL3e7jjVCnTDfe3ah0GcCdaC-a5sYDGf-aYD5bBXwGnW8FtAHmFrwQsE+y2ZDt2b3YOaOaYFOYPfA-Q6WIPcZoRhg5Y9HbPUyMg-kGIs-hQ+sYhoRiE4tSBfw-Cdq0rEHGrRVT9W8rDIE9PazYGt1aoRErKjDPFd93puWvpbuWArYu0NApIAE8bvBRau7QA1CGfR9LrBcKWd08mkI30OwotVoqAyorfkmiQzKyIvw+DjY8C6FieV0oY30Is7TavR+navUBGAXeZrN2491tbe4xali9wR1BC85Q0wvO02i+yky-i504rKVVgaapC4k8tQxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHVk+qGdV5SGQiabZta8plbDVuveoIF7aoditNgYd2Cqfetve7tDPPuIuvtFdyZJdpv+b09U5fox2m+ne3aU74c47FTg4PdVvrvMBC9cDQ+sb4+GhE5uacZk7IDk4G-9Qc7Avu9XLY6c5Y+DlHbE68de7B-Jmq5q8xdaWG9OtG+5AdferedTtW6inW+hW5HSsyq5qHZ28zbHezY2IAc5ggkrWQWSFlt0AyqyrTqh0N0zpp9x5ElK4v2fpMsC6VRPNp65vfce+B-5cfsh7NxMou8F4SLiSp50Cwl59Z7brBRjtYKgSl+610FHoCaPAKCtdSZwcN26ric3spebYN4peDklewU1VZQ7WtfOu2tlfN4cqR+t6Fk5Qwccpd85gt++8U894Zjd+bbG9SQd6Fm9+1SZXG92GN7qa1XJQj5gkxSD6sXtWs7tm9kacN6aGj7t87libN9D8-D+p6mCuT5D-vdt+xqL+vvz698-AFZyaj5t4wfr+ihJsFZ0S28W9T9tZYTYT9-JgD5tcUX74lc-G1lIWVhH904wfH+FY7bL4Zm98phJlmnRab6KeRhkDRj4uxiVcd6ldBmD5kWz+xr3pr8X4cpobfin9aEH7t9n0n7zjq7ey6Wa9a-a8VHZCcIuOIPPqTnsoLr0BeQ1aOsBYn0DVooKzkWFvUD8izwIQG6NHBIBIDgCosKOQ9DMBQ4p4tKI2FUN53JAq1eG0vbuPFxaagQB4BJMBirQJIVcyyOvPBLGGAGBttAYAiAROHvBRYgBfwQNtFhVZzQia08XjD4FWDx0WBIwI4EEmpoSACA8eUQYlXEFNFJBO3eQf43phUElAFeWgjtygG-AeOUqbYKMAQGM5ZBaAgoBgMcZYCzMOAotikEh74BtBdQPTjaEcaGMVI3WYgb3DIEtZBSpPCspwJAEExosm2FwX4MDbBNVyqsQQRk3jqjB5BykIgc0yEEWEwhUOUJquTsHchoBz9D2s4OoEIUSyqgZRskPbqtAleFiDwSqHjo+5RBrLMXv-V2otFhwOUUYPgDKGkD1AL2PtBQVFQFBgmn0DwAPD0HRRGBCKbsDXhoSZMRws8LIqSlBwS9g4kteyh4FrhBBtg+gK+HMM5gLCdu26fQObkcoOAlUAAcnACgR6AiyVQG0GWEeBDhOGVcgsKoIbD3GCwliAnC5A1BmBSscwOukeGtAthV7I3PUDbQ-DyYfwj8JykzrAixUoIo8JKyVgf5MwQI4EdCLBF6lIRYKZETCJeCvD3hUIVgIvQ7B1oD0wPe4WiJUYLD2BZbZAZMIuGkoVWpIo8M8MNiwCbA5ONxPEFZFMAw46w4kXYiuHbBt0w9eoKQGZFlkiRPIvUHyO0ACjr29QdEBkOCCZhhR1IssviPqAciuRXYW4W4GhE14uWQGdUdFkVFUi9BtAwJtCKVEmjos6YC0bPFNEbDoRAmTMOqO9C949RagdUWKNbIkj6RA5BYeaSUCGBbQ3A7MjoEOHCR9Ahw8wIcN9pMBIxoAQ4ajDjHxiLEcYw4VyHZCpjycVQSwIcIPSMi9ozIzJh4EDEZ9MmlgWoHAO5HGMHRD6cEGGOLEEF9A5Y0bEmLmEYihYhY9UaxQDF25QhypasYHkLGtdSAZYisdsCYjodvRPoisn6PerDiGAMjc8IcPnGpj+gRAAcCYFTHVg1QWkNxKmIeT7jhwNoXMbcNnE3kBhoxRcXWIvGrivADsESKmPvCUAPa9AVMWcAJqrj7wAY18XmP+4-Czx+TEcNQCHAiQrxoYoCUCnvCpigsqY2QCeO4r5jxohY20IkHvAog9Ro40bGLwvZPCXKwoQ4ShIcIEF5xjY5sbPFbG4SLUnYtkZB2An3hBOk4wcdSKkBdj5xDdLUWaMKDTivR9lIcRhKbFjjsJjw6EVcnZBvCNIPWbQPOMwmzwqxCE+mJ9EcrSSBJo2fsYL3bFgpXgYkkiJJPwkkSVJ5EtSVCL-FuBlJZEpQEZLNwaSVGhY8Mb2K7gGTxxmo34SPm4kWoaxuMRouJM87xBkJeFGwGZMEkTj3JXEtyVDkQkKhkJKQNBEJKRF4Slxs8XjHjQon2imJeg9CSOMckmVLJ1jayTxWYkXiZJTkjiU4ynFhT9UEU54IWMKlZS5JLHESRxi8k6SWKNU8yXVN9EKSUwjlVqWOJymcSzcWk7yQW1WT4SLxpEscSlNFR5TVyPU1SfJJY62Tix9k2JkVJMrOTtRI+NFuVNcAeSQQg05qcJWYldiLx7EgcQ8O2nGSIIhY0QcwOQGsCcJEvc0caNtHRZRBJUtETqLwYpBAhzExKWJgXj+N1JvIogCsOYEyiYGz01QMFMekuU-p706cWVIunBwUqtWewZnz-AjthePTNDEeBcq6884hPNhrSHWTXQSZ2gMmRTIwyq16BIQ-KsQHoHMisi6OWYUjPmHYBrpd0nQPhJglRi1xG4igJmOzHQTrA+4rcJNI-ALCCJX4-QK+KjEpioxPM+MRuGPHQz0OZg+kQAAYLOZuLdiF11lQ59ZDMEuEAA","body":"function ambeval(component, env, succeed, fail) {      \n    return analyze(component)(env, succeed, fail);\n} "}]},{"tag":"TEXT","id":"#p14","child":[{"body":"\n    A success\n    \n    continuation is a\n    function\n    of two arguments: the value just obtained and another failure continuation to\n    be used if that value leads to a subsequent failure. A\n    \n    failure continuation\n    is a\n    function\n    of no arguments.  So \n    the general form of an\n    \n    execution\n    function\n    is\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\n(env, succeed, fail) => {      \n    // $\\texttt{succeed}\\,$ is $\\texttt{(value, fail) =>}~\\ldots$\n    // $\\texttt{fail}\\,$ is $\\texttt{() =>}~\\ldots$\n    $\\ldots$\n}\n      "}]},{"tag":"TEXT","id":"#p15","child":[{"body":"\n    For example, executing\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nambeval($component$,\n        the_global_environment,\n        (value, fail) => value,\n        () => \"failed\");\n\t  "},{"body":"\n    will attempt to evaluate the given\n    component\n    and will return either the\n    component's\n    value (if the evaluation succeeds) or the\n    \n\tstring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"\"failed\""},{"body":"\n    (if the evaluation fails).\n    The call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":" in the driver loop shown\n    below uses much more complicated continuation\n    functions,\n    which continue the loop and support the\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    request.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p16","child":[{"body":"\n    Most of the complexity of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator\n    results from the mechanics of passing the continuations around as the\n    execution\n    functions\n    call each other.  In going through the following code, you should compare\n    each of the execution\n    functions\n    with the corresponding\n    function\n    for the ordinary evaluator given in\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":".\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h3","child":[{"body":"Simple expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p17","child":[{"body":"\n    The execution\n    functions\n    for the simplest kinds of expressions are\n    essentially the same as those for the ordinary evaluator, except for the\n    need to manage the continuations.  The execution\n    functions\n    simply succeed with the value of the expression, passing along the failure\n    continuation that was passed to them.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":673,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAALxsBpmTRTSbwlCIDIAXlUF4OzABIx3oDqoaviAn3F0Mvn2InZ1ihOlmi4u4s5ns2GrBWXSuCsOKqQvKuZm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGixmrKu2HSlcglntWgOqtvVqvqqUEasIGavWNavaruviES10IGmGxMItzvXGuDkmr5EKojFRFmpPlQXIHQQoB+RxEPnBuoDqCQu0FkGajQPal8BqoB1uvuoBoJJf1kAxqktAHwDatuptFAFEwsSIDBkIDcXJoRth1AAABIAAdaoCsCgDmxwWQAoRmwmpG6XJQJqq4QGJ61suWd0AW-m2TQm1wH-F61QKW4iIW9QQGGW0AJVLkDGkmjq5WwGP6hmLNbMbwSvCmnBamggWm7OPBBmlmtmjmigLmnmwmnGy61wUfHfQ2DfFDJgsCtoDzUgaGo-KhUo+oIBfw03MVTlevfwn3JVL2o+FIG8PBHKaO76zMMOkQT+BShmdMDOgOoQt23am8zO6LB0o68qiUcBKPFNCo43TOhwZ7W9QU4sgslQM7a-TMeu8PDw-O6akG460WXFd1CcAld3UlHmQiCZalVoAlNYA60lcu7YCewCdSENeK91autG+Pa6zGnWh6qawUjHOe0gGqqSoXZffelWgk9XS1WfTgyWxfX4FfV2s3VveW+IFu0s3Wze-VAofWj8F26fcaRe7uUg4yqq1wUe9-BesBz5KevOF+2e+e6Ffu8qpG2B0sASNe62F+z6LW9+5Wlq0VY+iya6s+p+y+kW54jdUVfAT43gT4tW8mva3kNQMsaLLqiXXq6TWXJhka0VFg1su+7hmXR+uoZ+pht+rG+IJ+vhsVEywUmhtwOhgQRh-h-VYRnLB+nLf+9R1s1hgW8wORvR0ayQ4xi1T6AGgQEyl+kx1oAoH+sVP+qSwB1zYB1B7cmOdOaRZa5ymeva-QZBxenjLxkGqQTOf1QeaNRBvasgIJjxkJtOMJquXeeuC6ou-oaFeJkqtBzubx7udQXuUCAeHBly-B6Rwh0WsFQJk+shqHYml6sm02qm4GWmpQOEUCSzLISvCJh5SvKS-AVGQlLkS4XwW27rTmzOZmsgSwEcAAAwFqdqh1Yt6CU0oaIbN2nF3UsBykzgFoborM5Tidqd-Rur3qsZXItSVVkBEHKfOezD1oGekKNo8GYZMEpvNraY6eoC6aCwTNUEibmhaRceaqBvEDb04lVGrUHoZCTTxSyWRATohs7Ge1kHqo+VwRziRtuTot0aFhDrxc5gdIhcAhoGheXqanMatXBoXgVmURSDhY3suY-CVX7GJiHpkWe2FGXs4Otm7RDrBbSm+jQkcTAYVqRz0xTGJegY2NGE+NFcDFLO+IlHAMFZQZyZsEUQgbecyZamiyERETEWnrcAJTMytvWpJahaxnZdhe0FGhiZvIVajFUHWuhhFdRDFc6pYQOwdd1eydBrtavR-rwZ3u1tesqbOIxy5FudoqAyorfjNYANACdftBdZX0JatQIYirFVcdqxAe1lIWVm1YJSYH9eOu0HlmwcllwZTDufDcvo2eDlLZObWAzfjwoYuaqahzDYVs4wlu41+F7weezoplBaAYVGUDkjeVChuYDrlzOfrZxrQyPBctrvqFnYYGZd913teu0AJYbe7UzA3c-lPpGoadJsYGac+ayKsEkCZtZomYdo3aWe4qRrjW-q7e4sne7jjVCnTGPZHYrLqbsaPHPYXiaa0w+daaYCpc5nwGnW8FtAHjprwQsE+3GfZs5snemdmaYAWenZfZA6WOneVoRk-aI8zekbPUyLffkGIs-jbb0YBoRkY8tQudY-BTHbcYVErEHGrRVT9W8rDPo4Xexsev42P3CbYu0NAp0mex7fiCAqk7vPYt0O+uncA412au7QA1CGfR9LrBcOzY-CjoIyvTDLsGwotVjforWEdzfkmiQzKyItg4ZhI9c-JieV0oY30MA8Deyh+jasKY-eeMJoU+0HFrxElpakC9wR1Cpc5Q0wvO038+QRrDi63YrKVU-saqpfY5fxxsJ1e2J2+tGFIDeBIBoHJ3wz2iQSMUINHT4+qGdV5SGW4+Bo1Za-9SsXhZNb2oIDLbQditNnXuiYyai2PdLtDMXuIsWoYFKYRe3tOZ3bE4PsjdFQG5bbbeE-WfI-1W-enaRszqMZMeA-Udo+GmY8bb0d47IH4666E5MI86Ed-ZO4o+ZwIee4rKu444Zny6hxdtaXa6LA8e7m5FOgJWOYYCm6ihm+hW5HSsyvA4W6uuW4U4jY2Jvs5ggkrWQWSHZt0AyqysDqh0NxDsJ6R5Eky4v0vpMvMaVRPKJ-A8s7O-e6PHR6+6FgUfW7Z5zriXx50CwiZ6p4LrBXdtYKgX5+610HrtsY-AKDVeCe1cNy+GdlZQ7XVdBsqEmDV7zh0+wU1XV6Fk5RAcqr1+DlZekEcqN85hN9B+t-N6Fkt4e45d2FRft8E9d+1Gp9cGd+1SZS96aHd41a1XJQD5gkxS8sD7uH14vNCd1-dWD617yZBpRYt8-FOp6mCp68T415Acz7m7T6d8-CRYXiL9t814HtL7ZBpZPkLYZb5fT-8TNbYRt4Zjt8661cd85md4LfpbSdz+N8r7mr791gH85ab6XW5htZz5kWBbz4SeRhkDRj4uxkllj+XvL-b+H4fBn6Wu99j9nyLe7+35AaP7fjb-JiVQwK6XK8q+q8VHZCcIuOIMXqTnsucnaYT59R+tE8nQbeXaLQU0SvPOHW1W6A1x2SMI1PQF5DVo6wFifQNWigqf9fg1HKVNsFGAbo0cEgEgIgKiwo5D0MwRjini0ojYVQ8bckHzQoYC8CmRTCwgSVkZm5ueGxHLmWUV54JYwsA21ggKQETh7wUWGAX8FhbRYBWc0GGtPF4w+BVgXtHgSMCOBBJUaEgAgPHlkGJV5BTRRQYt3UE2N6YVBJQBXloKLcUBzsPyLPAhBYDGcqgggQUCIF8MSBZmMgUZWDC-ciaYAYweoB3Y2g+G59cwDQJ7g1BLEA8a+lS0EFwCCY0WTbD4MVBcCEUjjAcqrEkFhMvaowdQcpD8GFMAhxTFrHL0tTONVy+AdwZfWNreCCSrAphnEMLr2McQFiIpiqC9o+5ZBeLZgYYKFgtFhwOUUYPgBqGZCPB3RCodHmDYpgPAA8dAdFBiEExuwNeGhOExHCzwsipKUHLz2DjM17KHgWuEEG2D6Ar4SwzmCsMW7bp9A5uRyg4CVQABycAKBHoCLJVAbQdYR4FOE4ZVyKwqgjsJMYrCWICcLkDUAi5KxzA66V4a0D2E10T8xuNtACPJhAiTOMWVDuCNFSQijwrLJWB-kzBgjwR8IqEY8VhFgp0RCIl4J8O+FQhWA3dDsHWgPTvdnhWIkaisP4HJtcBswm4aSgFaUijw7ww2KYJsDk43E8QTkUwDDjbDyRdiO4dsG3RrttApAdkWWTJECi9QQo7QCKJBH1B0Q3Ib4ZmHFH0iyyxI+oDyL5FdhHhbgeETXjJZAZtR0WVUXSPQFsCQO8ItURaOizpgbRs8S0TsPhECZMw2o70L3iNFqBtRUo1shSOZEDkVh5pJQIYFtDCDsyOgU4cJH0CnDzApwi2kwFjGgBThqMJMcmIsRJjThXIdkJmPJxVBLApwg9KyL2jsipOIYu3BXHCaWBagZg-kfwxdEPpwQUYjwPoAIL6Bqxo2NMUsJxFCxSx2olZqGKSYMc9GPYzmKWMq6kAqxNY7YExCI7+iAxFZIMXtQnHQ8Ix2gU4SuMzH9AiAA4EwJmOrBqgtIbiTMQ8hPHDgbQhYx4UuJvIjDRiHDc8KcNvFbivADsESJmPvCUBja9ATMWcChpbj7wIY78UWM5689rxmTEcNQCHAiR7xTYiCUCnvCZigsmY2QJeO4rFjxopY20IkHvAogjRU40bAoyUZvCXKwoU4VhIcIEEVxbYjsbPC7HESLUfYrkW+0gn3hhxVowPIxN5F7sjRWdPUexJeELizc6EhUOOLwntjpxhE14fCKuTsgvhGkHrNxMnHiTRsdYtCfTE+iOUVx+E2eMqVAmE1XgskkiApNIlUTlJtE3SfqlHEjUtJZkwWmpIo6ljoxFYruLZJMq6jARI+QSRagbG4xGickmzmgNnixg8KFVMSTRJnG+i4RhQLyUJPsqYSUgaCSSWiJIkPjZ4vGCGnROdEcT6RuEpSeFJMoWT6JOFHKbeO0kRS+JI46KTFMtTCTngpY0qa5NUkUdpJHGPyUZJYoNTwpTUwMepJTCOVOp04wqc1P0ltT5JLFUibeOonTjMpUUijgNNGxDSocVk7io5JbHOT8mjU9yfqJHxAtqprgHySCAMn+T2aLFTiTIxqCjFZxVIqqXtLFS1TxApY2QRF1wG8CiJek1oA6IZE4C8BFUrEQaL2ppSospKeKelLL6RS7GDY2UaKM+mSjfpc4lyoDLhkBj5xt0sFClTzag9VePjb3pK2bBgD-+S7HnsHHC5YzJaQ1BtrSHWTXQqZ2gGmXTIwxI0OBoQ21sQA4Hsisi6ORYajOWHYBHpL0nQKRKQlxjtxu4igLmPzGITrAJ4rcDNI-ArCyJAE-QN+LjEZi4xQs5MRuAvFXSKOtg5kQAAZNOUOR5uo2NmWpTZ5MEuEAA","body":"function analyze_literal(component) {\n    return (env, succeed, fail) =>\n             succeed(literal_value(component), fail);\n} "},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":671,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKuZm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqoaqUCasIBavWLao6pOviES10IGmGxMItzvS4tFWXQGsKojFRGGpPlQXIHQQoB+RxEPl+uoDqCQu0FkGajQPal8FqoB2OtOrer5EFJf1kDhqktAHwHauOptFAFEwsSIDBkIDcTxrBth1AAABIAAdaoCsCgemxwWQAoCmjGiG6XJQfq9QQGC61suWd0dmtm2TDG1wH-K61QQW4iTmwGYW0AJVLkOG7GzqqWhSo8LNbMbwSvfGnBImggEm7OPBcm6m2m+migRm5mjGpGqPNwUfHfQ2DfFDJgsCtoDzUgQGo-KhUo+oIBfw03MVTlevfwn3JVe2o+FIG8PBHKAOx6zMb2kQT+FW8mdMWO12oQ1wG2vGlauO6LB0ja8qiUcBK2mGz8T2sMiBZ7W9QU4sgslQM7a-TMOOiAjwlOwar6za0WXFd1CcAld3UlHmQiCZalVoAlNYNa0lXO7YPuwCdSENeK91QutRBWsWydM6galG0VEe0gWqqSoXZfFermgk9XS1WfTggWxfX4Fffais1vJe7QKu0s5Wy+-VAoF6zmS2j6osVuka2fZWaq1wbu9-Me0gyLTgpaoelaje8M6FT+7Yb+0sASGe62R+z6RehG5ey2nmsFCBreqHHe5WwUjdUVfAT43gT4mWjOm83kNQMsaLCfcXQy+fYiWXMh7isVFg1s4+hh6TTA8+p6+eqHa+1B3B5hsVEy-B1WsAT4gQUhlhi1DhnLU+nLF+mRlhyh9m8wYR5RoWNhzR4OT6JGgQEyx+nR1oAoPh0VZ+qSt+6fcacei8mOdOaRSa5ysBm8-QUeqBkq8qnjexr6qQTOf1QeaNR+glMgdx8e7xtOXxquXeeuPa5am82QMJ6BiJiubudQXuUCAeRBlylBpWve1q0VNxzew6qSrGq63GrWwm4GEmpQOEUCSzLISvfxh5SvUpsAVGQlLkS4XwI27rBmzOKmsgSwEcAAA3ZvNpwczjUb3u5rOOFunF3UsByimd02Fs5VCeKd-SOryf0ZXItSVUSc2bWG2euuVqUfJjVquA1vIeoG1uqayNqc2HqfkEaYTNUACbmhaUsZavft8Db04lVGrXboZCTTxSyWRFDr+s7Ge1kAao+VwRzghtuTovObBU9tReDgdP+cAhoCBcnqag0bcEhYXgVmURSFBbnr2Y-CVX7GJg7pkWe2FEnpAclm7U9t+amVingtn3FqRz0xTCxYAY2NGE+McSAdUG+IlHAI5dscUV-vIf6BGivWiyERETEUHrcAJTM31tmuxcBaxjpZBe0FGmCZWrFcDFLNmuhjQnNajHFu1YO1NZvK5CSc8e2BNZycOvhp2fOrmdFRdeKbproqMuVgddy1AFtftFUGGnswxdaEVtOYirFSsdcxsegZ+jxFJd1lic7qmpWqYFde+u0HlgQcliQZTFycTfQb9dYJEGwctVwZmYKbNwTfFs435u41+F72zEBjjYph+esYVGUDkjeVCkOYYDlxOcRvOoIcWhTQqON3Hd9s5lFsEfRfye7UzCXbsHrdXLKZxsYEqZ1pJqsEkEpppr6dNvHYme4ohrjTwZrZYeHe7jjVCnTG3b7YrJKeMY-H3YXgqa0wJuPaYEJaFnwGnW8FtAHlJrwQsE+16bpoZuHcGeGaYDGdHZvZ-aWNHc5oRgwaw-jZvs2zvfkGIs-k-Z0aRoRgo6h12Zo4-BTdq0rEHGrRVT9W8rDLI6nbQZnZcrULYu0NAp0me1bfiCAr8YE+tN0MetHYTvBRau7QA1CGfR9LrBcKTY-H9oIyvTDJ3Zf1oqAyorfkmiQzKyItA85hw4s4ZieV0oY30Lk+NavR+navSYfY2IxtE+0D5sze4xahc9wR1FA85Q0wvO0yc+ygC-SapdbKVTvqatA7o5f0tsJ1e2J0etGFIDeBIBoHJ3wz2iQSMUINHRY+qGdV5SGVTaKvTa8vpcmvicVYIELc2rDKRHGtnqCYa6iyXeztDPHuIva4pc6-Bfjy9dE85ubeDia6OYo846bfw8tWfdHYhrjvUZ0e-c0ZI+Gio8m80eY7IFY-K-9TU7Aus4HJw404I7BXG7O9bJ2-o9fp7bk-yZw0Hc+rde7m5FOhCaztJRzugdeW5HSsyv-eyZG8rendXueMPtfsNkrWQWSDpt0Ayqyrdv4ePyN2uBR--Zi+-z3pMsJaVRPOx5Eh3Y26u75yXoe9bNEcfYp4-Hh5RG63TRJ-jrMc5nTt0agTiUR4GAbqMY-AKBleSflcN26sce1Fx7cE5VsfF+heDhpewU1VZQ7Q8e+pOhV6FkV8+-ls15XbV7bscr14Zm19q9SXdRhZq-Y7q8l8U+kG1SZRt6aEt7da1XJUd5gkxTN6sXtTt7sciedmN-Jhl-Tc7gcfl618-G2p6mCp94t9V9l5ZlLbzj9+JcCd2Bd-V7T+il+pJZ0SG92Cl9cG17lZT4T-TdL-j8j5846CzccO4Vt-L4++1lIR-rL+r6XW5kNbj5kS+ab6LeRhkDRj4uxlZYV8-Enoj-19scn6D+pYcqAbb6r+n5q8X7fjn6PCVQwK6Sy5y7y8VHZCcIuOIPHqTnsuckeYl5SEne9arZnecZTXCdmgh54-ere-EADvoF5GrTrAsX0GrSgoX9fgZ6EcLPAhAbo0cEgEgP-yiwo5D0MwGjini0ojYVQRnckKzR4a880mGTCwgSXPqs0CS8XMsjKzwSxhv+RrP-gAInD3gosX-P4CC2izss5oQNaeLxh8CrB7alAkYEcCCTQ0JABAePFwMSo8CmifAkbiIMMb0wqCSgCvLQRG5ADnYfkMAaMAgGM4hBcAgoAgOYZICzMKAkNtf2Yb4AFB6gW-jaGYaNssBPcGoJYgHgH1QOdAn-gTGizEceGDgkFuzyvr2I2Bvje2qMBEHKRLB6TawZkxawC9LUFjPdmAGMF70Na5gwgQhRLKqAyGHg9OunQsQZMVQ9tH3FwLja08NiMPMFC0WHA5RRg+AdIcEJMHdEPBlBeep9A8ADwpUbIcgQim7A14aEfjUATUGiyg56ewcKmvZQ8C1wgg2wfQFfF6Gcx+hI3bdPoHNyOUHASqAAOTgBQI9ARZKoDaBDCPACwnDKuX6FUFxhOjfoSxAThcgag3nJWOYHXQHDWgkw+difmNxtprh5MW4ZpxiywcnhoqF4ZvwkBKwP8mYR4U8K+GvDHiHwsFECO+HohuQZwqEKwHDxtg60B6K7nsNBEsN+hNAiNtAM6EqBGBsWFEUeCOGGwlBNgcnG4niAkimAYcMYUiLsSbDtg26BdvUFIBEiyyiI6kXqFpHaB6R9w+oJCNOHBBMwTIrEY3Q7DkjKRXYHYW4C+E15cWQGUUdFgFGYjGhxAn9l8MFFKjos6YNUbPGVHjCvhAmTMKKO9C94ZRagUUayNbLIi8RA5foeaSUCGBbQDA7MjoAWHCR9ACw8wAsN1pMB3RoABYajB9G+iLEPohYVyHZDBjycVQSwAsIPQEi9oRIiTnaLtypN9AlgWoGAKpEyM9RD6cEC6I8D6ACCKYtMUoADG9DwRQseMaKNYqJiHRLQ5UpmMDzxicupAPxqmNGwmVzRmjS0VaIrI2iVqTYhgDQ3PALD+xwY-oEQAHAmBgx1YNUFpDcTBiHk844cDaGjE7DexN5BoaMUHE5iNxo4rwA7BEjBj7wlADWvQGDFnAAao4+8HaNPExjbuuo1MitRHDUAhwIkLcc6KfFAp7wwYoLMGNkArjuKsY8aPGNtCJB7wKIGUS2KLGiNZ2hwlysKAWEgSHCBBfsQWNbGzwSxsEi1BWNJF3tnx94cjlhzLGcxsJFI7QP2PjoSiVRhQbsRaPsqNiIJhYtsRmLZFcx5EjRU4RpB6xkSGJaElrGhk7H0xPojlfsZBNGx1iKeREzFuxJIhcT4JKExiehPElipJJ3FESQpI5oAS7xGRRoQmPtEB8VQ6k9sUxBuEj4aJFqLMbjGkmcSWKwEvCjYDUm8T2xlEz4dRLMlQ5AJCoYCSkDQTQSPhFkk5DmNni8Y-qGE+8VhM6HgTmxhkw7IRIbERSNxok9MR2OUZdi3J+qDyc8HjEJTop-E0sSwLYnsgOJBneINlN4nMTdhgklMI5VKlFilJBHFSZzFeCFSZJLFeCRuNQlFjQpLkgjjVLEmaSCO8Y10UmK7jRTxRJkkxp8zSmuB-JEUKycVJAE6TKxG4iifWP2FTTlJdEiKVwO87QCqBME+nqqMVHajosXA5yaCKlErUgpUWUlF5OCkLxDGEkmkUQGGHeduRt9I6aoGMl5SRuV0s6d2NSnrTg4KVWrLYxpii8K2Y3KnvkwW6cwvOtDCXJwxlxRU4oyvM1FpIZixsZajHbAOsmui4ztA+MwmRhghqkC3B+VYgKQKJFZF0cPQwGX0OwDxjtp8En8R6LHETiKA4YyMd+OsDzitwXUj8P0IQlXj9Ap4j0UGI9EszfRG4ZcV9II5aC8RAABme5Q5e2oHVWSrPLIlwgAA","body":"function analyze_name(component) {\n    return (env, succeed, fail) =>\n             succeed(lookup_symbol_value(symbol_of_name(component),\n                                         env),\n                     fail);\n} "},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":670,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGpPlQXIHQQoB+RxEPkuuoDqCQu0FkGajQPGvj1vTqumtmqOr5EFJf1kEmt2vwHaumptFAFEwsSIDBkIDcUhqeth1AAABIAAdaoCsCgLGxwWQAoZG3al66XJQfq9QQGBa1suWd0Imwm2TXa1wH-Ja1QGm4iEmwGOm0AJVLkSasGzq1mhSo8LNbMbwSvKGnBWGggeG7OPBJGtGjGrGigHGvG3av6qPNwUfHfQ2DfFDJgsCtoDzUgW6o-KhUo+oIBfw03MVTlevfwn3JVLWo+FIG8PBHKa2kw1NM2kQT+fm8mdMD2g2oQ1wdWyGjc4WQIxmKKIasq4m6HDBaAlNCo43T2hwZ7W9QU4sgslQM7a-TMJO8PDw-2was6qO0WXFd1CcAld3UlHmQiCZalVoAlNYEQaLSO8q7QauwCdSENeK91VWj67mxmydOagagG0VRu0gWqqSoXZfIe0mgk9XS1WfTg6mxfX4FfOOis1vAe7QdO0svm9e-VAoA6zmFWk6osIuka2fZWMa4Om8yukgwMSLTggq-FEOse8M6Fc+7YS+0sASLu62fez6fun6welW8msFN+ieqHKevmwUjdUVfAT43gT49mm+-oQldQNQMsaLCfcXQy9a6TWXFB7isVFg1sxe-BmXFeuoNelBze4B6BohsVEy2BgWsAT4gQZB4hi1chnLZenLI+rh4h3kTBlmiKwR8R1wUhiRoWT6P6gQEy-e6RtW3ug+gR8mE+6fcaFu7cmOdOaRLEOBxaNwHwpu0lbRnjXRs6qQTOf1QeaNfeglMgUxj+kq1uzuPRi8h2+ue1BxkO2QZx8x9xqxnuGoSxAef+lyoB3mme1q0VfQEQSBy1UGpaiG0WmG4GeGpQOEUCSzLISvGxh5SvKS-AVGQlLkS4XwWW7rbGzOVGsgSwEcAAAyJqVqgcziJpgbOLpunF3UsBynad0zps5ScfHq+qmuibkZXItSVX8dGd-W+omezEBjUY-EFquGFpvuoDFoyayKyc2ByfkDyYTNUFsbmhaSko0dc3Iq11VGrRLoZCTTxSyWRC8YXk7Ge1kAao+VwRzhetuTopWeDhNsBaFgdLb04luaxmJjBiakYdaFeZPlITPmtimY-CVX7GhdSXdWe2FHbqfslm7RNtPrSm+jQkcVINLLPz0xTDBff2eNGE+PJYftUG+IlHAOJZcfOvFjM1YVOgJRamiyERETETruMZDp5ZXX0puZoDufbtClGl8ZvKZajFUDDuhjJdRApaZolY50VbQa5ACc-u0AVcibGZ5uWpJtibBQNdGcxroqMuVh1eGmVftFVZXxBbcHNdmouZao5e0Z+jxAVmUTfmvoJSYENdce2Hlj-slgAZTCiYtZibAeDnDbmbWA9aONXpnrJq6YrK9fiE4ypu41+F7yWe9p319c0YVGUDkjeVClmYYDlwWcTdAcMdsWec-BNpeqTue3ze0GBZie7UzAbc-kSdXOSfBsYDSfFvhqsEkBRvRuqYVobdae4perjU6bWLhdcBre7jjVCnTBHfLbNy+u3aFgnYXlSa02hpnaYDPc5nwGnW8FtAHgRrwQsE+yqcxuxprbqYaaYGabrdXaUaWLrZJoRmTZA89a3s23XfkGIs-gzYkb+oRiQ6h0mbQ4-Eudq0rEHGrRVT9W8rDIQ+bd+vmv42P2sbYu0NAp0l7a3qAqo7vPYt0LdrrePYphau7QA1CGfR9LrBcLEY-CtoIyvTDLsGwotVoqAyorfkmiQzKyIvvYZjA+U-UZozWEdzk-0PLeNavR+navUBGEmZHqhz7cpsDe4xagM9wR1DPc5Q0wvO0z0+yhs6M9RdbKVR3qarPYw5fxVsJ1e2JzdtGFIDeBIBoHJ3wz2iQSMUINHTw+qGdV5SGSuaKs-uS-9SsSebFZvIIAjfOrDKRDytDV2BUYJRHeiwdO0eIpK4YAiY7YTbI+HtzbBXy7TaQ+I+zatah13bre7YNvMGU9PYkbg+GhQ56-Edw7IHw8y6I5MLU7If3aG6g7M4Hsw6UYm424Zj8-Q99daTS9Osje7m5D5ZDpGYYCq9DJq+hW5HSsysvYa5qrNfW6TeePnuPsNkrWQWSExt0AyqysNqh0Ny7fqYe5Eg8+-xnpMu3aVRPIB8vYk5G9W8x3W8W+DmYda5R59riV+50CwgR4h4DrBSDpTagVx+610CTsUY-AKD9aNevsN26v0e1Eh7cE5X9eZ-eeDnRewU1VZQ7U5eLppgF6Fl55O65tF85g54y8cql4ZnF68tLpkQ+dl8I+V92G4+kG1SZQ19Z9V8ja1XJV15gkxSV6xejS14vMsednl-Jhl+O6Cdt7zit-SlchjZd8F855Zg9+xZ58-ARe56Fgd65cD4RaDd1lAWtit8UTt+E6F5Gtj897F8-G1iRZDeT+l4T5sDT+De8b95T4qEphJlmnOa96NeRhkDRj4uxgJf94xdBgt81-L+O-bqD85kV4pavsz4ZhD+Lu-vz5V-94wK6TC4i6i8VHZCcIuOIO0aTnsucj2ZZ5SCbfGZbfI+co7cCbzia5AcrcO-EGtvoF5GrTrAsX0GrSgsX9+DPRHFnghA3TRwkBIAv6ixR0PRmDQ5Ty0pGxVFk-JAJpZs8e3cIzqE1AgDwCSq9AmgSW85lk-WeCWMCfwebaBz+l-CcPeCizH8-gDzaLESzmh3Vp4vGHwKsC1qoCRgRwIJO9QkAEB48ZAxKhQKaJUCO2DAhRvTCoJKAK8tBLftyCX638pU2wUYI-0Zx0D3+BQT-kQ2-5mZf+DrFfkQ3wDX86ga-G0EQ2gYqRusIA3uOAJaywMz2WA0-gTGiywcs2egh5io1XKqwiBVjLWqMAYHKRgBITYgRYTMFQ5D6cgsAAoPUAz1haKgmAQhRLKqAUGzgwOiIVaAWJNBKoLWj7jIEgtMeGxD7mChaLDgcoowfAGELAGeDuiQQ6PCo0+geAB4-A6KEgIRTdga8NCaxnfxqDRZQc2PYOKjXsoeBa4QQbYPoCvg1DOYdQjttun0Dm5HKDgJVAAHJwAoEegIslUBtBGhHgfoThlXJ1CqCbQiRnUJYgJwuQNQFAUrHMDrp5hrQDofHRPzG420Ww8mDsPj4m1DhYqY4UeHRZKwP8mYA4YcIuHx9HiZwsFA8MuEvBlhqwqEKwDzodg60B6VbrMOeHEM6hGA0AKQD8izwVAuA2LECKPCLDDYEImwOTjcTxBkRTAMOK0IBF2IJh2wbdAnXqDgiKhZZf4ViL1A4jtAeIvYfUHRA8DggmYQkfwLLI-D6gaIjEV2GmFuALhNeGVkBlZHRZ6RL-IkSSPEYXCGRkI6LOmDFGqBhRKPC4QJkzCsjvQveHkWoFZEyizcgI2EQOTqHmklAhgW0DgOzI6B+hwkfQP0PMD9CJaTAc0aAH6GowbRtoixDaP6Fch2Qzo8nFUEsD9CD08IvaIiKo56i7cFcaxpYFqD39MRXDOUQ+nBAmiPA+gAgvoFDGjYHRNQ14ULH9GsjWKgYg0cUOVKRjA8-oiLqQBDFhjtgTEEDpqK1EVkdRIdIsZdyNHaB+hdY50f0CIADgTAzo6sGqC0huJnRDyPscOBtDejphNYm8vkNGLYNzw-Q8cS2K8AOwRIzo+8JQGFr0BnRZwG6i2PvB6jVxPo9HqmNTJ+MmA1AIcCJEnExiRwx4+8M6KCzOjZAw47ir6PGj+jbQiQe8CiB5EljRszDNtiKJcrCh+hL4hwgQTrEJikxs8FMQsILEVCpAmYi8UCnvCIcKxUE-gTBJRH9seRXtDkUo0rFViocj4hUIWI-GJjSx34+YRcKuTsgVhGkHrOhOLHETRsEYh8fTE+iOU6xn42eHmNlG7VXglEkiDRP-EgT6J4EziecL3FsShJ0dGYXuP9GmigxXcCSSZXZHbCR8uEi1FGNxiNEqJ0neIM+Lwo2BxJYEsseqNqGFBVJGo+ys+JSBoJSJ9wv8VONni8YrqEEtoWmM5iES6JhkkyiJN-EWp-R449iUZKwm-i5hZktSRZOgn+SFJjEqDuRI4yaS+JLFSKYZOinajmJKYRyklNLHeSkJZuHiVpLtarJ-x440CaWOcmipXJxDTKaNmymWoKp3FGSXGLkkeMopSkzkSPjOahTXA6kkEHlISnCVoJmY8cZhPzEhTOp5U8KShLIEoCX+aAn8VxNaBSioRpKMgUFOeFciQ6DkqLKSksmOS3mxknyW6HJH4jt6goxkeWP3EdtNpq0qsThLGnBwUqtWb3t1Dq5ncbyA0NVizCQx7ln69dEOja3frmM3emUMTrG1NbzM1+zXf6ljyFh9tEsuhd6c1Ddr7V2a2HbAOsmujoztAmM7GRhheoICTB+VYgAgMRFZF0c1Qu6SZP9FTT-xN4i0a2PbEUB3Rno68dYD7FbgypH4OoQBK3H6BVxFop0RaNpm2iNwQ486VB3EGwiAADBx0tTLMz2csqHArIZglwgAA","body":"function analyze_lambda_expression(component) {\n    const params = lambda_parameter_symbols(component);\n    const bfun = analyze(lambda_body(component));\n    return (env, succeed, fail) =>\n             succeed(make_function(params, bfun, env),\n                     fail);\n} "}]},{"tag":"TEXT","id":"#p18","child":[{"body":"\n    Notice that looking up a\n    name\n    always \"","tag":"#text"},{"body":"succeeds.","tag":"#text"},{"body":"\"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"lookup_symbol_value"},{"body":"\n    fails to find the\n    name,\n    it signals an\n    error, as usual.  Such a \"","tag":"#text"},{"body":"failure","tag":"#text"},{"body":"\" indicates a program\n    bug—a reference to an unbound\n    name;\n    it is not an indication\n    that we should try another nondeterministic choice instead of the one that\n    is currently being tried.\n  ","tag":"#text"}]},{"tag":"SUBHEADING","id":"#h4","child":[{"body":"Conditionals and sequences","tag":"#text"}]},{"tag":"TEXT","id":"#p19","child":[{"body":"\n    Conditionals are also handled in a similar way as in the ordinary\n    evaluator.  The execution\n    function\n    generated by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_conditional"},{"body":"\n    invokes the predicate execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    with a success continuation that checks whether the predicate value is true\n    and goes on to execute either the consequent or the alternative.  If the\n    execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pfun"},{"body":"\n    fails, the original failure continuation for\n    the\n    \n\tconditional\n      \n    expression is called.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_conditional(component) {      \n    const pfun = analyze(conditional_predicate(component));\n    const cfun = analyze(conditional_consequent(component));\n    const afun = analyze(conditional_alternative(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  // success continuation for evaluating the predicate \n                  // to obtain $\\texttt{pred\\char`_value}$\n                  (pred_value, fail2) =>\n                    is_truthy(pred_value) \n                    ? cfun(env, succeed, fail2)\n                    : afun(env, succeed, fail2),\n                  // failure continuation for evaluating the predicate\t\t    \n                  fail);\n}\n      "}]},{"tag":"TEXT","id":"#p20","child":[{"body":"\n\tSequences are also handled in the same way as in the previous\n\tevaluator, except for the machinations in the\n\tsubfunction\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"sequentially"},{"body":" that are required for passing the\n\tcontinuations. Namely, to sequentially execute ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":"\n\tand then ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":", we call\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"a"},{"body":" with a success continuation that calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"b"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_sequence(stmts) {\n    function sequentially(a, b) {\n        return (env, succeed, fail) => \n                 a(env, \n                   // success continuation for calling $\\texttt{a}$\n                   (a_value, fail2) =>\n                     is_return_value(a_value)\n                     ? succeed(a_value, fail2)\n                     : b(env, succeed, fail2),\n                   // failure continuation for calling $\\texttt{a}$\n                   fail);\n    }\n    function loop(first_fun, rest_funs) {\n        return is_null(rest_funs)\n               ? first_fun\n               : loop(sequentially(first_fun, head(rest_funs)),\n                      tail(rest_funs));\n    }\n    const funs = map(analyze, stmts);\n    return is_null(funs) \n           ? env => undefined\n           : loop(head(funs), tail(funs));\n}\n\t  "}]},{"tag":"SUBHEADING","id":"#h5","child":[{"body":"Declarations\n      and assignments\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p21","child":[{"body":"Declarations\n    are another case where we must go to some trouble to\n    manage the continuations, because it is necessary to evaluate the\n    \n\tdeclaration-value expression before actually declaring the new name.\n      \n    To accomplish this, the\n    declaration-value\n    execution\n    function\n      ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    is called with the environment, a success continuation, and the\n    failure continuation.  If the execution of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"\n    succeeds, obtaining a value ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"val"},{"body":" for the\n    \n\tdeclared name, the name is declared and the success is propagated:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":666,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqka2fZWManm9693UldemMCZalVoAlNYT63erG8q1W0gyLfWq6+K91Qemmh2s2ydDWpmtYjHE+0gWqqSoXZfV+rW54jdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXCB7i-VFg1s2fTg-WzA34FfKOs3VvZ+3+tGtBo4gkoBtwEBgQcBsh-VLBpBmXPPVBuhsFaBy2iK1hrhjBrhoWT6CGgQEygh3htwAoB+-VAoUh8mSO6fcaXu7cmOdOaRG65yo+96-QU+6Fc+3OaONOM6qQTOf1QeaNAhglMgTR+RnjRR-RquXG7hbUNurem82QCx7RqxvR1YHuGoSxAea2Ahz6J+2Gxm1q0VDRr+kGqSjmpa7mr2-m4GIWpQOEUCMWoLBM1QIxzh4BsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVp-szg4YEZCbN2nF3UsBygad0xts5XMfCd-VBoZv-uNv1SVRcb6bWAGadqGakY-DdquA9qceoG9viayMSc2GSfkCyEr0MYeSUDmhaSkpkdc3Iq11VGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTopmeDkzq+aFgdLb04jOaxmJkud+ehpJoXgVmURSCufvuGaPCVX7BBdSXdWe2FB5kIgPvtW7UzpOqWG+jQkcSvvNqRz0xTH+ff2eNGE+KJcDFLO+IlHALxcAu0fFjM1YVOgJRamiyERETEUPrcAJXZZXX0tOZoHOYxYYG0FGlMfetpajFUAeuhkJdRGJZWv9sRTUZvK5FcdXu2BlZcsCcGYxu1uDh1fCdlroqMuVmFdy1AHlftEVZXzBatWfvMEOZauZa0b1Z+jxChd1nrmucFfeqYF1fOu0HlhDTvpMcNbpsdvBvmrOIx1DfGZdfjzwaGdNeZ2Ic4z1u41+F72zEBjTaOdq2UDkjeVCjGYYDl0mYTYGrQyPBcuHvqGrdzs5lNthu0B+dfvhaD1TTbbsG-rQaiempia0z5p9qFqsEkCDqKdDpEDqbQdVrjWdqzdXPLe7jjVCnTEHbTahwiZEddrAEdvHdJuWaRjcRYaybaDIG8FtAHmFrwQsE+0KZDpKfLfKcqaYBqcraXaPaWMrcZoRnXYA-jfiE2xXfkGIs-n3boYhoRjg4tSaaQ4109dkYVErEHGrRVT9W8rDJg7rZfpNf42PwMbYu0NAp0me3A-ebuWAoo+tN0ORsrcbvBRau7QA1CGfR9LrBcMyd92FiRD5ZyhcOwotVoqAyorfkmiQzKyIuvbBSA8U+DieV0oY30LY+lavR+navUBGCacFN2to91r9e4xal09wR1BU-Nw0wvO020+yks-077dd3tYQpLKaps5Q5fwxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHWw+qGdV5SGWOaKtZa8txXdQnBrzDZ+rDOE6jb8Y7v6GhS7tJR7u0eItvthZjZudpv6fpqmZNaTcOpEGHctQI8zea7N03crdVvrvde4f6Zs6OKA9fpA66+4YrHi9w5dUIpIFQ64dG+G9XPA4W9YYQ7Y-RqLc28jtaRS9Op9ccs3rMdK8ZiinkdeW5HSsyq5sK9q6Nca8TY2PVyFggkrWQWSFlt0AyqyrTqh0N0zu+5u5Elc5NtfpMpU6VRPJ+65qHcPYA8irdeW9FRMtA4R9aHe5RG63TRh5B8ceDhjtYKgTiU+4GFHuEY-AKC9csc3sN26uUYccedZfp4eeDkRewU1VZQ7W9fOu2tRbZ4cu5FZ6Fk5Xke7iF656FnZ8S-9SsTziZ8O7w4y5kU4+kG1SZWV92AV-DfV+SWZRkDRnS5RejVV4vOsedkl47Z5+xs7iUeF85ml7+p6mCrl-55F+t5Gqd9vvt4Zml7uYXh9-JlF9Zf97ZAhZPlITPmtlN8UUt4ZmD59dj-l4F9M46H9ccPsaaG1+xu1kj7fjj-Jml8phJlmgOe58seRgN4vMJmBaHGj5T+kElcD4-AT956b4L4-Gl73sDbd6t7F+78z-CH87ey6RC7C4i8VHZCcIuOIPkaTnsucjWYZ5SFrYa-rchsodsVq5p7zge-X6sILvoF5GrTrAsX0GrSgsX9+DPRHFnghA3TRwkBIHP6ixR0PRmH3ZTy0pGxVGk-JBVozak9u4+nbxqBAHgEk8GKtAklPVLKDU8EsYY-gyFChn8L+E4e8FFiP5-AkB0WXFnNCJrTxeMPgVYPHRQEjAjgQSamhIAIDx5SBiVcgU0UoG1d6BQjemFQSUAV5aC2-bkEvxv5SptgowB-ozloFv8CgH-Fhl-zMw-9rWK-FhvgCv51AGuNoFhiQxUjdZgBvcMAS1kFIvdWymAk-gTGiyQcM2egpAeI1XKqxCB+jeOqMHoHKQgBXjIgRYTMFQ5JGsgsAPIPUCv0Payg6AR52nqoNnB7dVoITwsQaCVQ8dH3KQN+ao9AGu1FosOByijB8AoQ0AZ4O6KBDo84jT6B4AHh8DooiAhFN2Brw0IDGt-GoNFlBzo8wUkteyh4FrhBBtg+gK+FUKFg1Dau26fQObkcoOAlUAAcnACgR6AiyVQG0HqEeBehOGVcjUKoItDeGNQliAnC5A1BtAUIVgOYHXSzCjwbQoeifmNxtpNhDMbYS3xizPsDhYqI4QiwkBKwP8mYfYWcIuHHDHiZw0VA8MuHohuBwQVYYvQ7B1oD0CPaYc8LIY1D0B7nPyLPBUA4DYsgIj8PMMNhgibA5ONxPEERFMAw4zQ-4XYjGHbBt0LbbQKQHhFlk-hGIvUFiO0A4jdh9Qd4UsOCCZh8RZQsst8PqAoi0RXYSYW4AuE15xWQGZkdFlpHP96RRI1hhcLpF8CIRyeNsCKPBGCj0eFwgTJmGZHehe8XItQMyOlFm4AR0IqYamXUYeBDAtobAdmR0C9DhI+gXoeYF6G+0mAZo0AL0NRjWibRFia0b0K5DsgnR5OKoJYF6EHpYRe0eEeRyUB6iPGKofQJYFqB390RQIlysKGNG6iCCIYsMUoHtEtDXhQsP0cyNYoBi7cpg5UpGItR+iwupAAxqGNGwmU1RkYmYZqNbI1CCUBYhgHA3PC9DaxTo-oEQAHAmAnR1YNUFpDcROiHkvY4cDaC9GTDqx71XIaMXrHghehY45sV4AdgiQnR94SgB7XoBOizgBNZsfeADErjvRyPTYSOOcZMBqAQ4ESBOKNEjgjx94J0UFidGyAhx3FH0eND9G2hEg94FEFyKLEJjUem-IUVGIbHPiHCBBWsXGOLGzwkxXDFMZzDTFIiV2F4kHjmPAmB4oJqI7tlyIbpsiRGGoysRWQfEKh8x74+MSWIjHEiuY8iRoksI0g9YUJhYgibPCIlaj06IIRyrWI-GjZ4JxEy1K8HZDkTJOXVBsUBJomJi2JLw3ca4GYkCShJUOCCWgz9EmisxXcASaWKYitALhFYrCecJcqcTuJlrYSmUNjB4UbAYkkCdsCUkWpMJaky1DhOeBPiUgaCL8c8NlEPpJxs8XjHjTAmzCpJPFXSYZM-GHYj2Hkj8H6LHEsTwxZYtBmZPMn6pLJ4gQKTUC5DBTjJjbZMfgNIlcSSIlEoKQJLokDkIJn0RyhlKMkSSMJu1TSWlJYrRixxwEhMW5OEkAd8pCYwqaZJEkZE+B-owMRXHimKTBRKk-ZhFPZEaSyJpUnSS1PTFji0J5Y3qRZPsp+jSBKw5-qgO-EyicQkokYaSlIHoToRHI7eikEMG6TnJYmAPqFLoYOTSRuI5aYSPWkAcHJyEFIBdKwnhSJpwcFKrVjF7t8g2kDbepS0gjItjoWLd1LKxvKf1wyHvbYJKxvoFdJY-jFMHv2I5PcBOH4QGW1wtQqDDOsQgcgwxyw4NF8GbHhoQxTC0cYB6-LZC4JLbodZQ6ya6OTO0CUzqZGGVWvAJMH5ViA8A+EVkXRyVCHp1Q7ANNLmk6Box1480S2LbEUA3RHoq8dYF7FbhqpMI7AL0PoCbj9AK480Y6PNH8ybRG4QcSZIA5iDNRAABk25Q5i2NnQ2QbPLIlwgAA","body":"function analyze_declaration(component) {\n    const symbol = declaration_symbol(component);\n    const vfun = analyze(declaration_value_expression(component));\n    return (env, succeed, fail) => \n             vfun(env,\n                  (val, fail2) => {\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(undefined, fail2);\n                  },\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p22","child":[{"body":"\n    Assignments\n    \n    are more interesting.  This is the first place where we\n    really use the continuations, rather than just passing them around.\n    The execution\n    function\n    for assignments starts out like the one for\n    declarations.\n    It first attempts\n    to obtain the new value to be assigned to the\n    name.\n    If this evaluation of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    fails, the assignment fails.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p23","child":[{"body":"\n    If\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    succeeds, however, and we go on to make the assignment, we must consider the\n    possibility that this branch of the computation might later fail, which will\n    require us to backtrack out of the assignment.  Thus, we must arrange to\n    undo the assignment as part of the backtracking  process.","tag":"#text"},{"tag":"FOOTNOTE_REF","id":"#footnote-link-3","body":"3","href":"/sicpjs/4.3.3#footnote-3"}]},{"tag":"TEXT","id":"#p24","child":[{"body":"\n    This is accomplished by giving\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"vfun"},{"body":"  \n    a success continuation (marked with the comment \"","tag":"#text"},{"body":"*1*","tag":"#text"},{"body":"\" below)\n    that saves the old value of the variable before assigning the new value to\n    the variable and proceeding from the assignment.  The failure continuation\n    that is passed along with the value of the assignment (marked with the\n    comment \"","tag":"#text"},{"body":"*2*","tag":"#text"},{"body":"\" below) restores the old value of the variable\n    before continuing the failure. That is, a successful assignment provides a\n    failure continuation that will intercept a subsequent failure; whatever\n    failure would otherwise have called ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":" calls\n    this\n    function\n    instead, to undo the assignment before actually calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"fail2"},{"body":".\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":658,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+i8mOdOaRG65yo+96-QU+6FLG8qnjLBs6qQTOf1QeaNCBglMgIh8+shtOChquXG7hTeu+nm962QRhkh3OaOFh1YHuGoSxAea2CBz6B+2Gxm1q0VQhj+kGqSjmpa7mr2-m4GIWpQOEUCMWoLBM1QahiKsVfAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szktt-rkbN2nF3UsByi8d0xts5QYcUd-VBoZp8ZtqVV4YibWCiadp8eQfJjdquA9u4dJu9s0ayO0c2F0fkCyEryoYeSUDmhaSktQdc3Iq11VGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTotSbBUzuGeDgdLb04nqaxmJiabGbFXaYXgVmURSGadvuNo-CVX7FmdSXdWe2FEvomUlm7UzpOqWG+jQkcVINLLPz0xTAmff2eNGE+KucDFLO+IlHALOcAv4fFjM1YVOgJRamiyERETEWpXwZvP+ZXX0rqZoAab3tClGjofeteajFUAeuhkudRGufNuhY5xRZvK5D4dXu2GRZcukeiYxu1uDmJcUdlroqMuVnxeGjRftAxZX3mbcEdtmqqZau+eIdJZ+jxGWd1nrhabcAJSYBJfOu0HlhDRvtoYpbpp5afupbOIx2lYSa5aOLAZ8ZpeZ2gc4z1u41+F72zEBh1efqsOUDkjeVCniYYDlySfBvmo3SPBcuHvqEddzs5lNthu0FGete7UzB9bsE-u4tABUemrUa0z5p9qFqsEkCDpsdDpEA8cjdVrjWdoNdXNte7jjVCnTDDatahyUcjeDmja5sYHUYTaYBtotXwGnW8FtAHmFrwQsE+2sZDrsdtccecaYDcftYzYrc5izfkGGghoRlzdHb52gc23HeIs-lLdHancborIhstYbY135bQYVErEHGrRVT9W8rDKXZdbVbdc9f8DYu0NAp0me1VYGbuWAtvetN0ORvtfXZ3YGu7QA1CGfR9LrBcOMY-HzoIyvTDPDZf1oqAyorfkmiQzKyIu3bFXtZXYtSeV0oY30PXe0Bah+navUBGE3YJN2qfd1pFe4wI5rFwR1FQ9aE5Q0wvO03w6vUI7o42dbKVVgaaoY4pgtfXYxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHUPeqGdV5SGRqaKt+a8txXdQnBrxlZ+rDKRGvokY7v6GhS7tJR7v4eIuvrWaVdadpsifpuSfVbWIxwIBEAjctTPf1Y1YrPzftdVvrvMH49aHLdnfHcnezGnYC9ndcAPbICPbU-9WA7AvC8jfQ9A4S4tVVYw9y7XYK-JlI6tcjtaU09OqFccrGqyYs-CYYG7tDPPteW5HSsyq5rM6c8pbc-mv-p9wgkrWQWSFlt0AyqyrTqh0N0zrG465Ei4+-2fpMvC6VRPPG65vDci9y6Fny8y-1RMpne26briRG50CwnW-m7brBRjtYKgRO+610FHoQY-AKAFaYdq8N26pwc3q6d+a+86eDi2ewU1VZQ7UFfOu2r2cB4cu5AB6Fk5QwZq7zj-ekB092ZkV++q5Pd04x+h4MXJSZRx92Ex9le1UJ5gkxTR6sXtRR8waEe+6aBJ+xs7mwbh85iB+ZkuoVbZ4ZgR7+5Zm59B6Fg58WZoeJ7B4wdF+ihJqWZ0Qc92AW9f0qX+bYSF79fB+xsUTV4Zg5+1lIWVm1-Jj56Fb15WfFah+F4mm5h2ep-dUqYl-4eM5gkfBkDRj4uxmObx+kD3p56N417Xpt43sZ69+7muYN+R4d+q7D7fkN82Zezey6Uk+k9k8VHZCcIuOIPPqTnsucnyYZ7-BVcftkbQw9ac-e7zh69deOr3aRiNXoF5GrTrAsX0GrSgtz9+DPRHFnghA3TRwkBIBb6ixR0PRmFLZTy0pGxVHg-JBVr1dO+7mI9EdAgHgJLAZVoJN47LLe7wVjAb4ZFCmb9b4nHvCi3r7+H3+i1ObmiJunl4x8FWHjsP5GCOCCWpokAIHjyf8Spf6aLf6c5-5MrPdo61BSvAAw-CfR2+zsPyN31GC99GcX-YfgUFH6odx+ZmSfkyxSDFd8AkA9QK5xtCodv65gefiI3v4WECSYAismf0b4ExosC7PVlQP35cNVyqsO-hQ3jqjAf+ykYgYv1IFWkmBUOJBqh2wHcg8+z9D2gQI34IUSyqgbdvwPbqtAbuFiXuA-2vw+4n+8zA7v1zNwtFhwOUUYPgCUFL9cB3ROQdHi4afQPAA8KVGyD34IpuwNeGhJQy741BosoOI7vqklr2UPAtcIINsH0BXx3BoqTwU523T6BzcjlBwEqgADk4AUCPQEWSqA2gPgjwFEJwyrlPBVBQIe4M8EsQE4XIGoNoChCsBzA66LIQzGCFD0T8xuNtGUODgVCwOMWDtrUMtT1CjwWzJWB-kzA1DmhbgVoQ0MeI9CPBgsJVOiBEHBAihi9DsHWgPSBCMhgw2dp4JP6gBSA0AxIaSlObzDyh9lVYVIHJxuJ4gewpgGHACGzC7EyQ7YNui9YwMB+zgssjMNOF6hzh2gS4VUPqCjD8hwQTMCsNuEQE2whw44V2DSG9DzOUWX2oB3+HRYvhNw6wVv226tDvhMI6LOmARGzxYRzQ1oQJkzD-DvQveeFkBn+H3DWycwzYZG08HmklAhgW0Bf2zI6AohwkfQFEPMBRDfaTARkaACiGow2R7IixGyKiFch2QvI8nFUEsBRCD0OQw2DsPpF24K4lDSwLUG74nCK2GIh9OCDpEeB9ABBfQHKNGxcjahfQ4ODsP+GsUKR0ouwcqSVGB4dh0nUgLKPlHbAmIR3YkSSPSGpl3q1oxrjSO0BRD3RvI-oEQAHAmBeR1YNUFpDcS8iHk4Y4cDaFFFpCyR71KwaMWizCgohCY30V4AdgiReR94SgB7XoC8izgBNX0feApF5ixRe3eYXGJvIjhqAQ4ESEmPPBRDqxQKe8LyKCy8jZAMY7iuKL2g7DbQiQe8CiDxG2jRsB3d1rl2VHNhkxfYhwgQXdGajtRs8XUQl31FCxDR+wrNjWPvDLtHRlo5wbsPXHuiG6QIuEYUGdFdjthe490cOIVEl89RN-eRI0XyEaQesgbIcVqLtGKjzx6dEEI5SvHvjRs5orISuLBSvB2QT42Dl1QbFzj-xi4wCWKmAmRs-xC4pQHBLNwITuKko9UaaOwbXj7RgI1oK0MyFniWhLlUCeBIZbCU9x04gcUhLtEmVCRQQ08cRKJEXjrBKCXjB00-FlCJxJyVUbPA4kLwlx6I3cWxNokjjDsO4i1DsITG4T6Jx4hYUxOYloTWJs8dYDUC5CySuJkkrmA+LAkkQXxMkmCS1lvEWjvxJwRyoZOQmoTtJlqMifpJYrJiEx84u0UJMYnuDLJdo6ySRPcGYSTRVIruEZPokOjgRCgipkpKPA8SIoj4+yZRLYlGiExR4i0URPCkWpux40HYU-0KED8j+Y4u8a0BRFrD++g-eSSSNaHb0UgtAqiSkDQSACgJZwogL4MKGvDrhqwu4SVJslqJ+JFAdqcRKdEpT9UKVWrIj2j7m8w0t1d6jvRIJvNPkRzPOISws7v1wy-vA2iNMfICRBegNZVi53y7WtDuH4RaT5wtSED-OGxXKULHwCfFeAnxbdgSl5BqAywSY1aoZXWrSZZc5Y7biwVbJAMXpMuRfHq0+kVkoGAbNfrUM0GnTXaYAT4gIGunzDvpOWEBnnnenbc7p3jJGblwBnNDPom7QAWjKPAFBTBQsQQVDmqa4B1k10MmdoAplUyMMqtHfgwPyrEAd+qwrIujjcH9T4J2ADKdlJ0DJi2xTIv0QGIoCCjhRrY6wOGK3CuSPwngqIfQGLH6A8xTInkUyL5nsiNw0Y4Ke4OQFniAADN+yhxbtR2Bsy1EbPJglwgAA","body":"function analyze_assignment(component) {\n    const symbol = assignment_symbol(component);\n    const vfun = analyze(assignment_value_expression(component));\n    return (env, succeed, fail) =>\n             vfun(env,\n                  (val, fail2) => {              // *1*\n                      const old_value = lookup_symbol_value(symbol,\n                                                            env);\n                      assign_symbol_value(symbol, val, env);\n                      return succeed(val,\n                                     () => {     // *2*\n                                         assign_symbol_value(symbol,\n                                                             old_value, \n                                                             env);\n                                         return fail2();\n                                     });\n                  },\n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h6","child":[{"body":"Return statements and blocks","tag":"#text"}]},{"tag":"TEXT","id":"#p25","child":[{"body":"\n\tAnalyzing return statements is straightforward.\n\tThe return expression is analyzed to produce an execution function.\n\tThe execution function for the return statement calls that execution\n\tfunction with a success continuation that wraps the return value\n\tin a return value object and passes it to the original success continuation.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":669,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+7uUg4ysanm96nekgwMSLTgw+twY+0+6FLG8q1WrBz5dSENG+6NCBz6B+2Gxm1q0Vd+iyEGr+sB3+gkjdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXMR7i-VFg1soBhRmXRfXhtRisqB2G7+5BlR+Pfh12sAT4gQUR4x-VDRnLEBvPZR6xsFSRy2iKpx9x3R9xzmT6CGgQEyhBrx6Ou+-VJBqS1B1zdByh7cmOdOaRG65yo+96-Qch8+njGJs6qQTOf1QeRhju-oHmlJqJtJtODJquXG7hTe4JglWQQp1e3OaOEp1YHuGoSxAea2JhlMFhhm5+9hsFZJj+7hqHDmpa7mr2-m4GIWpQOEUCMWoLBM1QbJtxwRsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szlcd8d6ah2nF3UsBykud0xts5TIBEC6adr4ZtqVRqYGd-VBu6euaMY-DdquA9twdJu9omayKmc2BmfkCyEryyYeSUDmhaTCZapOvEDb04lVGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTouBeDkzqZaFgdJxcAhoHxb3qakcaPDJYXgVmURSCJdvuNo-CVX7GJlxXdWe2FEvomUlm7UzqxbSm+jQkcSwfNqRz0xTHZff2eNGE+M1cIdUG+IlHANVYobqfFjM1YVOgJRamiyERETEWpUSZvLtZXX0q1zxaxmlYZFClGggYJRNajFUAeuhg1dRC1ZWv9sRQ9fya5FqfOu0GDZco+fBvmrOIx2TYGdlroqMuVi9dy1ADDftAjZX1ZbcEdtmoxeOrQYVGUDkjeVCl+YYDlwBc+YxrQyPBcuHvqHbdzs5lNoMZZZ6e7UzCHbsE-pUeGemtGa0z5p9qFqsEkCDu2dDpEHOZUdVrjWdu1pUebe7jjVCnTGnerYrMGcCdaHna5sYDGZXaYD5bBXwGnW8FtAHmFrwQsE+y2ZDt2ebYOaOaYFOdbZ3ZvaWNbcZoRkPcg6tWgc2z3fkGIs-kvfcYhoRnQ6hyBZffCdq0rEHGrRVT9W8rDNQ67azYGt1aoRErKjDPFd93puWvpbuWArYu0NApIFQ8bvBRau7QA1CGfR9LrBcKWaY8mkI30OwotVoqAyorfkmiQzKyIpfeDmg7U6FieV0oY30N47TavR+navUBGGucFN2trfiF1rxBAZaiM9wR1E085Q0wvO0wM+yns5M8Y4rKVVgaas09w8tQxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHSI+qGdV5SGQiaKqibS-9SsWJdIfeoIBTZ+rDKRGvvabyaiyHe7tDPPuIuvtFdyZJdpv+eY6o5foxyK7+bWHQ-I74bg4tWPdbdVvrvME09cGveseQ+Gkw5uaccI7IGI5y7I5MPG9XOg-E-g6Fks+w5vdm9285kC6C8xdaUy9OptccpwYJTedTpq6ijq+hW5HSsyq5oq+a8zafp7f-p9wgkrWQWSFlt0AyqyrTqh0N0zqB5e5Em84v2fpMrU6VRPOB65pncm629aB27W9FRMoG-R7cD+5RG63TWR+h7brBRjtYKgTiQB4GFHoCaPAKCtdSZwcN26ric3spey7Z4peDklewU1VZQ7WtfOu2tld54cu5B56Fk5Qwcu7zgE+kC8plZkU54u9I+V92AV+NX6WSWZSl5HeF5K+1SZTBhkDRiV9SVvq187lif14Zhl+y5t7Ort-Jj5+ZkuvoZd4-Ad5tb+p6mCry7F6Fjd4FZyc16F4wdD+ihJsFZ0Ua92Bh9tsqTtbYUF+l8N5GsUTT85jd+1lIWVmz-t4z5sDz+Ffrnl-F4qEphJlmnRYj6KeRjN4vMJn9aHGti173q96Y4wc78L9d4cpobfj7+9+L8wcIYL4r+D5ezey6Ui+i9i8VHZCcIuOIPPqTnsuclhfZ5SE7ba8+-moEcWhTWZ7zg+7YatYLvoF5GrTrAsX0GrSgs39+DPRHFnghA3TRwkBIHv6ixR0PRmGw4p4tKI2FUAp3JAq1eGNPbuCZxaagQB4BJMBirQJJ+cyyTPPBLGGv6BttAd-B-hOHvBRYr+fwQNtFhVZzQia08XjD4FWDx0cBIwI4EEmpoSACA8eWgYlXoFNFGBzXdgf43phUElAFeWgs1yf7Ow-Ib-UYB-0ZysC-+BQAAY4yAFmYQBRbHfo43wDCD1AzHG0I40MYqRus0A3uHAJayCkAGrZQgTfwJjRYkOvDUwYG2CarlVYlAjJvHVGDsDlIUA5plQIsK2CocoTVcqoO5Bb9n6HtLQcgIQollVAyjLwe3VaAU8LE+glUPHR9y0DWWOPb7mbhaLDgcoowfALENgHqDuikQ6PME0+geAB4UqNkJgIRTdga8NCTJq-xqDRZQcePIWJLXsoeBa4QQbYPoCvhNCGYLQ5rtun0Dm5HKDgJVAAHJwAoEegIslUBtB2hHgUYThlXItCqCPQpxi0JYgJwuQNQbAUrHMDrpVhbgPoUPRPzG420Bwj8EcJH6Z1zhoqS4UeElZKwP8mYM4QcLuEj9HiNw4OG8PuEvBNh2wqEKwEXodg60B6eDssM+HcUWh+Astt-zqEqASBsWCEa0HWGGxRBNgcnG4niAYimAYcboWCLsRzDtg26AdjA1hFlCyyoI-EXqEJHaBiRJw+oOiH8HBBMwpANEWWSBH1BsRuIrsIsMOGVdBawnLkdFhZFkjZ4qAwJncNZFwjos6YKUeSMpHo87hAmTMFyO9C94uWQGLkQqIrLgikRrZFoeaSUCGBbQxA7MjoFGHCR9Aow8wKMN9pMBrRoAUYajAdGOiLEDo0YVyHZDujycVQSwKMIPQoi9oaIzJh4GNGNMVQ+gSwLUDf54jjGSoh9OCAtGhiCCkY6MUoBdF49vhQsYMVyNYpGi7cNg5UnGMDzBjoupATJlGNGwmVtR1jXUXqLNwGj3qZYhgDI3PCjDmx7o-oEQAHAmB3R1YNUFpDcTuiHkw44cDaH9GLDGxN5UoaMVbGJiZxnYrwA7BEjuj7wlAD2vQHdFnACanY+8EaM3EBisePQqcfkxHDUAhwIkOceaLPFAp7w7ooLO6NkATjIR9lYMbaESD3gUQGoisWmJx6H93G8Y5sMKFGHviHCBBZsSmMrGzwMxAEksXUKkC5ibxF4tDjeyzGcwcxmI7QM2Ibq8iJRhQesTqNfHwTmxP4qsbGKpFcx5EjRLYRpB6xYTvxqY0bORKWH0xPojlEiYxNnhFituaE4OK8HZA0S5OXVNsRBM4npjuJYqXidxQ4lQSlAEkhsUeNcDBjLRBYruGJOrFMRkRI+AifqkAkgh+JgkgtsJXgmgTPxMk38ZpItR1idJukoiWUJQS8ZyWzEniS5WAmzxHJC8GCU0KkkfhSxDE2SSZXkm1i4J9kmcaRJjE1jixKwmybZIgjBiwp6k5yXhI1wcZqJJEOiQlNklJTCJ6dEEI5UylpigpyUqHAZPSksVgJM4yCWmK8m3DFJakGoFyHClySXxkHZSaGNUmxMmpGkhUXcIKBosYpoAPSRFDSm0SWKGEnET8Aak4SopA02KaiPgm0DsB3-XAf+MVE4g5RYo6LLQNwmfC7h29FIBYJMkpA0E-jFydSKIAdDsB9I0kWyMslrTmu7kigDtPrHWTZpQsFKrVgwal9dY5fd1BOAJRMBiuVDeWJ70lgdNmwZ-Hprj3JiAzuuvXXhmZxzYVlLO2gTjHrW4y-Be82YQGOh3w7YB1k10AmdoCJkkyMMqtdAdYPyrEB0BaIrIujkaFvTmh2AYMYtOAkPibRXYnsRQG9G+j7x1gYcVuBqkXDsAIEvcfoE3E2i3RNo9mY6I3Dji7pN7WQRCIAAMvHM3DjM04ayocWshmCXCAA","body":"function analyze_return_statement(component) {\n    const rfun = analyze(return_expression(component));\n    return (env, succeed, fail) =>\n             rfun(env,\n                  (val, fail2) =>\n                    succeed(make_return_value(val), fail2),\n                  fail);\n} "}]},{"tag":"TEXT","id":"#p26","child":[{"body":"\n\tThe execution function for blocks calls the body's execution\n\tfunction on an extended environment, without changing success or\n\tfailure continuations.\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":9,"eval":true,"prependLength":667,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQAbCgZzIH0q8XiBDRxigcyIBTACYAKRgE8AtgCMqdRgEpQAb2yhNoAE5CyBbbWlcADhJny6oALwA+UACIAVN14DhIpw4A0oKXIVlAG5sAF9cEFBCUkoaRijtKmkIGHgkVDQARjQAJlxo8mpaJhYyLn5+URYGZjESJJMaISIyXzIACyFS8pV1LR09A2LGFhMuCm06hqaWlQAyOdBOrnF66UbhWZtra1AOrrL+EPD8YkKaUBKGMiFtLjop9ZmyXo0tXX1DS5HDypFqphkR4bZqtRzXW73BxKY6nGJFegUG53OgsABu9wIQmBz16-Temg+QyWQhWYjKFAeaxBsxhYXyZ1iRi4AGsuhCUWIMXQsa9+kSvjUgQ4OVDfNzebC4edhiwiFxpNjqbi1ASBp9Zb8qkKcZswQ55YroVKCkzQMY2XKFdj-JY+e9BoLAWIDdafH4LAo6SdTQjbQo2BxDUrpnr7YTHbRluIKVTQ6ClN6GfCLiUeHxBIqWrqE6r+ZHvt0Ktrncq9b4HOn3FmyMb6b6LlXM6CWP6408w3mHRqSWTY2Jo+Txu2aS9E0mG7Qm0Qa+jMV0hAAPEy6Nw0HNbPrd4mD-v9ssJxMmxkIkoiIQkOhcO5MjcvLsRnslLX-HUHloV+pEZhcFosc+XteXBMtCoAAD5gWq-RaM+5R-ACtTvvqGLaBQXCyHQXQAVeN5FKBEFQdBhYvghQJIRWk7-heOHAXhSbSma2FAUyraeiOKpbo+xJtoGVqKgOpIxsOd7jrCk6gExuE0HOPILsuq58OuSHhuqO6CUOlIaexYZHvSDEIhaXRfj+f6SbR67BuK84sEuK5CGuRAqQKtA6g4xllKZ1HMXhviWaAEpyXZDn0eJVwKrIIhcDZ8n2YpRAiQ+qlfLBxavqW8YfuC4WRdFQVxXW4TiVecg5WMdyKsirEBIoCWcUlzJmDx7B8UIvi7sJym6YVJ4XMVEVRfIIiSLVarOb2QmafuGVjiFPXMpafU5bZClFGIZXWsijC+INkhOQWrmLVFy2xT5oDrRVtxbaAO2zSmsqUWZt7KWoACQ+L5k+PxwSWiHTRRc1UYBUlEAV+kXA9XnAy1I0fcSQosLoeB3r4mQTnNUQA49RSjEBF3aIwMPbk6zAI0ISPkaAORo3dGN3YDNEsTthNccTrCI8joAYNTMq0zK9OlFQLDub+rDYcz9XmqyRlxB5ouQ+Z8WEURWgQ0DCvQ8p3hK8rksLdlR0xQ5YjazrKuY-LLHnXol0iVrpv26rDPY0znW3TzJTOa2ZQ3DWzNjSl8Fvn9jiez+PugqD4me8dRvPZxY3tZpnXHjTJRfiISJFPc4v+19qWkRzbk0BnTL3LlK00PhkH28R31pb9Hagp+xeZzQZdh0INaR+j6et-KqJ2RnJDASGjebgSY3w+zFOo2JPct6XqLGUIACOWLZnHE-7YCpPk8HVNzzTveLyw9zIvKlBoqPo7hpPO-T8HXMp+7IyMKv68kDaZDSPe8cFgHP0gTMB-hWN+a9mif27jTMBH8ugdxrATYBv8tBbx7InB4SCupg1oHgCYJN4GggkN-MgygHwJ3Ukg4I9Z0arlYAQloiDiGkL-j2fslDuZmhKJ3EwZBJCtnfhAr+P9mGoOJCUIgBA6AYKYRw08Iwrz4O9p3Qh7CyH-xGBIqRWkiHCKwdgwsGEqAkBZDndRRZA7pTHvqQxxioE8xsSyFgLtpp7TQepKaVisHiUMk4ugRiTH0N-qNbetQHAOPdIEt2nCRhUBMJCMgVBtBCySLICgF9Vpxzeig2GyURjcG0Hw2J8TEnJLkGkhWCUCI1xKKk+UBS2BxJvCUtYtSKnKUPi-TgdTCmNOAs0lJ5SnouNeu9Immo64Fwpg4fJPTilJJaYMuiHTolOPKfUopTT5kDPSUpYZqgsmaGCZ9cxgDC6tPWb0hJWyyk7JBrIi4Gy+lJLbKYnsU8yYc1ntQmmuD8asEeUQVYeyjlw3vh8imB9vk8zfunBpkJAWvNBSTB+VjfBPz0t4qWp8TAmAYMPW8lEY5xV8NefgBBZxEqKCInJLlnSVhxXihWPgTbK0JYbYloBSXkpbJSuIUSESPKuaU1pLEEnYtxRQfFGTgX9HcqAQViSbDysuSUl57SQW5K6deWZmzhWLN2Z4lloAAD8usuimAlVK9cPjgxiAVdoJQdsa7OqIjqX5JMAVAs8YmI1AAuM14rGW3htdaO1KqHVOpdVGxEtR3X-N6QizWRro2mxhcXOFdxE0uL0aFEYFqg3Ss8Wo45JEg6oscPmyVTL7k4IBry+Km8xnjW0cnKFZpSXlxOnEP2BZ0EtuzfRSIk54h4ESMkKAcBEDIHQNkDAyZOlkG0AQDow1FyuLESMeQChSTxTXaAI1prFx+tALcRIkxFwVi3ZhX8J7lwXhuCIXwuhP4UCviIOxKy8D3CkGIPdqgJYAEJiJLpXb+mEoAfTox8ZONauNrb422lQIavhmhonXazF0ypiD-EnO6K2m1EPIZPUQNDyy5GlMaNhlgMG8DofGfnN1zcnhUdwzW3mls4ObTELRtQEt3lIzwCjcDkGfkAyZjx-9d9kUfME5TYT86zSEpIxMGgvsJN8bBQJtF8n9E+M9gFKYLRcx1Sk8KfT853RfhuLMMjqYRjmdklyecdHa4MedAFCsDmsQfoRF56WRnswBRc32oL-KLgQL8XwIg-AbLKcSDOQhqG8RjX7EloIEGFMIjjdR8q2Iku8fIWSNLGXsByv2DZdYvDYtohUwlloSrNF0BCLprFo7Q1tiugFZhEsxgTHMNVTr85gglfEm1xUVVLAEzG0IZLvb1LTZ06N3LMksRTdy7N1hwkFvpZEzzJc1n-iodq77DrVlFDbR4AuEjLnMLRY6P1ybKgdi7Fu-we73JlAHrOuMSY0HcsPcCGd5QF237VaUMe1792OsqAADz0GaG99oTnFDg5rqa09iSXQJKoJLIgkhOXaDJQgvwBAGUUFEP6hwoAADU+6U1aGYKhaLFA8DDWhzTxwFYOfJuVoztJ-AWfDQ+z6mu-qMeTAcNjqIQgADuBOiegniIwUnEqKeOG5-TzQfPmes4Byjjn7oqe0550RbXAvdfC7Cy5KgVAWSk4mwGAzbYUPXcSuJVD1QbdmHy3Vfo4lGDD3iqd-y36VI61znKSRGC2Kfc1ya4jaJPexLEBFqgUWYtHfi77JLqPNf+rbNsXYg5ocm+gqawcwvS-9Hz4H7R0O2jCUtyEHW4QdYs9ACnkjhe9idAqzwvhmfVPGeTeLvXFZiDyGw6AYMdYW8nsUEIRKOs5XTaVdl6bnfSPJrGgH383Hlsdf39aR1CRrQrfskfxUukW9qlb02j3fjk9pYxejacDvURO7Ymdl3aG3fowf17pvmHmbNArXsHsLkvsrBHo1nrrHprujiRknt7qQJFvztVsdoltdrnvTvnmxN3sXjHtgSmqam-KwBXt+mdkQdGjXnvmwoQQ3ppE3trKEHTsrO3pvt3uVtwlVoPnVkEs6qPs7o4BPlQFPsGKAAALQSGcpuDNgtCz7KwsFCAL6QFEQr65Zr54KsAb7P7Oo7617Tbv5rbH6+CGFdaX4zZ0g379B34sy0AAFP7XZShDpzQjpjopCTrpAzpoAoCZZ2ajCoTSCZxXzUZzTcbEAuYAL1xAjRAVgrgUBBGXxCCgz6LxGJGvpdAJG4rKItAVLRAbZqR9hbYRE6ZyppHBFdDDpKo6hKyuTRjuhaDRguqOq1F0qxgNGaCxjNGRr9CuS9baAdHfYTDdGtGhJCiDFCgjHKyuTiJR7uizFSL2wtHTF0oZyMC4pcCSDuhrEbH46mzLGup0ri4dHi7OoHHQSuTGAdCnyyCMA+BXHtA3HxA6znG9F0rU6DFaC-q+C7Q2D2CLgc57GvFaCuQSGfGaDfGgC-F2CgAAnSFAk9Egl0oSEzIdEAn9AwmaDSHonAmaCuReC+BESQnQn-GgBOBQmaC4kxrCjADgkd4XpQlPaklgAImjHCgACkdJxJTJsJoA7JFJoAVJrkz2nx3JfxvJz2jJiJeJdKAGOwopDJJJvJcpuwu00p1JLoMOXJipPJAJcOmgapbJmp1g4JYpMJepuwUpRpDgtg2pPxupoA9gBpQpdKtgJphJ-QZppJbpzp6prkAGdJvJGJTpoAQGmga6SsdIZRgRFRoRdMHWNgaoxgZg0Yvg5RSRcZMoVC0ZCRsZlEVAsgAAVvevENYEmaYOEbQDCX0TGUke6H2vkYmOqWdLWRkZmUyFQqVjLC2bmRmcLAwtUc6K5NhmTGkqIO6CObgh4FSXHisaEpAEQFOUiFsYSQuUubwjObORcXSg8SwLAJAB0bufuZuVuUiaEruQAKKDGXknmnkakOAAByXAD5dJT5D5VBd5-QUZ3Z6ZbZ-ZdCMeiZ-QyZdQ4pg4JAJ+v5IR-52ZP5rZ0FMsIs5+pZ5ZZgJAYF7iHUTZPZ6RCF34ssnZ4k+afCUFlRYRsR8uQoLmxFLAaSXS542gdAkgaBhZXAGIAeqEPCxs0apFtF6wmENYeRERJKhOVFz8ZopB9uvBvsLm+2zQh2cWQ+2YFq8la08FZF8ZMezZn50EvF-5Rht5ceKlCKvF+ZRZJZvgVeW5eliFf4XWhlmuXBlWA+ilfB9EZWve-AfisgZc0loISqklJg6BWehCdI2ALhd0bhSQHhaQ06mAOA+iaYcgtUREGq9GFiDco4FYlaVqdyoACwrBps4ioabKeUhaN88wiwRqTUQYJVda7K5VuIT2OwFacgDgtmU4cgQs7QVAkqF+jaTaHa9aBM6qu27a-ckgAAXuyEiJCNpMPjSh3qhr4MriQJ-KIKYcOEyTzqteteIKKB-vOLbFEFteJQiL+PcFNV0LagNXYUtSRitQQGtUIBtSdZSNtS6rtS9ftTbnbkFTxJ-tVLxDdS4tpTpcrElmDTXF+u9WdY2BNdNdUPrJ2rHDKloGUbjKWfQMjfhrcEYSJM3ujd2bINEEqhdUxdNWIIdE4khsNK2otZvo9c9a9TDXQB9c6l9aIGINBmEedFdCTcQD-g5TrKzVbpygjXAgIqQEIiQipP7lLZQPcExWIFwNtMAXdYzSTszY+m9WzeKVZVwJrVZZoJEF9bwKAFZmkgQArFEIqsPFIvzqAAACQAA6Nwi4ZAntqgXAoQTtxtHeUUHmutVMfx-tmgHskY5+Kt5+H50aJBT1e10dQdrNVMYdoA-qsgmtnNOtKdwt0EQ6w4Bgi+ltEiNteAdtStjtrt7tntZA3tvt-tothNmgth7GCIj+Zg6+gtAwJM0Q1KUBZiMBtCcZcBLqpqXdRApe-qHdEgCtaEUiw0E9bU6kw9fdTZadewwkq9xAygVhWgrdK+O9SqIF5NV1K1MizdEsCxDwa9hVOsCBaI4pk5Y5IgEOgBg4a9DBN9O9Oar+Et9M3kBqN8iUcqBeuwWM0kaqLil9cqaIpNuwp9lNEDRA5+KNcUIke9Gty1Wte1m171+tLqcDxAjNxtyOeDdAIdMJvu9Ob+ANR1Qh3IQtl9muO+Cd31Ygz9Hg5DkKmuoQUNrKp1L+NMiD5qshfB4soDeBCDYjs4UDniMD3ZRDVZ4tl1lN04s4AUaDjVOkl9Y0WdbDLNW1odhD0QJDmuZDwdPJ-6LqkQTgmQTgG9cqCg-wAU1Rv19udDjmzuG94NAhThG9tDbEUdDD9wTDG9rD2tZDPjUaYgVj+dYATgOQDjvjUagTQNgNlg-DKTW5zj5+ll2TBTmguhhTpsY0KdsTzDJToQmD0afDxtTdQjPMIjySgKfc2cccqVsqP58DKjFNIYrTJ8g8VaNwGDCj+FFtPTIjhmJcWcS8cQCtozaocqXAkzEt0zbTqIZ8tw6SV8izDN2D2d5D7NNcJgpjy1xtptbD5tJd1timiqQgEotE0WPei+Qz+Ki+FzYACS8qsgFItA1d+2Xtg8LtJA7Q14AABufg3eY4PHk5Y8Y3Hs+CBu0MNLC0FnfcQRM8QwcwYzncOKnbOf6is9iw9Tg99dw3nVoAXZSEXRbTQJQKXXc9oCeo8wy-wC8y2aIMM0IC9Achiy6g02NX6IHmwMugA8DCNWjXdSUDAoIiJF9lwGteSpIiPCrTivJVkzXI1pq-bCBbvig6IXLGrB2Tq59VLZ-F7CPAghg7HdXoWMg-K2jhqcg+-hg8eo1nDVOP-aHEor7LdXS+M9oKs6o9iNHA1UA01bowWPo9rUcwizXEGyS2iKaxCYw-C3YGHdndzVin5sjifrnSm7rWLZUKwKSgTMS9+D-kzbg0W7xtBGlYWDARW6PffWS1zdq0W8eoOM20oGY5+Zc89dc-S1bWXYqh0EwM7W7YC3XRW9C5+SrYThS-G5+SW6fITgTP2D24W5rucyU-0AO5-EOy0CO0y9E86pEM+gYHwFfBbUrXsDjgCx7V7SWyC2C9oJC2W3O3uwHeu+Q1zMu9+1m-0Qu-wCJfwMDme1uazVzNu-TgW2e4K34fYYuBeMuuamTrlZWWB1dIc7WyZmYqZeRREV9lmzRYR3dFh-LhB1B1tcemnNMCxkR45Py2Xm3dJOJhEdxSmnJYCsFUpTEQDLjfjJWZS7OWW7BymkpjViFdmI2Sm2IDtKTMrnQGCLnQQ5rlmxHRqFHYp6uJIveJB-Hn5i09ZkCLp-ZPp7a3Hv6pwxtYZ-B3B7R6LietoGepR9MkQCyEQFQDLrWjTLwnEpIbeqhzcIGsM0so0+NSG2F5h-6yvsG305WXzPWns0TeM828fRWSI2B1o92vTU2jGzW6LQByLWcw9aQxRWpxm7Oau2WyrX3fkyk7uykyB1dNB8c01yhyQGhzF0JUQBJwU+Jyx9+-bIc4Z5+e1wNwI5SFTIW03fukK-DdF+FBI92SQH3Zl2YNl5yl1aC71Ye6l1g6S7h8V1Q6XuJIunwsIB7XUD1X1f3fTtAVHrd-t-ZFZ-TuPcJO9ymv6uBXd4e7281yN9BGN8D0SR12D1oJd3KPti2v9299flGq3QmwWND9d2RGvZU9BKEJ6701dYipqgdY6-bKas00T8pHRxoqGhT0680yDYas50lZnTTyT3j4jStyz6bP6mmBh20i4gq--TlXzwz-bNzzEuGnqrcsT6bKT2s-apL+rGKkL0Mt6pTy0zM23PNbMAL9F8fLM9LzrGL0jSVAbGVRG2GDr308b-1Llw2vz4z6-Oa9fLiJb1dfwuAtLbPR7xa4EpK6rw774v4gb8rLL9Fw4sH0REbz61a4Qpz62809H+HBvPb6L4WI7IA3b54ny675TY7ALC0yZEa1r2OGrw63HyH2z1hBbNowmGr+o7HynzL5X6fDIw3yL1zy5251MsQF5z57QFILkXCdISIykURXIA8+08HDi7G3h504NWs8pIV+S0W7j9lowAoMuqtGkiYMutReP9yLBvjNiA4P+kbpcEQDv2QAbhBtCNu+Vl5QWb5a5TWNuxY+j6fCp9s7RFfDyYw-7bE0-UBSjlpyuPJWq2A34dkxA2-XfolEwhX91+PIDsg1ijxBAXoaoUKEZkMBlwZ60AsEB8AKTq1LgeADvLgO7wOB8BWxQgYtQoEVNmC8+N+KoWghjRwoE-B4GVDfguhT+HOUgbTipyhBb+Pje-t5Sf7Sd+OU3SICwO5BkteAPjN-vtg-7nxv+M2cUtQy3IIDN+cQJVMBzTbqCOyNTO8v7EwH9wkCLoCge6Hf5bMsBSRfQbw3EFgBJB9wXWkXVkE8lbOr9U8jYJbq341QaSRQaiBnql5cBOrAAWdzjw7Erww0BwJEF8Ff8rAxxTwS3hqZjRdAV8I-hIAgFUp3K3ZQgFIhxhH9mWuwKnJD1Ngu19EugNeBMGxAmA8QxQnWKUMWpAYTA8eFbioH9QABycALREYC4JRAAwCoboDaHpY7ypQlgrUN8alDvEncWQLcCgE+xfAf6MYZoHqFNpr6YGRYURGWFERTUjWdYc6k2HQRuePsfAupD3SLD9hWwoMrsPtjnCDh5oKYTMNmrSAv6YGcDN+xGFXDhh2AOAaAGIDsDehuwD1h8K0ATD0YfwlgDLkSTiAIR2gaIjUJG77DyhBASoWICAyrDfh14N+CICPDA8ER78ZEaiI0TPdFQ4-SYIOHRFH8sRzw6EbCNEjQR9hK+UQrx2pFKoyRF-DEaIFeHZN9h5IzEUqn7A8iORQwsHriLeTOhBw1I0iPm0ZH-BqRnIrcu8KBGzlSh0ZIQI0D4BICXszoNoXZBMBtDfAbQ8utoD1GgA2hCSY0SaLSTGi2hsgSQFaJlxIh2gbQ8DCCJphgidRaeDZqMHaB3AOBcI8YQ2x1DajdAJgCQiYG9GXZzRwoqvGCOpFqVVRHovQR6R0o3D7YYI7zsQC9E+jsQ2IwpgqMVGa5lR3ZdMd+EHK1A2hxYq0cwAIDngWgVolcOwFiiJIrR+KZsQokYBOihhhY8ZqkNuKligQbQnsZWP0AZx7IVozCOQCLrtj9RpIEhJWMwiqj2xzo8bmMK7HMACclAS8PZD7FiA2h14DcZhCtH7ArRXADsZ+RdE8wwRfAfitdUZGZjLsAA6xgUxFFIp+xV47IhIWLGhjwxb8SMVyOjHsjwRkIhdvuLe5JiUmKY02DGKAnFjd6Qo3MWEHzFx5zxZoNMbeLDFZiHxxQ-YZikkDTDooB2MQMWLvFvw-RyY7WMwOSpET0Jl2MCXuwgk1xjAuEuSARMDGfjqJP42iXsOXH9AqJ341qGeO4laA3RwYhMbM2InZjaRwI2-IhKjTPivgjEvCTx3ECXisimEOUGhL4mxM5RLqPMTJNkmpEAJb8ALJ-EwkriAxWooydZk-i-jIe9E5WKhIzHsTsxnE8GnZKIhgiex4krSXBPAkIS9J0aZCQiA8m3BZAXk0iW8PQFQZNiikj2qpU8lOTwpnw8PAWBW7xS+JLkp8f7QUnMTVKgYnsV+KzE2SdJgkzQGlKzEZSApJU77EfwCLxj1RYkpyVpJzFLDb8vLfyXJOZBMT8JqlKCTCK5AhTYJrkvyf5OKniQwRuAqARfxgGPiox-QAUSICVS4CfJ6w+kd2UslaDDJoIOVtpMyn5h+h2INEWyIpHNT4RDbSyctKBG6SRp9sdqkh2b7h84uxNWmkqgcQ00hoBNJZt2T8T20sa+rUVkXwz4EwboYzNca4AzAeAsa8MZqGDPcBc1vpoeEGVfwFrKMpmwMhtkv0Mb4NquzqZGSnlim8c-K2YeGedh+HygxGogK6JDWNq4d6mgjE4PxipqaZGZ0mJGAzIZlgDdBVKcIrkL+HMtjcRQ66dcOwDjSppQIQMUeP1FViaxZAO0Q6MPGdBmxwEIqRsOwBtDGA84kwFOItFEB5ZQgVsemCdE7TsmAgq4QAAZROceWboZytma4bZOsWeEAA","body":"function analyze_block(component) {\n    const body = block_body(component);\n    const locals = scan_out_declarations(body);\n    const unassigneds = list_of_unassigned(locals);\n    const bfun = analyze(body);\n    return (env, succeed, fail) =>\n             bfun(extend_environment(locals, unassigneds, env),\n                  succeed, \n                  fail);\n} "}]},{"tag":"SUBHEADING","id":"#h7","child":[{"body":"Function\n      applications\n    ","tag":"#text"}]},{"tag":"TEXT","id":"#p27","child":[{"body":"\n    The execution\n    function\n    for applications contains no new ideas except for the technical complexity\n    of managing the continuations.  This complexity arises in\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_application"},{"body":",  \n    due to the need to keep track of the success and failure continuations as\n    we evaluate the\n    argument expressions.\n    We use a\n    function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    to evaluate the list of\n    argument expressions,\n    rather than a simple\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"map"},{"body":" as in the ordinary evaluator.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":10,"eval":true,"prependLength":661,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChsDMBXAOwGMAXASwHsjQBzAUzIH0BDAJzoGcAKVwolwA0oBkQBuIrgRIkGDACYi8rCgBsAlKADeoPfuz7Q7JgXa0KXZkQJq1fAVw2Gjr0AH5Q02fIU8bdsqqmi5u+gBcoAAWDKx+-MROPGKSoWHpYSBeMnJcXKAkNJQ2rJQ0oHhU7KBkUZagACQAOmQMAB5kndoJRAC+DWkZQ3p8nEHqAExaALwAfIPDw4wsHNw8ZMEOiRpCC4v7rim7ByeZYN65+YVExQSl1LSV7Hun+1kmJGZcFOIMBax2GpURotdqdMjaZZNEhRDgAAzYnC4-Rer2Go244zUGBm8zR+OyPkUPAADqp2BiRKsnMcCXSjCp1DjafTFoy1FMWfT2RoANzYXq4ATkB6iNoMT6tNgkklqCgke40HgCKlIqQ5XxYrTaNImMhmCxWEnsCgAWwolF+zGFZSIyuIzmGnguvj4MrUAE9mMazRafgxrcQRUqVaBqTtUWzgo6hpFLMxCqaSVRiApA6RbfaiFpIx4KkHbcwAEZUBQerMaHi5txgsRplIUdg0U1iMhZ4NEb0cVgt1rsXgCCOs-bUrnD9I2h7MBtNogtm4VoenHglsvMEzSNRkLFTUBzUDVsIu4nxvUG5jiAEEBgr0teje2Mg58d6Txn8wXq8B66tBer+8MJuT6HgckSpgweAUEQihjtywSciB+g8rmkQMOwTYUqGABExAANZEFQADujwFqKZAeiSfwALRihKBBSqw7ryoqRBYXyAq4Fkk40PkeBNqaEAwPASCoGgACMaATEKpHlPGGx0IwaZylwbaJsm0E3CItQBvJ2q6qY5igPGZKNjwak0K2WgAGRWdEsR+OZGlPnu0zTDUMTMPJ-KCvgMmGswcp9gCZlUEmFk3HpRjvv58mKQFliqaF6mtiIWGBWhAJsd5vkZqK6XsACn5qNeIVhU52pGPp+qGTEcTrJsjmWexPncbQpqsLhAb5cFl7FQwkX6NFoDKW2aUWhlahYSIvXXs10m5bJVhED2N6NRFOhVQaRlWLFijxSppXJZpoBYctLZZRxOUdqA7WddYK08FwHqmiWmgbVFBm0CNPCnStU1eM9r1zVdtoAy9VBqMwVB4PdLaHeFzk6h91W0LVfgbOo8PlcDrXbWweQUHQc6tljlnvYNn147tSkJaTx1YawBNE-OZAXYKuOM98zOtswT3g-Ya2I5tNX2fVmNo2LAtJQjGiy3NHNM8TNxFde05tMagHfEqgsDXoQ0Sxj9iG3TT6y9lIOivGCgSmo3aZjr5N65TcmsApe3fYLqXXCprDK9bJC2wVtpsaAAA+oe5i7bs0wdnsnZeJqsEWagBv7gcsSH4eRztrtxR70tOalrXMGndsPGz83XaXQdTnzr0m7rxiU3XENQzDZ03gbDUF018t+aA1csSrAbtBrBPaz361IxTKN2XVxvGzrZuXbjt3fjxGx+zbZdKh301fmrY9a9mjtN7P31Yd7m8sIPwciHvoAzSP6sbsfOP9-GtsvQorCH6-DwN1PkNKOedaZxzSj2IsP8-6a3Ln3BaX1IHQLJAVXsaFeaAwhrwB208naz3aiSR6mDIbQ1hgwEQXdMZL3gddL+UDf7-kAbgs+W1KFG27mVXu5tV4dS6kg3+o9-5KhQStPswhQD-kbkNC+dDoGCNgTQf6Ii0H9hEJI7hH8rDF1vgAnBABISqyMtogPdmAye24TraO3jXRRNDQZWIDjvTsHcmHCy+gldcEETYiDEnY0UDj06FmUUwNC2DzFSMpiNTxeBvGgCmNlXGASnHFjvK4oxhkokmBiXHHECT+4BM8lQBMG9fY3xtmkmeW017FMENfEu1iWJVhOEkmxziHo61ghkapsiBEvwUXaRCDI-L1Mca0rsqCQn9gbp0tkwydE0BSWWBuy8WqaM8SjXmGxWgswqSwwyJiY6JU4fTaKmzSgMBZhXXGpz5HjztDg0I+tRaL3Ce-BBeNrgKD9DQYKDz0kxVzqY2O5ivY0C+baQqtzj6ZwjsMA5+0jlHQsZfMF3zlqQx9ts1sVz+6fLRYVDWXyFStF2dIjxWTYm+Lye8vFELIbewYAAR2vAuP5eCtqZK8XHeJHFca0oeIVAEfZlqWlWuEx2ZKVLRNibkleayuBMpZXIR6ZBTRC0qfsnO0cEUqrValBVzKxByBxe8g1SqAyYoua2XgKk1UVT0I8ymbDdWm2pddSC-YWCWp2basgTgJVOtFr6pwbrQYbi9Vsq1NwbWqr9brIaxtg1+MWtOJM5FeaKqNTeJNAbZ7xgCPYJNobLZWFtlK71JMc24OAUtWw7DMZJreddeMycqAkFwrsvZALtX52Oci1t7aTXXQHbhRZ5Y2XspFvPDhSKVkW3KNUkdKrzkswiefWmWER3-QrRFDR7z4xUEokHKoxSXpQUafowxGr-LEA4F6Q9GUyAnsTEWc99txVZzhVYV9y12D3qPaUZ9oUf0XvCcWlNt6-1QwA0+9gp6QPvr7dqAxBh-lU0BYc2JOFf3-sfUBs9Iq4Hgf8iBqDD7j1wZfW+3R4rtAoYdWh+FvakWpVI7hij8HqO2OI6AcjgG4MtylkhoBkTyVcpBaAKlvL8mNilXxogDlaNuOGmJ7JEmeXs37gqz50GMoKc7ZKlgFKclNtBtUxispmKZmLlCh4qo6AEBZjAu5-rmGGZ+hZuUxLy4zInMM2zNB7OOZ5gFwQpnRR8dg5xwjCyn3Sks95iewnmFX14zBqoe40t4YE8Qhu-JGNWEg+x-j0XQNIdzJ4czTFEt2mqS4yLVQlwvj0N9D1cmAP6eoShG6vD4tecaXVh6DX2BNea612TLB5OKaQ75l82mwW6YKp1154WU2easzR5Ljq81atAcCvtqV1s1aHfY-zfS7mksDdOqhryeOrGc8fMJW3r1z3RpsF5SG53YC4n5Xi-FBJwEQMgdAEkMCV1BnJdg9EojljaGu4x36qAQ1iHaOHB4nSgDaN1tCGEeBtFY0jlOvsxSUXIDBJuch-QKBOyW60AInp44qkNAAhFTKHtRYd8lAKs951TWqkm7Co8R-4RApHhxkjd5lUzpg7EowXkzhd3lFxIZN-kpcKZl9Z8X3a9ttjwKCsK0vWo0-KMXYJYjlRM9E1Kil+vJNc55+64ZjC8BW-XTbrxdv4nc-B-4-zEhGzNhJq7nQXaVMe5iXb3JPv51tV66cp+IUbhkzc9b0aCevz-R-JZHjp5PrDx4E-bX6Ge20yfqlDPfUTe0Er6rbPC4i8idns6ovq3aBGrUFQb4RA6DTgD7OHZYvQ8Js2GL3kMfEkTetBM5IKvh9Xb8GPmPqXtKppJOmmcQebiZYLfyWPPW7p8QeoJ8RT9XNh5MhSE-+8+ohon-kiZGD+YDgmW71hosj8tgd7703j+z-Klf3n1nmNk-36nH0d1BlrA103yVjbGv0fnpzUUZhHjn1T3PjEDoFqCIWfxmFcmGgwKwN6icAq1AEvx4D5xn3gKIJ2AkWQL73EBjAyEiBTh7ywJPy0AAB58DWCohC96dGD0hPAccqgfon1gR2oiAPQwxOBgto1sgmJFBIgsJQAABqdHNEFSE0HvCgPAcsdg1Qk6VKAwwZfQTQqCOgHQ8saggQsIVCdCEQrCMQioBgQiaQhzFmfIaQBQhQJQ4w-EMw7Q3Q7A16f1NQ-6ZQtQkwvQAIiwoI6wvdWhJHXCAgEkJ-V6AvQTZXBg0+XGFIAKJHQhIfZhIZU1BUO0Kg-g0+dIGtawOtYIrBGwg4IQiQfIw9WfAOLvcw+gwPWA2fBgxo-YSIQTFyNyCWdgqIvMCWagiYoYsoyWeotQGkGoTYeIl4QUdIHQ0APokY9yEeNNL0GA1dKosIYQq-YhVKYgEsVMUADuC6dIXoUQRYv4YosIVLUAzLNrFgUAvo9iRYIaLgOY0AtIrBAAlaGgoE--UA5ee4tIdYl7PIzvNosfOVd5TmQmTsQTDI84hAtQLIxuXIloxEwo1Al4XGAE32BY0-Sol4twGogtSkgYxYZo8QVo4kjo7vXvQ4kmMXRk4YIY4hHYsY4hYg-EZ0JgZgKYxAnE3k2MLwOYxNYUmg42VY+49QtwTY7Y1yNyVfC5dfA4-vLfdVYYU4hYi4ogK4hTG4laUAKiGiNE7mG4O4sIB4hgJ444twN4iZD4qfb45Ev45uQEx-E-UEr-ZQP-L8F-ME34502E5TBEgon482H7BBP7UKAHYSYHcSNAFAH-fyH0c0UVTXABQcJvBHTyDDHVbCfMv0X4Cuffaswss0WUKNLZYsh0IA9-a7ewQcb-bAVLBs-0IsniTLb6PYC+NGf6fQNGfYUbfQC+Q2ScvQQ2GczpC+S-Rc0g8kFcscjdEaDckabcsIC+fNOtf6E8wEDIWclrDdL5LgWUVgD0f6W8+8qQy81cjdU4xc04xYK88PUadqWoNgIsLgKaACqIIC-IdIX8i+FQjc-QPHEQD0XETHAw186CjdKiOCkYfHUAJCvcWYFCmiNC98g6LCKiIrRctoVwfcPQGiKi0AdC0igAKiwq2Jwrwv3CoqYtwr0EYtGmAFYoQtwuQqorAGIp3NIoAFJBL2KRLQBJKeKGKSLRotS4KhKOKCKqKtThLlKfpmdXI1LZL8KUL9K3IkLdKsIOCZLEK5KuC9BzKJLRoODpgsL1LbK3IdLHKfpZhrLhLjKqKCL7K+LvKXKRBXA3L-LQBZgPKHKjyN1mdWKUKjAaLQBWc9A4c9h2J+yTQCzBzi4T89w0gCEeA0YRAByrRWoQ0+yN5SCcqayAxi4qAiwAArCUP1QqowYqgQYytcuq0Vf6Z1Hs382q30Qsyq9iaq2pEa3Kq0K+UpfINyb6C+cCSCaCanEQFaqCRQYa8cC+SAIgVai0R8sK-aw68iHa4cC+MC5gWASARc6626i61kK60ocCgAUQ3OureqevpAvgADlWA-rWKAa-qZT6Qsqaryr15alSlgTFiOr9BiqSBjKJYSAaCoaakfZo0IapqMa5rlYz8Ea9AkaUbnkGpZYyq+rBz8a4098OZ3QvQMb+dQxVgRpi9PMvQoJmBwJ2BPQujmrWBLwASTR18mkDgMamyU4WZGlBx7M2aEjQYFV9RUiuSFxi8oD6wDTeiLM6xSQqaKrhlr8Ji0Q8aSllZ2DZsCQdb9MmbhkmrWryBxFjbXhTaYaCaIyfq0QdT9juiB8c9LoV8PI6BO8ixIUtaWZMslaUjfbDSeAJrkyOxUyBIoBAcRJ0AsAwd994xIEmE3BlMmMzEDsTojsM5rJbJs4yF2xCxQtllQAbI1T0hMTSEXEbNztj5a7tKGYXosI7sXoEwogqB5RAIDNKZ7tQsntZ0FbRRfYAQPQAAvLqcaAqITWdUswyPo9UIkJQCoaMfCw8Y8PwbqSGRPDpHe9QNvMMdFeegMFxCdMPDewkOQcnHkPe-YA+ngRE5I1IzExPJu9udpcJS25rfQMXIBjIHkKe8oGez0BegKfhB7TbVelLSGwXBa4aeB83dBYMnWfLfQVLIsbqtyaB6+j++BxhJeXBydWgB+g+rUV+xYd+vnPyAXVBYXUMUB52iBlE66Yh2Bs1LNF1VzNIMkzNG4CgAET0PgNRRuNDGhjUZ+3e-cEw1gB+iYrIF0PIAoIoKCO4exDLBUOwcwkEVoDoLoVgFEfEPgYeHcXEZ2vPDZRPX+IvZ250eR+Iaxs+jkMG2UosORremxsBtwLiYIMwP4H8HRliCofRiRox5oEx8EboCxtELhowOEvQXGIk5UH04gEQcNdMIR6o52WtOwHgPJxwbx-QTwT49MRCZghM-hsRiR8sap0MCWMp7YT2jIY2dpsLaMvQNJrRqaxwTLYq3h8hLwWNKqgrWokp8phusIZk4yzata7rTJiWcprSTYcpi+sZkZQJRBmWU+VLYYtyeZDE3LHBtIVLcQQhy+2ehengM54eBBpLWdPp++o4R+zUTx5Cw8G54gDeqIvg3Ezx3cfcGkk4e085-mLE-mG-PEyh-Ef4txngZZhRyYd5g4XoQJhkaMSB2gXZqFnZO+45gUohxWJzQTPLK5mq-52gIhq+h5olnmJ+F5+5W7ZTPxp+7el+uYP5gQQFtEYFmx4y3QN4MAJisSJi52wZlSXjNQNMJ+EcpI6On+r8U0mV4BoYP0ukKFuG2F16eF0QFXRFtEZFre4VzVg4OO0V1wLIJiiYaVrVxYPVtVvqDV51z1iGRVr8EQK1z1msE1-104IadkCYOO01gN3oTF-YbFqIrhiA6exl6G8FAVFew5sVq9PQfs25sZpPVNn5SGQlKzMVT7RF1LEgXN5N-N-FelHiURxFGWd51LHoTLPN-lQttgLcNCQjX4ZZRFoaLl753lvERYEkAVo4KI9RjUTR8JkoPR6oBgGae4HvXY2qxQEt+Z8VoEXjIsDGWgOJsELoQlaEWEdgBEJ+JJ5cQlDxsN2xgkSHaHcsG9xvY2zwStgFz52h0Fip2wsMCdiQTe7lgJqdsAdkUJwZ24SJp4UQZd4oOgNd4t4lBgPRejLdqMc+-FuU32KGeiPZpxCejN-OqwBp5VHWEg1gWQRzWwc5N0SiBTHFjIAtRj9IYq8kzsFMMpUZFiYQYN6I0RuQM5LFaNZZMGuMKwM5huEg76J5qlpebrXfbh0GKJUhW9RWYkfQtAqpRiBY4yrCJitTrmNaliqQRUrD3ZpdElmq-8TLEdMdalowVLTvAxtB9j3Drj-ZniW8MsZtmqwz9ExQNBlTmGfzomYkZz-g8t6zqt+5m8dRTlr9txuhvl-YAhz9joOsGO3oiLxYja5adThQcRDhjQpL9D4YBN3Mu5mBgMU5HdRt8qI5mq9gGL6r0p-PGuihhLwDr59Ft6FLv4gD1IIV3qEV-rkri16pWvG8XqcE+CTp3FzDpTpN2LtgF6TtCt4ZtyUZ5NqkPumEQe3IftrryQHrnlxRgiiFsIXGMgKDaCDoMyAeoegps1opmZgWR73IX9pkzxuO4NyIVGj7wCSsSdgNoYWhvjk4G1sb0H9IG7r0O7tsReQHpwaErFxCBNW7sEMycpyN1wXocz6tu+moo+qTjHXZkn8jvkvGW+8JCj5Nyuyn2U7OtbxnjITwQlln2nqn7O6rMrWdOnlbkuxDfn7nqwYbUrYXmWAX1r8XqjGLTsOLIXg57GbreMDt9FUnoYdn+n9X35Lnpn0teBjr-Xtnqr6+uB7+XpI+ZXyyVXkjgT0tkXrXs3vhh3x6B3oTlswjlX0X4sZzjtVnwQl3gMSzk39IcT9Zc8OrzX033Z2ryNYlsPv9+MFpPnmWND6XkhgpOLGmvZ5ZO3-D1pGPoP3ZyTwP5PqwZl1lJPtwbXwXilkmcvtwOw3HcBPCAiYiAGG4VgKi204PusjmF6JdvXouxL-xn50PVwZTdt8JId3ri+6prgCGeiABKCEkeidmof3qFhhVH6XQCIoyIgdfsgAw5Q3oNiFjpcoOkOsO8QHolmS-rYkbm4sELt4Ve4X4ZCkbiYqHgitFhQHZnYF5jL9bQvANfhv1PgpwT+S-YqKAJ3x1peQeiYRh-GTzmBComTcARYj1B-oZG+gDUpgJ2JYRsBj5XAbSUpjECI2axR4gqndKuAhokCYfvYBQS78sI+-AwgQLCLc4L+mrVfMHSaq397+KUTVlkAYG9QvmeQTVsKxf4dA3+PbD-v1FFZ8cYBK-Ycm5DILP9lBoAmNnSGASoD0UrJH6MQP+gI9ZBaA0VNoNOBxtWQIgrfgCE8ahNJByFf-jKwsEDMBmUEd-pDEyaIRMBOLX-rQOGDPlbY5YLCFkA8FyC1AogewuwCdKxt3mQ0EwL8H7DZoQBDwKqj5DeJ1pxkCqaoG5GUIw99gTQffCYGZSNgbwJIe1AUOGBFC0MrOEkHmBzpaBIgAAcnAD3AuAkERQE3FKEmBmh4+VkEUIeJVDPWRQ1eBciLBoQeA40U0CIDRyZthh+gGoS9nPL2A0cCwjIEsNr43E606w04JsNcBxhtkgpUWGsN2GgB9hWw+imcMKGRhIgLYIfhSGmGbNMYcOLnDD0GHXCXwRQqAaAGIDMCuhbkXfJ8LcCjD+4-w5gIRCqB+BIR7AQ5JUPeH6QehN4VnCsNRZH8OACqAAW8IREfQkRPAFEcU3sD3CJhFICWH8IxHbVnh9gGEXCLlj9DFhNLIZimA1w0jMsZI9EckIAH0jgG+w8kZyMyzGw+RmI7EVUP2HuYJYNIhFOCWZFpgaRIogkB8OBEDDJqcrDWMmG+BwDFqtMZoWqOaEiBmhTwPUaAGaFPojRxoqCEaOaFFgPQlowiBaCiDNCucoI95OCLVGdE6U3oKIAVF37wivhymb6DqJMAkgqIJIL0cgTNHDCLhwwcETSL1oMB1RaKJYs1ijFDBwRBEYgJ6O9E3gzYAbRUUqLpBFDUs6YwQCOW1HFjLRKkAgNbBuCWjjQ0MTWFUEtHEomxZaLgI6P6GFjaWaEYCqWIOjNCkhRYCsfqC+SARLRKccgKEzbH6jYgfqCsSnHjFtinREPM4Z2KmocBKAAcQCL2LbDND1x8oFOJaO0iWjWA7Y4cM6OujgjvgSYFONYGZGZjkCNreYTyP9HairxzZKiMWJDFhiFUEYrVimIyAxioRowDcSnCTHOt-x6QQCbCP8DMiUe3I8CQKHzH0hzxoMNMXeNDFZjHx6w-YTwg9ATC1Yv4PwMWPvEKpfRZ4l4PQLW7ESMJyBMKqKImLtQ8Jz8QiR-TLHMivxWY38QcAgnDhqJ348ZsqNB6uigx7otNiROzF0ijA+woYUhJOBijKYjE-CRrR34WpJaN9dCfxLjryjFgeY2Sa8BQmihLxrYARmRPoloYAxCqZPKQAYBcTIxgyNCRmJok+i6JCE04OCIHHiStJ8E5MYhL0logDJ5Qdyd2M8mmTcxyA3nA+SUkZd9MHkpyQoKfHkTCms8HOrFP4kuScRaIRScxN1oBiBxHE8MelJuGg9UpWYwqf5OXFGBhJ8Y0SZ2zilaScxDI1Jqhz8mNSXsWUgibrSgl+ABxcEv0TJJancT6yFI5gJgKmFH8IBCUjKXoCFEAjD+x-bydcP2HHNWwmWIyVZOVTaS-xiIggGUKmGEi0R-wrEQtJGHKZLJZAY6UqN0kDTFgPdSroS156S8GuyDIZi1yz5nZrerzJtlFzXGbceshCMZvZjZbe8moA7SmHPzO7n16G5XQbpfyzCjdR2aIZYIiDWA9AnaWrEHsAwxDiJ2QOIKGcA3aB0QGID0tskQEf4BtRwZXT4eDxak4z5uBwO9pfwgYHgfInKGJKzNYkR4OZRmLxOzIkbADYBaQ+0EAP+HVBIi+Q66TpOwDgjRpAYo8fqMrHViyAto+0YeJiBNjSgtkkEdgGaFcB5xJIKceaKICqybJ+oxxHkEdGbTgG3ApUQAAY6ZBIBCM1kdmvBnZYQKlEAA","body":"function analyze_application(component) {\n    const ffun = analyze(function_expression(component));\n    const afuns = map(analyze, arg_expressions(component));\n    return (env, succeed, fail) =>\n             ffun(env,\n                  (fun, fail2) =>\n                    get_args(afuns, \n                             env,\n                             (args, fail3) =>\n                               execute_application(fun,\n                                                   args, \n                                                   succeed,\n                                                   fail3),\n                             fail2),\n                  fail); \n} "}]},{"tag":"TEXT","id":"#p28","child":[{"body":"\n\tIn ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":",\n\tnotice how walking down the list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\texecution functions\n\tand constructing the resulting list of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"args"},{"body":"\n\tis accomplished by calling each\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"afun"},{"body":"\n\tin the list with a success continuation that recursively calls\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":".\n    Each of these recursive calls to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"get_args"},{"body":"  \n    has a success continuation whose value is the\n    \n\tnew list resulting from using\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pair"},{"body":"\n\tto adjoin the newly obtained argument\n\tto the list of accumulated arguments:\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction get_args(afuns, env, succeed, fail) {      \n    return is_null(afuns)\n           ? succeed(null, fail)\n           : head(afuns)(env,\n                         // success continuation for this $\\texttt{afun}$\n                         (arg, fail2) =>\n                           get_args(tail(afuns),\n                                    env,\n                                    // success continuation for\n                                    // recursive call to $\\texttt{get\\char`_args}$\n                                    (args, fail3) =>\n                                      succeed(pair(arg, args),\n                                              fail3),\n                                    fail2),\n                         fail);\n}\n      "}]},{"tag":"TEXT","id":"#p29","child":[{"body":"\n    The actual\n    function\n    application, which is performed by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute_application"},{"body":",\n        \n    is accomplished in the same way as for the ordinary evaluator, except for\n    the need to manage the continuations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":11,"eval":true,"prependLength":660,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+7uUg4ysanm96nekgwMSLTgw+twY+0+6FLG8q1WrBz5dSENG+6NCBz6B+2Gxm1q0Vd+iyEGr+sB3+gkjdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXMR7i-VFg1soBhRmXRfXhtRisqB2G7+5BlR+Pfh12sAT4gQUR4x-VDRnLEBvPZR6xsFSRy2iKpx9x3R9xzmT6CGgQEyhBrx6Ou+-VJBqS1B1zdByh7cmOdOaRG65yo+96-Qch8+njGJs6qQTOf1QeRhju-oHmlJqJtJtODJquXG7hTe4JglWQQp1e3OaOEp1YHuGoSxAea2JhlMFhhm5+9hsFZJj+7hqHDmpa7mr2-m4GIWpQOEUCMWoLBM1QbJtxwRsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szlcd8d6ah2nF3UsBykud0xts5TIBEC6adr4ZtqVRqYGd-VBu6euaMY-DdquA9twdJu9omayKmc2BmfkCyEryyYeSUDmhaTCZapOvEDb04lVGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTouBeDkzqZaFgdJxcAhoHxb3qakcaPDJYXgVmURSCJdvuNo-CVX7GJlxXdWe2FEvomUlm7UzqxbSm+jQkcSwfNqRz0xTHZff2eNGE+M1cIdUG+IlHANVYobqfFjM1YVOgJRamiyERETEWpUSZvLtZXX0q1zxaxmlYZFClGggYJRNajFUAeuhg1dRC1ZWv9sRQ9fya5FqfOu0GDZco+fBvmrOIx2TYGdlroqMuVi9dy1ADDftAjZX1ZbcEdtmoxeOrQaKqiZ+jxCFd1nrmJdIfeqYBTZ+u0HlnofaYzbptrafoxu1uDh7b+bWGraON4euYneZ2gc4z1u41+F72zEBlnZ6ateUDkjeVCl+YYDlwBc+fHYEcWiHpP2NyPdzs5lNoMZZZ6e7UzFvbsE-pUeGemtGa0z5p9qFqsEkCDu2dDpEHOZUdVrjWdsXdXL3e7jjVCnTDfe3ah0GcCdaC-a5sYDGf-aYD5bBXwGnW8FtAHmFrwQsE+y2ZDt2b3YOaOaYFOYPfA-Q6WIPcZoRhg5Y9HbPUyMg-kGIs-hQ+sYhoRiE4tSBfw-Cdqwwa8plbDVuveoIF7aoditNgYd2Cqfetve7tDPPuIuvtFdyZJdpv+fprPezbWIxyU+ne3bDOg5zYrLg4PdVvrvMHw9aDQ+sb4+GhE5uaccrEHGrRVT9W8rs-c5UbY6WZY7BVHbE68d87i-Jgk6h0jtaQiabZtccpwYJTedTp06ij0+hW5HSsyq5qHeM8zbHYs9oKS8NkrWQWSFlt0AyqyrTqh0N0zua9K5EnFYrPzrbF69d1TUOe68-g-ei8x0fsS7NxMs44m7cHq5RG63TRa65q7ACc5hjtYKgTiUa4GFHo29aAKCtdSZwcN26ric3spebYu4peDklewU1VZQ7WtfOu2tlfu4cu5Du6Fk5Rk+++e6Fge+dV5SsTzmu8y5C7k92G7QMXJSZWh6u5e9Se1QR5gkxVk9SVvth7tm9kacu6aAh7e87liZ+85mB7+p6mCrB4+9+9e+xsp+vrJ4ZmB4FZyZh+R+bbZ+ihJsFZ0UM405x9tZYTYUB-vfp5GsUTF5Z8-G1lIWVml-Jj++bbl+FY7dp-J4mm5gDZp5kXRc57qbDKRCmhkDRj4uxiVc+6ldBix5kSJ+xr3uZ-JmB9nwV-B4N7e9d7fkV4lZezey6VIDeBIBoHJ18A5CcIuOIPPqTnsuclhYJ7-BHam56bQyPBctO7zkq7YatYLvoF5GrTrAsX0GrSgrj9+B46lW2FGA3TRwkBIGL6ixR0PRmBQ5Ty0pGxVCopSBQ8MZUm627nUF7lAgHgJLAZVoJNgdUEGrwVjHz8De0CL5L4nHvCizz7+EDeixVbmiJunl4x8FWHjsX5GCOCCWpokAIHjyP8SpP6aLP+M5v-8fpioKUArxq5TTL+dj8lnghBr8Zyv6b4KAt9HGbfMzB3yLbd9HG+AD-uoDM42hHGvfPbgPyH4WF+G4XNfgXwJjRZNsvfdAYG2CarlVYe-DJvHVGA39lIiA5pvvxQGHcQmiXKAdyHj7P0Pa8AifghRLKqBlG+AtwFty24WIh+KoeOj7iP6stZu-9Xai0WHA5RRg+APgS0zqB+83EFBUVAUGCafQPAA8SvtFDn4IpuwNeGhJkxHCzwsipKUHPN2DiS17KHgWuEEG2D6Ar4ZgzmBYOM7bp9A5uRyg4CVQABycAKBHoCLJVAbQawR4E8E4ZVyFgqgg4PcYWCWICcLkDUAX5KxzA66SIa0CcFXsjc9QNtCkPJhpCPwnKTOtkLFS5CjwkrJWB-kzBZDshxQvIXqUKFgpqhJQl4LEPiFQhWAi9DsHWgPTRdwhdQlRhYJX5lt6+hggIaShVa9Cjw0Qw2F-xsDk43E8QWYUwDDj2DuhdiIIdsG3TD16gpAaYWWS6ErC9Qaw7QBsOvb1B0QDA4IJmG2HDCyy7Q+oAsKWHrcJheTKLL7WfRSB7h0WS4UMMr5llQhUQnEFcJ+HRZ0wgI2eL8MiHFCBMmYe4d6F7xcsgM9wvYa2R6HjCByFg80koEMC2gN+2ZHQJ4OEj6BPB5gTwb7SYBEjQAng1GOSIpEWJyRngrkOyDpHk4qglgTwQekmF7RphmTDwFiPx6ZNLAtQb-ssOMaQiH04IfETyIIL6ABRo2akWYIaFCwuR9w1ipiLtx4DlSIowPFyOD6kB+Rgo7YExHQ4ojURFZdEe9R1EMAZG54TwRaLpH9AiAA4EwHSOrBqgtIbiOkQ8g9HDgbQbI0IWaJvIaDRiVo8UYGLtFeAHYIkOkfeEoAe16AdIs4ATTtH3hMRcY9keF0KH+j8mI4agEOBEjBi8R2YoFPeDpFBY6RsgX0dxQ5HjQuRtoRIPeBRDwi9Ro2Wbhe3+HGdhQng2sQ4QIIWipRMo2eHKLbE4Vhh7wuYZBxzH3hBORorUSOOVEWiG6fwwJsaJNFQ4qxCobUY2OlH6iWxEInfvIkaJxCNIPWbQBaKbGzxhRlY+mJ9Ecqnitxo2DURNwVFgpXg7IQ8bRVWQdjexd4gcQ+KKHpijwt4-sUoF-Fm4nxKjLkQSLVFdxvxBox4W4GKERCVxf44zi+LfEFthKI4rsfWMAnbjDRFqZcUhP1RrjngNYlIGgh3FVCXKHY2eLxjxqDiHBYEniiOJwnNjDs04i1FyMDFnjYJi4pxgRMImipiJ4gTiTUC5DcSKJ8ovceNFQkkRjxXEmCReLCFXiUwjleSUBJAnsSocMko8SxQ7GBi+x+o+iYJP-GtA1J+ojSZakYmrkIJPIqCbE3EldgkRCEtFgJNcCijcYB42SSxSVFjjAxC4zUYhNcnGSIIXIo-gv3r5L9Wx83YoaCJGF18G+vEuocUO3opAsBmEsieSyRFLjVhRAGwQvxOEwNvhYIvCdFJco0SKAiUk0fxKCmcwUqtWALmQCC4g9-UdYZGpF1i4p9+Mx+bkXeXYq6EXCz2bjkBR6nplrS-UpOge0brgoWqQvGDD6Van6EourQfOgRivRhl32L+d8fRTWCO434k0JDGViIomSPwbHY6eChow7TH8ToTwrOzTZXofo7VQfvZ1fpm5uOutVttxhagPTcEOocLpyg0wXltMd07KN9MH6Dchuk-SdOF2S7icZpn3DAsjVGCB9g+ofYWONCQRGJCCo6QLtUGaneUY+6ya6ITO0DEzSZGGVWjP1wH5ViAM-aYVkXRymCap5g7AKFIik6AOxpY4kfaMdEUAmRLIksdYA9FbgjJH4CwZ2OTH6A4xxI2kcSM5kUiNwPokqehyAHjCAADFNLNxbtwuWsqHDrIZglwgAA","body":"function execute_application(fun, args, succeed, fail) {\n    return is_primitive_function(fun)\n           ? succeed(apply_primitive_function(fun, args),\n                     fail)\n           : is_compound_function(fun) \n           ? function_body(fun)(\n                 extend_environment(function_parameters(fun),\n                                    args,\n                                    function_environment(fun)),\n                 (body_result, fail2) => \n                   succeed(is_return_value(body_result) \n                           ? return_value_content(body_result)\n                           : undefined,\n                           fail2),\n                 fail)\n           : error(fun, \"unknown function type - execute_application\");\n} "}]},{"tag":"SUBHEADING","id":"#h8","child":[{"body":"Evaluating ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expressions","tag":"#text"}]},{"tag":"TEXT","id":"#p30","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"syntactic\n    form is the key element in the nondeterministic language.  Here we see the\n    essence of the interpretation process and the reason for keeping track of\n    the continuations.  The execution\n    function\n    for ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" defines a loop\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"try_next"},{"body":"\n    that cycles through the execution\n    functions\n    for all the possible values of the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n    expression.  Each execution\n    function\n    is called with a\n    \n    failure continuation that will try the next one.  When\n    there are no more alternatives to try, the entire\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" expression fails.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":12,"eval":true,"prependLength":663,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+7uUg4ysanm96nekgwMSLTgw+twY+0+6FLG8q1WrBz5dSENG+6NCBz6B+2Gxm1q0Vd+iyEGr+sB3+gkjdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXMR7i-VFg1soBhRmXRfXhtRisqB2G7+5BlR+Pfh12sAT4gQUR4x-VDRnLEBvPZR6xsFSRy2iKpx9x3R9xzmT6CGgQEyhBrx6Ou+-VJBqS1B1zdByh7cmOdOaRG65yo+96-Qch8+njGJs6qQTOf1QeRhju-oHmlJqJtJtODJquXG7hTe4JglWQQp1e3OaOEp1YHuGoSxAea2JhlMFhhm5+9hsFZJj+7hqHDmpa7mr2-m4GIWpQOEUCMWoLBM1QbJtxwRsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szlcd8d6ah2nF3UsBykud0xts5TIBEC6adr4ZtqVRqYGd-VBu6euaMY-DdquA9twdJu9omayKmc2BmfkCyEryyYeSUDmhaTCZapOvEDb04lVGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTouBeDkzqZaFgdJxcAhoHxb3qakcaPDJYXgVmURSCJdvuNo-CVX7GJlxXdWe2FEvomUlm7UzqxbSm+jQkcSwfNqRz0xTHZff2eNGE+M1cIdUG+IlHANVYobqfFjM1YVOgJRamiyERETEWpUSZvLtZXX0q1zxaxmlYZFClGggYJRNajFUAeuhg1dRC1ZWv9sRQ9fya5FqfOu0GDZco+fBvmrOIx2TYGdlroqMuVi9dy1ADDftAjZX1ZbcEdtmoxeOrQaKqiZ+jxCFd1nrmJdIfeqYBTZ+u0HlnofaYzbptrafoxu1uDh7b+bWGraON4euYneZ2gc4z1u41+F72zEBlnZ6ateUDkjeVCl+YYDlwBc+fHYEcWiHpP2NyPdzs5lNoMZZZ6e7UzFvbsE-pUeGemtGa0z5p9qFqsEkCDu2dDpEHOZUdVrjWdsXdXL3e7jjVCnTDfe3ah0GcCdaC-a5sYDGf-aYD5bBXwGnW8FtAHmFrwQsE+y2ZDt2b3YOaOaYFOYPfA-Q6WIPcZoRhg5Y9HbPUyMg-kGIs-hQ+sYhoRiE4tSBfw-Cdq0rEHGrRVT9W8rDIE9PazYGt1aoRErKjDPFd93puWvpbuWArYu0NApIAE8bvBRau7QA1CGfR9LrBcKWd08mkI30OwotVoqAyorfkmiQzKyIvw+DjY8C6FieV0oY30Is7TavR+navUBGAXeZrN2491tbe4xali9wR1BC85Q0wvO02i+yky-i504rKVVgaapC4k8tQxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHVk+qGdV5SGQiabZta8plbDVuveoIF7aoditNgYd2Cqfetve7tDPPuIuvtFdyZJdpv+b09U5fox2m+ne3aU74c47FTg4PdVvrvMBC9cDQ+sb4+GhE5uacZk7IDk4G-9Qc7Avu9XLY6c5Y+DlHbE68de7B-Jmq5q8xdaWG9OrqcmQMkqudlZQ7WtfOsqEmFR7zms+wU1TR6Fk5QwZpkJ85klekEcrJ4ZmJ+bap9x+Dgp++8U+p-Jlp9G4U-G92Dx+NX6WSWZQpfR9Se1SZTBhkDRjG9SVvp587licF6J4x+xtl7Ovl-J8-D+p6mCqsQZ4V4wY1+vtV4ZiZ4FZye56F+bZN+ihJsFZ0S28W558UVZ4-HZ8x8d517V9S46DbccIqaaEpebe1lIWVid6PCZ8phJlmnRfN8R+RnF4vMJn9aHGth573sN7Z8V7XoDe19lcZ4cpobfhD9aBd+xtn2D-d6N5ezey6Wa9a-a8VHZCcIuOIPPqTnsuclhbiYXBHcfrYbQyPBctSdmkzbHcxcbaRiNXoF5GrTrAsX0GrSgvb9+B46lW2FGA3TRwkBIDn6ixR0PRmBQ5Ty0pGxVG8-JBVt4eSFlu7ni5adAgHgJLAZVoJIq7LKtZFtjCn8De0Fn-n4nHvCi0n5-BA20WFVnNCJrTxeMPgVYPHR-4jAjgQSamhIAIDx5YBiVeAU0UQE7d0B-jemFQSUAV5aCO3Rfs7D8izwIQ6-RnKgN34FB9+jjQ-mZmP5FsUgkPfAMQPUB6cbQjjQxipG6zX9e4d-FrIKQAatlAB0-AmNFk2zcDRBgbYJquVViQCMm8dUYOgOUiX992N-KARYVkFQ5Qmq5VgdyA77P0PaXA5-ghRLKqBlG2g9uq0Bjqb9+BKoeOj7lgGssTKQg3ai0WHA5RRg+ACxPYMr5uIKCoqAoME0+geAB4K-aKJ-wRTdga8NCTJiOFnhZFSUoOYHqKklr2UPAtcIINsH0BXxUhwcdITt23T6BzcjlBwEqgADk4AUCPQEWSqA2gWQjwBUJwyrl0hVBfIYE3SEsQE4XIGoN-yVjmB10HQj8IUKvZG56gbaYYZzFGHO8Ys5HKYfqhmGh8JASsD-JmEmELDQASw2YY8U2FpDBYSqdEAYOCBQhWAi9DsHWgPTA82hew4xukP-5lst+CQ+oaShVa3CRh9lUgTYHJxuJ4gPwpgGHDyHXC7EjQ7YNumHr1BSAXwsslcOBF6hQR2gcEde3qBHDehwQTMFCOeFllzh9Qf4YCK7AtC3ASwmvFyyAx4josGIp4Sv1f6dCcQmI6kdFnTD0jZ4NI4YUsIEyZg8R3oXvKSLUB4jYRrZG4e8NaGpkkmHgQwLaGAHZkdAFQ4SPoAqHmAKhvtJgAqNAAVDUYqotURYlVEVCuQ7IHUeTiqCWAKhB6LoYbC+GZNxRduCuJk0sC1AyBQIu4S5WFCyjxRBBfQHaNGyaiOh2w4OBaLxGsUlAEokpoJyca+ihYFo1rqQFtH2jtgTEdDkKOFGCjRRN5KMQwBkbngKhaYnUf0CIADgTAOo6sGqC0huIdRDyMscOBtAmiWh6Q4+jUFGIZjwQFQ8IVyBzFeAHYIkHUfeEoAe16AOos4ATRzH3ggxfY00f9wWG1jluTAagEOBEiNiZRI4GcfeB1FBYdRsgasdxTNF7QLRtoRIPeBRCkiYxo2VwRe3cbsiH0TY3cQ4QIJpj3Rno2eN6LPGB5-RvwyDkuJEiHZaRFqF8QCO0BpiG6hI2ke0KTEVktx40SMYeI9GxiTxUwpYVcnZC9CNIPWP8ZBPvGCDTxKjcMWokcppijxs8ZUvkKwnBxXgCEkiMhJdG3ioJXogiYsPHFuBcJVE-CZuLomuALRco60V3EYlxiCRrQJYcBJAlipzxuMRoohM87xAdxeFGwAxLQkmUBR+w-iQJItRgSFQO4lIGghgmbChJJyS8WpLxqPi2Rz454QeOjFcSTKNEp8d+KMkti8J3EwCWGMKCKSzcyk54BaOsmmTHRcIrmPIhElkSWKbktCR5JFHp0QQjlfybGPMksciJbLHyUhJYouiWxd42MfpP2Escwpo2CKVDiimrk2JVoyUZxJkldgBRfEtFo5KJEuUSJokgtsJSMkBiWxAEp0QpNKlgpnJ4gC0bAO-5b9f+GE1IUsOZEvDN+2-OybcOJF4MUgEgoybPF4zks5JXjc8QiIhEwMqRLI+MT6JcqTSKAQ0kCYmKamioUqtWDBvT3dQTgCUbzVOqtyijrdoU3IdKplS5pDsduw-Xvv-R9wQRK0yCNQboAypZU06UOQ3JnU+m3SPxgXfOm2FK5Q4lUJ5L6VzXfaPcphoPFiULFcE5t3hb0lEN1nTRQyPxbdMFLYMnZQI4kH006QwCsE2DaQ6ya6OTO0CUzqZGGVWngg-5AD8qxAemV8KyLo4UhO05qdgDamdSdALo1cYqNzH5iKABoo0SuOsBlitwyUj4RUPoDDj9AfYxUdqMVECy1RG4KsStJY60DhRAABgs5m4t2IXQ2VDmNkMwS4QAA","body":"function analyze_amb(component) {\n    const cfuns = map(analyze, amb_choices(component));\n    return (env, succeed, fail) => {\n               function try_next(choices) {\n                   return is_null(choices)\n                          ? fail()\n                          : head(choices)(env,\n                                          succeed,\n                                          () =>\n                                            try_next(tail(choices)));\n               }\n               return try_next(cfuns);\n           };\n} "}]},{"tag":"SUBHEADING","id":"#h9","child":[{"body":"Driver loop","tag":"#text"}]},{"tag":"TEXT","id":"#p31","child":[{"body":"\n    The driver loop for the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator is\n    complex, due to the mechanism that permits the user to retry in evaluating\n    a program.\n    The driver uses a\n    function\n    called\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":",\n      \n    which takes as argument a\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":".\n      \n    The intent is that calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    should go on to the next untried alternative in the nondeterministic\n    evaluation.\n    The function\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    either calls\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    in response to the user typing\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    at the driver loop, or else starts a new evaluation by calling\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":".  \n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p32","child":[{"body":"\n    The failure continuation for this call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    informs the user that there are no more values and reinvokes the driver\n    loop.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p33","child":[{"body":"\n    The success continuation for the call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ambeval"},{"body":"\n    is more subtle.  We print the obtained value and then\n    \n\treinvoke the internal loop\n      \n    with a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that will be able to try the next alternative.  This\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"next_alternative"},{"body":"function\n    is the second argument that was passed to the success continuation.\n    Ordinarily, we think of this second argument as a failure continuation to\n    be used if the current evaluation branch later fails.  In this case,\n    however, we have completed a successful evaluation, so we can invoke the\n    \"","tag":"#text"},{"body":"failure","tag":"#text"},{"body":"\" alternative branch in order to search for additional\n    successful evaluations.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":13,"eval":true,"prependLength":601,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAFgHQGZMChslAGYCuAdgMYAuAlgPYkDOhATjQLYQzxKpoCMaAJlzFy1OqCr0A+hQCGAc3kBTACZSANpIoAKMmwAOdJSQoAaUBQAWSmQoCUoAN7ZQr0EyUUiTEhOn7ZKiZdAyMTBwAyCNBrWRUQ1kMSYwoHAF4Mi2tbeQBubABfYVJKWl9JDSoKJSZZdQSklIdnN3dPb3LpOUVVSvodPUSws1AAIk1q2vVRu3yikVLxCZq6qQA3OqIlBuHm1pc3Dy8fGKU47TkqesHG8NnC4tEy0FZZAGsbZantDfUt5oOriOHVAmn62nGVRW03Mv3+c0ei06UhIslY2xuuycgLax2R3WUajBA1CyRM5lGqPRMwR2AWYl8rw+KLR23oAE9WAAjGjqAGtYEnYkQqlKUbmDnc3n3Ip0koM0CSnnqKQ0Ags9E7MmpbEC9onWLxS7XUlNGWIhUVWT0ehUeQkdEmLVNXWHfX4hSEvokobainW232x0UGkPenPAN2h0pKRK3nO8KuoHu07nY3aQ0XQIm31muzm8PiSNBmNwmxKAAe+g8NrKCZ1LTdeNTRuzWau9fz5rlT3EFRUSjI6lktQZnaTuJBFQJvWFmL9Yz0DDkJikA6HI9kDJmoAAPruca03NPPbOtPWKRsmFRZFz1DZ18PR2Ud-vD0e-DkvXPTeSxoWSDXQcny3F9uwA0BH03BlY05ZVx0bZNmzjFU1Q1bZM3Tec8wRCCoOfOh1k2csqxrW06AQnFBV8TC2yw39UnzWkIKZGwl36WRV3w0CKNFWFiKkStqyUWs6H5JsQWFUZ2JXCggI3AiSHFUA+NAMtBNIkTyJIcD5WeCph25FRZA04TRJISi9WbE8eiJc9sL-cY0S5YzTLIsDcL0pZnNcgJanRSZYKldR6EsiSTlefRtBQ1V1VU2iOwcxiCy83xDJckyeRUdkwqQkEEvqejczuXTe0Zd5Ph8kyhPcii-NZSZ6HMLL2XEvKhXPJyjOqzTzOU+qApqJrQBa0qkU-AD5JAsckuaABIfYrKnLpTzs8EkopSbuO3FKysIVKpugsp0NyycOv6KQPAIC9QF4Xbxq24CjsIgbPCG07qNBLRLqUa6NtAAR7oVR6FJ4wCWo+lNiR+v6GPMDAgeeEGVQoGgpBkzi5MfSHm1Y9G6A4rinsU7R3w-NxkeewDRU7UwyfJl4Ko0Kq3K0ut6YZimDu247Xsa2mOc5-aysOxSpAh2amIeHtxoqajYzkapg1yz6bO-ey4bGeWOKVlJQ3mVKzsAmq2Yo2ak0+grOzGy1pCXFQqjKOoceWr8z3WzXpLoB2GVWE2+ocN8hc-Gc1p9W4Ri9kgfadlUdaUYN9ZlhV7cduhVmEh2yC3DEGLaz7oaum67s8vbU99lV2KUABHLYnXNxCC++ov-sB0vxvL2OpDqSZUWoNZc+KhtASbi6W81hHmMNip6BruuyDZChWGH8KPVs71oqXyPZ9r4wF6TiCd-nmx4+DUL+mXvZXBHlMrYvxj2+BoILtPlJN+X+h89vs54nvz-H+eDWOSr8TDny3p-C2KZ0x-0Rn2aQCd9AUHZLGOee9F4fy-tZaQJAiDqHqDAgBcDmYv0VgnN+MDIFYJRLgwqbYYE230tIO8NAyBvBdicNW7tw7DApMw1hB9DZ8LeOLGg2V2E0R-u2HMEcpYGz2njIRm8c7BjakbL64JRhCOUiA1IU89oVBoPoFYqMmD425FQPudYG4LTcFRFMFRSAjmQYY4xNBTGDC5BYsG44g5CwqJ41ETBnFGNHG4sxATvGzUIciRxQTVQhK3GEjxXiZp5ycDY6+S0OErXXj+IeFJYnBNce4tgESdrRM-BEuJLjQklPMZYs2aTHAZNAHYqhocN7-U0V46pCSTHhJSR5MMhsamJNMShcR6i5Lj3ybdWBvgCDPzkqM6OkzC6-Rum3YZe1Z723iSsVZDc2mSWbhs-6k9pYsSZrIfQ+hNDZzHJNf22lzAjnkEQYMrNzIQMQmoqSNy7lUAeS+OmwcjxPN6i80AbyPkxmeWUf+lyRl9KSaUwZhFUbd1ufcyJTScQyVAKMkxoA0iEpReMuC8YonHOyVIQp+zakDIaRZWagtQAAH5GbMgBTisceMaZErcXYUFYLRWtGFIspgF0VnxElnYNlAAuLlNgeVAu8fy1k2hBVMGFWysVR4JVLIZZxWVecRX6ota4XZ3tjWHLzrIi0jCsWAuBY0oemDXYdLyRHf02K1XlO2Q9A68K3UyMoflSRRUZHzOhUweQXztKhSOavFsUi01ytpPgACjACAsHYFAOAiBkDoH4BgR1RCKBMCIFYHKFZVGqyYTQXkZwLJ1tacHTlFZFWgBqCwYIFZeFNvvJxHtVZBzVBUOYDwC8qADxUAI-R0gCB1A5NoNtjg1EAEIQ5VprWu2YoBZRXOZABbQfMhrNVEeycwxg1j1qhp1TEpA1AAX6puQaUrL3ZRvSQO9FSKhPujlIU9BB73tNWhvAgFJAMvtSguoNItz1Su0KBpwfzTnXSg3M3Ih7y0LIOhDVDG7R7TI2VhtuuHk5I2Db+oIdBlZEfQ2PMj8MD1HsNnjeWZYQgmBdL8kjEIuPEWUkuao4R-3SCE38bYZYwOeog8KMsFIpNbHgwqFTbE6BiZ0LJicltI1tlkww8Qe91A0FtCQeNt66PRidLevYn10z2Zw+xvakqLq5s1fZtD+nzjOcowSqw5ZEhIMErRlgtmKAkpUjQ-IVHxB4085qFCw0yw-LUQEII0VKUhX4tJ-+lGIJJZPjl0KxWHPf3OOVlzeHmCsiIvllD-klAVebOmarhXDaVjE2oazEXlYpby8NLk1pyy-rk0KYw8grDZeChAjIpL7yWZm78T+bLOWZeCIl5rs3lSpZXcKkao2wt3u7Ut6blhdu8ggQAHlBFNlbB31s9qYH2iEqMaCMxIOyWN7yz6KiIH61QSrRigAANTtstYqStFj5BUAIDlFLDgIfKVBxDvV5N+jXks-DnKq38zdt7W497TbCBKAAO6-dhaAgHQOVAg-B5Dy1WPYe46uyFZHYwKSM4xx+FnOOEc-AO8ZtKTa3iA6CsqBrWx2c-rvROCCt6NBNqit535rRD7ZwsoNtSB2JwMwbdQvB7O1tQ45T239yvDHaFM+Z2HJ2bPK3s-Ks3SqUIksyJmJHvOjycszPjn3rQ3da7TUj8w6Z8f3AZkUBm8PQA29-R70lQXBIheQX1+jfG9VE+CChApJAeTPpUqyUM0ee0hSUPr8mBLivRfc3JYrCe-16s+vQEPxXJfXaa6yQ7He0vd-RFLaPOIY8pqV2Z63zmkV7WLIBGK3G8+6-UHL1RivLcT9V+NqvrhNecRN0N1RBv7HYJoSbl3UPOXj5VwnocdvLMO-62-Z3ge3Bu5y0n1N3uzectnnJf3K68tz9LVg899oFStDsI9hd8gy96Y48m8P8U8EFQsM9ItD9yYc9ZcxhSBC9o5i90RQAABaAg6FWsEsEwUvcmAocvWebfI8GvZrOvI1RvKfMFVvdvZrTvEKAfFrcwPvYiMrZrIfSgkfGlXwK-SfcbTNMAbNZgNgDgQtbgEtNAFAWrCoasKgVgR2AeYDVKFDUgCbNedWcEEQCkdQzQ-uMUEXUAMwrQmwDQu5MhEwbxEQVrCNNMNsFwtjXAAlGwiwnQsqRgRbc8MmKSQ0ZSNwQ0UVXVcmKSY0cI1wY0KI81cVTqTbeI6wwIJgJIkIzqYkdI4kbImIzqCoHBPBZSEomhIWaIj8KSB2egO5WQdkZSOohon7Tmaog1TqHPeInPMFDolIjRV4KwbuLkegcUIYywEYxgBmfotwKSMHdItwNdcwVqElAAPlAArEZzaNmNcCkgIMWNcGWNAFWLSA2K2OIJ2OSLmM6gIMKXiK2NaDOLcGIMeN2KmQhAACpDj48B0Tj0hzjQBPiTjXB3ipJgAfjjjTjASwAriciNEABSSEv46EzY0ABEkE0AMEzqBbRYqEgEtEhbf464vYzqTdDIPElEgkrY8k0lVqEkj40YG7ZElY6k0AO7Vwek+EnQJktIQ4-E9YtEm7UlYk7kiENYlk-4wUrYjYzk7EjRNYvk8wI8AU54mUkUrkoojRTdH4tEp42U0AbdVwOtMme4Hw68cw2dGwSaFLElHESKDMH+cwXwq0-wpERFc0jQ2wt0mCGgLkAAK3HUCPtJuT0N8GeKkhdIHmUitk8PeOsItO9OzXuGwE9MtO0IxhpyCPBCkmfV+gsVUGUjzMWWSBUHjLNxqM6kgBIBLKqCaOVOrNrKQXLIrIGJ5ImKkFgEgHiI7K7JbNbNJMGK3EmIAFF0iOyRz+yBypIAA5WQGcn4ucmcoAgc8mM0gmKLKMzTZcTGTg4M1oB0sgQUzMMgQ7Lc-GHc0Bdc5cBMr0vwzMuSNLO0g80Mo854q2U8s8xM+8jczGRFeLXwHlZBc8kDUgV5ONYkAw6FbFZBCxOlaOGodQdke3f02QDYNva8RBUmfVc8+w+8YMZw-Q8C+QSCvRcaX-CXFA5WKC7rYwXrcLTPJ0AFOis9b810m00rBk1c8mc8h8vcqcqHZi1ZECg6P0wMygYaF-Cs3i381cNLASy1RAtPB-Ri3RaWQLbIEiv0v2BiyLaLCi-QFSyLbQFMrNVKHNPNeQrgYtTAHAACz8ZyBCD8UQkOBTDWWZUYVVV1JSSIaINlEozVCFMybSa2UAKIJnBmGKNCGmIK2qFle1D-Ty7kUYCpZydGSwGgIFESSZN5BNBFTsMihUTiOodkAAL0+ChG+GTRTSbwlCIDIAXlUF4OzABIx3oHqsaviC+FWG41mmaquCsOKqQvKpOmqval8FqoBwaqUCasIBavWLao6pmq6rFwl3n2InZ1ilGrNSktXPsy4tFWXQGsKojFRGGsqm6jytDSxF+R8PfUCNBBZiQz3IKvxQ3JGhEGiyGrKu2HSlcglntWgJqtvTqumtmqOr5AWtFXarBviES10IGmGxMItzvQOrBQhsGrOp+pQV3nIHQQoB+RxEPlQRMBvDwRylkGajQPGvjxBqms6v6shueJf1kEmt2vwBhoXhtFAFEwsSIDBkIDcR5rqE0Es1AAABIAAdaoCsCgOWxwWQAocW3a7QEyJTOaq4QGKGisuWd0aXbYNW4iFcy1H-Ja1QVW-WxmwGXa1wJVLkSazm5aq2hSo8LNbMbwSvXmnBAWggIW7OPBWHCW6W7reWxW5Ws3DGoG1wUfHfQ2DfFDJgsCtoDzUgQmo-KhUo+oIBfw03MVTlevfwn3JVeOo+FIMmpChOqVBvJOzMbOkQT+F28mdMOu1OoQ6Ot6m8+u6LB0768qiUcBKPFNCo43euhwZ7W9QU4sgslQM7a-TMUe8PDw1uzGkqkanma67UVRAld3UldeufHLV61oAlNYT60lXu7YPe-Wq6+K91Qemmh2s2ydDWpmjYjHE+0gWqqSoXZfZ+rW549XS1WfTg-WzA34FfKOs3VvR+7QKe0s52iBsVAoNGhmSO6fcac+7uUg4ysanm96nekgwMSLTgw+twY+0+6FLG8q1WrBz5dSENG+6NCBz6B+2Gxm1q0Vd+iyEGr+sB3+gkjdUVfAT43gT4m21wAlXkNQMsaLCfcXQy9a6TWXMR7i-VFg1soBhRmXRfXhtRisqB2G7+5BlR+Pfh12sAT4gQUR4x-VDRnLEBvPZR6xsFSRy2iKpx9x3R9xzmT6CGgQEyhBrx6Ou+-VJBqS1B1zdByh7cmOdOaRG65yo+96-Qch8+njGJs6qQTOf1QeRhju-oHmlJqJtJtODJquXG7hTe4JglWQQp1e3OaOEp1YHuGoSxAea2JhlMFhhm5+9hsFZJj+7hqHDmpa7mr2-m4GIWpQOEUCMWoLBM1QbJtxwRsAVGQlLkS4XwKWmWuWigRwTOSWsgSwEcAAA31qVq-szlcd8d6ah2nF3UsBykud0xts5TIBEC6adr4ZtqVRqYGd-VBu6euaMY-DdquA9twdJu9omayKmc2BmfkCyEryyYeSUDmhaTCZapOvEDb04lVGrVFjBiTTxSyWRFLrxs7Ge1kAao+VwRzlVtuTouBeDkzqZaFgdJxcAhoHxb3qakcaPDJYXgVmURSCJdvuNo-CVX7GJlxXdWe2FEvomUlm7UzqxbSm+jQkcSwfNqRz0xTHZff2eNGE+M1cIdUG+IlHANVYobqfFjM1YVOgJRamiyERETEWpUSZvLtZXX0q1zxaxmlYZFClGggYJRNajFUAeuhg1dRC1ZWv9sRQ9fya5FqfOu0GDZco+fBvmrOIx2TYGdlroqMuVi9dy1ADDftAjZX1ZbcEdtmoxeOrQaKqiZ+jxCFd1nrmJdIfeqYBTZ+u0HlnofaYzbptrafoxu1uDh7b+bWGraON4euYneZ2gc4z1u41+F72zEBlnZ6ateUDkjeVCl+YYDlwBc+fHYEcWiHpP2NyPdzs5lNoMZZZ6e7UzFvbsE-pUeGemtGa0z5p9qFqsEkCDu2dDpEHOZUdVrjWdsXdXL3e7jjVCnTDfe3ah0GcCdaC-a5sYDGf-aYD5bBXwGnW8FtAHmFrwQsE+y2ZDt2b3YOaOaYFOYPfA-Q6WIPcZoRhg5Y9HbPUyMg-kGIs-hQ+sYhoRiE4tSBfw-Cdq0rEHGrRVT9W8rDIE9PazYGt1aoRErKjDPFd93puWvpbuWArYu0NApIAE8bvBRau7QA1CGfR9LrBcKWd08mkI30OwotVoqAyorfkmiQzKyIvw+DjY8C6FieV0oY30Is7TavR+navUBGAXeZrN2491tbe4xali9wR1BC85Q0wvO02i+yky-i504rKVVgaapC4k8tQxsJ1e2J2RtGFIDeBIBoHJ3wz2iQSMUINHVk+qGdV5SGQiabZta8plbDVuveoIF7aoditNgYd2Cqfetve7tDPPuIuvtFdyZJdpv+b09U5fox2m+ne3aU74c47FTg4PdVvrvMBC9cDQ+sb4+GhE5uacZk7IDk4G-9Qc7Avu9XLY6c5Y+DlHbE68de7B-Jmq5q8xdaWG9OtG+5AdferedTtW6inW+hW5HSsyq5qHZ28zbHezY2IAc5ggkrWQWSFlt0AyqyrTqh0N0zpp9x5ElK4v2fpMsC6VRPNp65vfce+B-5cfsh7NxMou8F4SLiSp50Cwl59Z7brBRjtYKgSl+610FHoCaPAKCtdSZwcN26ric3spebYN4peDklewU1VZQ7WtfOu2tlfN4cqR+t6Fk5Qwccpd85gt++8U894Zjd+bbG9SQd6Fm9+1SZXG92GN7qa1XJQj5gkxSD6sXtWs7tm9kacN6aGj7t87libN9D8-D+p6mCuT5D-vdt+xqL+vvz698-AFZyaj5t4wfr+ihJsFZ0S28W9T9tZYTYT9-JgD5tcUX74lc-G1lIWVhH904wfH+FY7bL4Zm98phJlmnRab6KeRhkDRj4uxiVcd6ldBmD5kWz+xr3pr8X4cpobfin9aEH7t9n0n7zjq7ey6Wa9a-a8VHZCcIuOIPPqTnsuciwtM+f4EdsLx6ZoYjwLlXXnnEJ5sMrWmKfnPIC1QBlx0UFGzkMDs6noxKqA57EyRgwEEAIEpbvppyRDIDxKqQXATdi3IEDUoRA-fv4F47YDKAbPVwJylGAABtNHBRwVjY4kBmYJgYxEZyo4X8EOBATDksxpoBB+YIQQAF1Rg3aRAWzikFWsiAs8UxOoSdDVgDAwCcQfxzWbkDVELRYcDlFGBEEzB5giwZYKsEHEjGWgkLDwMDoo5JaSkRnGIN4FkDUBQg5wf-wgiqCagP0c4HYMQQODLMUFIIToHCEhD5A3YAlBYn0D4twh0WJKlyAIJADxmleOIdWgVQpVUy71LlhQHiFyREhIpZIakOmbVAl8WwbIfkDwjXgB4pieOqvmni8YfAqweOkcCCTU0IW+TTIVFlJR+DTEHgc4L0MyZ5pEEwTVoHAWHr1Beh0g0npBEkCtEIQZgntOUIA41BNCfcVQIQSIKo4KCH4KgkoArwSACA8eXoYlQ6FNEuhrQIwY0WWHWCHhjw8UDbRGGJCnBLgiHOcPeH7DvGKYS4f43piHDjh8wm4YsOMH3DiCHEJgNQDFrJBKcWgu8AnB2E2CXhJAQoaMO0FeCPhEgNEdWixE-CGYgA34DxylTbBRgG6LgV8LGCHoZg1bFPFpRGwqhvO5IQPPgCJF1A9ONoQPIYxUjdZu48XFpqBAHj8MbaAw0YRYh0D5D0R4QwApr1FSqwWhGTeOtL35G9whRLWOUdHmrZsjuQQA5+h7W5EiiKytwkwY8LNFWDnhTjSkJ9lYBuJK8T5NUAqm8GM4qRowbwRMP1SfQVAdQ-wY0M1GUEPR7dVoErwVFqiVQ8dH3GL3-q7UTREI1wK1x5reAPAJgBMn6XwquAzBewwMcr2bDeirSDQ6-NmIDG0g8x9Qq3FFFmBAA","body":"const input_prompt = \"amb-evaluate input:\";\nconst output_prompt =  \"amb-evaluate value:\";\n\nfunction driver_loop(env) {\n    function internal_loop(retry) {\n        const input = user_read(input_prompt);\n        if (is_null(input)) {\n            display(\"evaluator terminated\");\n        } else if (input === \"retry\") {\n            return retry();\n        } else {\n            display(\"Starting a new problem\");\n            const program = parse(input);\n            const locals = scan_out_declarations(program);\n            const unassigneds = list_of_unassigned(locals);\n            const program_env = extend_environment(\n                                    locals, unassigneds, env);\n            return ambeval(\n                       program,  \n                       program_env,\n                       // ambeval success\n                       (val, next_alternative) => {\n                           user_print(output_prompt, val);\n                           return internal_loop(next_alternative);\n                       },\n                       // ambeval failure\n                       () => {\n                           display(\"There are no more values of\");\n                           display(input);\n                           return driver_loop(program_env);\n                       });\n        }\n    }\n    return internal_loop(() => {\n                             display(\"There is no current problem\");\n                             return driver_loop(env);\n                         });\n} "},{"body":"\n    The initial call to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"internal_loop"},{"body":"\n    uses a\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"function\n    that complains that there is no current problem and restarts the driver loop.\n    This is the behavior that will happen if the user types\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"retry"},{"body":"\n    when there is no evaluation in progress.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p34","child":[{"body":"\n\tWe start the driver loop as usual, by setting up the global environment\n\tand passing it as the enclosing environment for the first iteration of\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"driver_loop"},{"body":".\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":14,"eval":false,"body":"const the_global_environment = setup_environment();\ndriver_loop(the_global_environment);"}]},{"tag":"EXERCISE","title":"Exercise 4.48","id":"#ex-4.48","child":[{"body":"\n    Implement a new\n    syntactic\n    form ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"ramb"},{"body":" that is like\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" except that it searches alternatives in a\n    random order, rather than from left to right.  Show how this can help with\n    Alyssa's problem in exercise ","tag":"#text"},{"tag":"REF","body":"4.47","href":"/sicpjs/4.3.2#ex-4.47"},{"body":".\n    ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.49","id":"#ex-4.49","child":[{"body":"\n\tChange the implementation of assignment so that it\n      \n    is not undone upon failure. For example, we can choose two distinct\n    elements from a list and count the number of trials required to make a\n    successful choice as follows:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":15,"eval":false,"body":"let count = 0;\n\nlet x = an_element_of(\"a\", \"b\", \"c\");\nlet y = an_element_of(\"a\", \"b\", \"c\");\ncount = count + 1;\nrequire(x !== y);\nlist(x, y, count);","output":"Starting a new problem\namb-evaluate value:\n[\"a\", [\"b\", [2, null]]]"},{"tag":"SNIPPET","latex":false,"id":16,"eval":false,"body":"retry","output":"amb-evaluate value:\n[\"a\", [\"c\", [3, null]]]"},{"body":"\n\tWhat values would have been displayed if we had used\n\tthe original meaning of assignment rather than\n\tpermanent assignment?\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.50","id":"#ex-4.50","child":[{"body":"\n\tWe shall horribly abuse the syntax for conditional statements, by\n\timplementing a construct of the following form: \n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $statement$ } else { $alternative$ }\n\t  "},{"body":"\n\tThe construct permits the user to catch the failure of a\n\tstatement. It evaluates the statement as usual and returns\n\tas usual if the evaluation succeeds. If the evaluation fails,\n\thowever, the given alternative statement \n\tis evaluated, as in the following example:\n\t","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":17,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n\"all odd\""},{"tag":"SNIPPET","latex":false,"id":18,"eval":false,"body":"if (evaluation_succeeds_take) {\n    const x = an_element_of(list(1, 3, 5, 8));\n    require(is_even(x));\n    x;\n} else {\n    \"all odd\";\n}","output":"Starting a new problem\namb-evaluate value:\n8"},{"body":"\n\tImplement this construct by extending the\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":"\n\tevaluator. Hint: The function \n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"is_amb"},{"body":" shows\n\thow to abuse the existing JavaScript syntax in order to implement\n\ta new syntactic form.\n      ","tag":"#text"}]},{"tag":"EXERCISE","title":"Exercise 4.51","id":"#ex-4.51","child":[{"body":"\n    With\n    \n\tthe new kind of assignment\n      \n    as described in exercise ","tag":"#text"},{"tag":"REF","body":"4.49","href":"/sicpjs/4.3.3#ex-4.49"},{"body":" and\n    \n\tthe construct\n\t","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nif (evaluation_succeeds_take) { $\\ldots$ } else { $\\ldots$ }\n      "},{"body":"\n    as in exercise ","tag":"#text"},{"tag":"REF","body":"4.50","href":"/sicpjs/4.3.3#ex-4.50"},{"body":", what will be the result of\n    evaluating\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":19,"eval":false,"body":"let pairs = null;      \nif (evaluation_succeeds_take) {\n    const p = prime_sum_pair(list(1, 3, 5, 8), list(20, 35, 110));\n    pairs = pair(p, pairs); // using permanent assignment\n    amb();\n} else {\n    pairs;\n}"}]},{"tag":"EXERCISE","title":"Exercise 4.52","id":"#ex-4.52","child":[{"body":"\n    If we had not realized that\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":" could be\n    implemented as an ordinary\n    function\n    that uses ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":", to be defined by the user as\n    part of a nondeterministic program, we would have had to implement it\n    as a \n    syntactic\n    form. This would require syntax\n    functions","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":20,"eval":false,"body":"function is_require(component) {\n    return is_tagged_list(component, \"require\"); \n}\nfunction require_predicate(component) { return head(tail(component)); }"},{"body":"\n    and a new clause in the dispatch in ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze"},{"tag":"SNIPPET","latex":false,"id":21,"eval":false,"body":": is_require(component)\n? analyze_require(component)"},{"body":"\n    as well the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":"\n    that handles ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"require"},{"body":"\n    expressions.  Complete the following definition of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"analyze_require"},{"body":".\n      ","tag":"#text"},{"tag":"SNIPPET","latex":true,"eval":false,"body":"\nfunction analyze_require(component) {\n    const pfun = analyze(require_predicate(component));\n    return (env, succeed, fail) =>\n             pfun(env,\n                  (pred_value, fail2) =>\n                    $\\langle{}$??$\\rangle$\n                    ? $\\langle{}$??$\\rangle$\n                    : succeed(\"ok\", fail2),\n                  fail);\n}\n      "}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-1","count":1,"href":"/sicpjs/4.3.3#footnote-link-1","child":[{"body":"We chose to\n    implement the lazy evaluator in\n    section ","tag":"#text"},{"tag":"REF","body":"4.2","href":"/sicpjs/4.2"},{"body":" as a modification of the\n    ordinary metacircular evaluator of\n    section ","tag":"#text"},{"tag":"REF","body":"4.1.1","href":"/sicpjs/4.1.1"},{"body":".  In contrast, we will\n    base the ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" evaluator on the analyzing\n    evaluator of section ","tag":"#text"},{"tag":"REF","body":"4.1.7","href":"/sicpjs/4.1.7"},{"body":", because\n    the execution\n    functions\n    in that evaluator provide a convenient framework for implementing\n    backtracking.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-2","count":2,"href":"/sicpjs/4.3.3#footnote-link-2","child":[{"body":"With this treatment, \n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" is no longer a name with\n\tproper scoping.\tTo avoid confusion, we must\n\trefrain from declaring ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"amb"},{"body":" as a\n\tname in our nondeterministic programs.","tag":"#text"}]},{"tag":"DISPLAYFOOTNOTE","id":"#footnote-3","count":3,"href":"/sicpjs/4.3.3#footnote-link-3","child":[{"body":"We\n    \n\tdidn't worry about undoing declarations, since we assume that a\n\tname can't be used prior to the evaluation of its declaration,\n\t\n\tso its previous value doesn't matter.\n      ","tag":"#text"}]}]