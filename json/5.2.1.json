[{"id":"/sicpjs/5.2.1","tag":"TITLE","body":"5.2.1  \n    The Machine Model"},{"tag":"TEXT","id":"#p1","child":[{"body":"\n    The machine model generated by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_machine"},{"body":"\n    is represented as a\n    function\n    with local state using the message-passing techniques\n    developed in chapter ","tag":"#text"},{"tag":"REF","body":"3","href":"/sicpjs/3"},{"body":".  To build this model,\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_machine"},{"body":"\n    begins by calling the\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_new_machine"},{"body":"\n    to construct\n    the parts of the machine model that are common to all register\n    machines.  This basic machine model constructed by\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_new_machine"},{"body":"\n    is essentially a container for some registers and a stack, together with an\n    execution mechanism that processes the controller instructions one by one.\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p2","child":[{"body":"\n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_machine"},{"body":"\n    then extends this basic model (by sending it\n    messages) to include the registers, operations, and controller of the\n    particular machine being defined.  First it allocates a register in\n    the new machine for each of the supplied register names and installs\n    the designated operations in the machine.  Then it uses an \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"assembler","tag":"#text"}]},{"body":" (described below in\n    section ","tag":"#text"},{"tag":"REF","body":"5.2.2","href":"/sicpjs/5.2.2"},{"body":") to transform the controller list\n    into instructions for the new machine and installs these as the\n    machine's instruction sequence.\n    \n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_machine"},{"body":"\n    returns as its value the modified machine model.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":1,"eval":true,"prependLength":464,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AcwFMKB9AJyYaoGcKn2ACgC2AQzIALKiSYAaUJwasSo4UwCUoAN65QehSyLt6YydKaCARMzaLe-dpfWDFy1RoDcuAL75i5ajpQCgBPAAcLaT52IkpaEk0tAwojegkmUQATQSiKGLi6dQ9QX0JSAvoAGxoaAGsiMNYw9iphQR4Q4QAjGkr5Ggj2UUCSHkTdfTI6PlAAN1FK0ABeUFEeHhoyds6evtABgWH4sa99ZNTQXlZSTKYCc2z5yvUJs7eAflABdhohDu7evJLKRaiQaAB3egHIYjUAAWjhq3WTG6lSYTleb30AC5QOksoIKKIqJVBE91EUfH5yrDqnUGqxKqIukxSUyWZUePJ2ay3GpxmcpqMKHMFsskRstjzKny5KBpSdMZwUsZLjxriRbvcZI8Fi8sR8vuwfkJpbKgTc7g95czWfDEWseCiumiMQazriiSSyXqvKV-BVQGJakwmi1hFRqLNQ0wAB6NO6CONheSmKQybm2zkC-RUAigHLqoV8UQkNjJpPxinaTGC6Yisji4tEsusZOsJ5ECzJynu5UXQSaJYAPlAZFO+m8X05TEu+cLjKzbfjlbC1Z07ubl2FPHFdPqjWlggVmY5y8PWdXFInWP7qsHy1HuR4N5K06dc4LVzsfAE56vOZYlu7DijYHBcPYAgiOI6Zyj+DjnuBDAAa+Zx3vQD4jowLCsEK-BljwLhFKAmJTqyH4bga3y-KuFokKCEL0MmnDrPEwThLOCISs6rq9pOVJlAEbHBqG0JHHQiGJsmqYweYp7kf0gziaMgFjvW+xhHuNQHmGrSCGJIyIQMV6KYcIyKnWwqrP4u4rGIYRJo+QaiCGukRlGMbxm2BBJjJZgZjaHJjLItbumFBnxEZSmaoRPZ8Xo6EFkOo6iGEYSVCErDSBqtzsBl0hKAAVqI8w8GQLRhBQgihWFWIDDJDn5lhPnqPIog2deAkBrCjpUAwJAuBBv7sOaoAbEYZAaDWaGGKqlT2FYvX9ZY8jwX+KhqPI43sJNlK+N1bFLSQSGyoIR1ZcK+QjKpiX4tkXqkuduRXfEnX7TSh2sf1HYLF2-5PZdsTXdoJEzSqaQZPdxKkg9Z1fcdz1A69b3UkJQQiaw52JrkfmwfJnKmTCxzyGEZCqVuRLsDYoE4WtQhpnJEp9cdrgbZEwqdZZMydp5mkrOdPP-rk8VqVZgv+MsNVqqwEUSRWgs9lLnwY7Lx3tomCvxrjjMnhpZnHPqBq4hjzStJGVDRpJPmaymzn+XKCoi4lmGjpRtX6E6bB4UwBGEqIVMsPI4ukIOIvu1k8zkKGpOCKTxFS5Ofqo4GEelpNTRbHH00ezh3u+6T8iw2BecUIRcfXiR-ofejLmhvwfDeTkwrawFuuq1yoAEEyDAk2T2d6FuQqZObQQrPXXt0MPIxN3wIt5l+6qq-+Q8jwkqlcw2k+r6wEt2bXMtKYZ6s+Qn7tnwPW8jC3cqn+f7tt4fBuofozvJf3d96J7uF0PhpeCF3oge6iynpFfwodn7n1TlHDOscybFFvmcbwr4yIznfmcaiQgcagEsF0LIwQmAzERoGLijoeLohFr4KuaN6Dj0ECvYGSRErzT4FYceK1gGr2IlQwM49v6alXoSAhbAiEMKVLNCGBJYa8JEcjeB3DYQYy6EMcgEhG5YIZq3LMHcAFAKzm7UWMxbgzBWEotOqijFVWFq+eeC4zQVgseuKWW5nxaXpBeDkx4tH40QkeBxYcX7iKSk5fRH8bHFx-j7P+OjHEf3dF-EuZcyDyGfP48+KCKIIPDpkSO6cY5xwgWfXwH8kGkXfLOEJ+gMEzwoECXBmRQCmJUduaISMggkORKichyCurV3oI0yQniOSJHOHNBaODlGSHYdKLhydYT9PMUIwQ8yLotIqDdQJd0-bemWTIwo8d5FsSuESBgzBMiMgWlMYQYQ6CRMLukVgxz1ng2lmEYkQhLnXJkGWTQAAyH5eJIZ0JoFcm53zlhLDHvc45SdBKBkUIINmwymFjMUOwxFxQDlBG-ENBCFYewg0SkcwBpzzksOktg1FMzYWwjpoheF+LGEbMBbDOKGLZlsWbKWKqPMkWBOYVVSwnKyzsJ5Wy6lhyiz1i5f+BlYjnlEpOUwM5-LaLYKFRQJwMKDpBHVYhHmV4CVMskdDFCJR2VBCPIiw1zyVWWGlGi9wVLtX0CuHYlcDKRkuvVMcklKryV2qzJqs14qLVLnbEeD1t1mUmtZcG51GkEWOutRcW1AwHX8jFfGq4S88VVnfoS9UryqBCHxX86WPqlWkqqpsnsQI017XNVCR+csvLGQGOeXlzzNmw02e2uKTrel6yJi2xoYkYr6QTHmxlzzYZ9qrJmwdGMGA0AeSu7Gzc7Z40CgpUAejMRbgsaBFdFAV0WOqXPecrqw0rj8WgyY6kXErH3AyI8us3XuNZIIPxBTX5OXiRE-OSTmmlwoWUz8C5aX2KETEg0wEuA01sDiqCGi4JIZGu2eF36pa-qwv+sskTEnyHCfh32ihOaTjAxUvQVSsE4Lwcu1dwGXptIdB0l0XTSI9OoYwY9NBBmsk7SmsZDGT1TKzAO7jInT2LKkysvIrSEggzlRcbtJrZO7LXnIxtu7jIljILUJ5Fw9O1CsNcsImqqTxrCEQHgEh2hEn00HX6U19GJWM6ZmzEgnA+kqF2BtIaTD7x4CVGMPl1GyQCsZ3u5N1KKAQ0hSC9MItymM3Jk6bNz1O0CS7O9YVrO2fs+IWoRHc4Ab-mR1J7ooG5MznA2+JT3rcYxixE9nA1EbpQ1tBzxXd1930XBhg8W6bQXtl1oraXWbuEy6+HDrtMmf1KyR8rXASa6e6+RyB2S07R1q-Hd2DXtPBejINBggnRksMsEd9Eq0uASbhUI34FgyPJvOwKlrj32FkYXdx1LuR0tTd+4DNZ+ajVQ29ID1Z11-PxpNgIAgvxhDtb4NffGHd27RfflucQsIViDHh+wRH2P4jnusZexeza1YriJ3s3LBiRTU+OrvZyrkc1eUTAzlH83Ync70A-fW0xKuzaUzz1YFQd4hz2zz6rO3YGS7ScgyjUsaMbro-UvHCOmMKftNxTpFnEFccDOrgnZ1gfTqExdo3wh2EM7u7CS3mMKixzhwjuTzHFOudB1s0k9uNMowC8zzyTAyBEEMs66pqOUegxF+fAundu5jccxpMYIOZ0cXPeClYlgjqWFvsrfeWMwsdeSxHpP0Xb6ejT8LDP2C2G54Dw8oRSOambp1l40vcfAFl-dhXiI6eIWZ-mTn92efXLLPXcjlvmigryB0V32qPf2az2r9YXjQ-aoj9DLJ8fzfOvboJr1w2YUF994hdgq7a+wob9YFdpvkeosH-L+xXvVf+8Uoe5wC-7or-vba9vu-3W58j8n9F8KAhxT9LB8tVExB2AQwRoT1r9utP8DQr9IDWBoDYDV0EDxtExd97845H9Qhn8OZl9OBox2A2BUt4D0CBAkCsRv8mAyCKDutMDqD0MfJcCACH9u9gCT9M9LdaDDRYd2B8dEc-9J8HY28BgO58DuDlcJ9gR6IwRIRNceEOJtdSFddodF195chqk+E8heg0QRpfcU8Lgi1MFhR9CfhKgjDXcFN5ASAiAbCG0s1LC8JrDbCNN08Pcu1AUrFLNB0-s4wg8Q9QEQ4q8fCLhYZ-DGtAwv4gjYwQjQ9wiN1-BVIv5ojUjSAtDuMGhMhhhQxnxqkO5dYUMYsrJSYhs0MRst0ICyA9d70rIdEqjuBhoajGZLAdEGiL4rJjNxQUMrBjNui6ck9+jksrB25hjEp8c2wYJqk-0cIEikiwiBouduccY1jYkMZgjg9kjqFqpo9Yk-t3DDC-wvDhYQpDiP5Sji9etLirjz5Z8xpOCpCKR7iecUktVtDXI7Eyx2AQh+MZQ2ZkkdxDNVRzDATRpPiDdYQ4w8hsdFwgogU-jTj2AbtJoLYXNlNVQrhHCbDkSDCbCBBD8v8DAMTjs8S9hKSSSjYvhYx4TKBETyIDjYlYYTiiT2BWpNjijUc34qMz4twZB6S2w0Q1AyxxRNl2SjDKt3YC0ECWgSBkIhTyxRTIkaTDjPhOBySQCuRNiRcISMZfi8gATlSRSURbk9SHj1jQT3irS75HZ1To9cQtSmBMTY43loJXJdDTTWRzTvlbS7Sz4UkAzAy3hHYCkwpvAciU42M0QCSPCBBr4wSmJ6ShhGSFR4zUSQzo8eS99k8sJ+Sri8iCi5NCJnwS8yiIzDjCUdwqzYkoyvimsgtusHx9E0QRQ+iVhKTXx2zO4hg1BxRuzMQrNPM0D-ZYDWypYCB+zZxccPT79pzHUf1AlLBMgblLBukzgrN21WDJy4lusJTAVFyM0pyZzxRYZjzPBsMVy1yZANzOMtzB1IDBBYxhkpZOzd0PTYwE8DN4E+wbz1zNz9BtyHJ15cwydlAnDSRjMYNaoqlLAURKoQhniittczNhjEFFcBT1IT0+YAUCQYK6yUL9NzyTVCKEFEpcKCkil+JHzuNpBzYFgqAAAvCwMCz+A8rsqC5c55VcwCh84CwdYeHgV5CgAZNQdYQBLE-855CS4LZgZfSAgQ0kyArnY2AheS2c8A9CrnT4MzQcNSoMDSqSxS0c1g5S5A3dMy8cqCR090dSyShS1-CAncmyxwXSnTRoXcuy2kuSky5yhi6gJi1iiyug7cRi+aVigyj+XEKpPy5gOiBiZQzgAARy7BmC4iGIoWxPoGEtEskEbMDBNmspgL-HgNSxwNuLwL6xyqCQLMtNQN3PIpF2lxgXyU2IOxh33lIIECYPGyoLcsbg4KKwx0iPvD5IatctKr+HWyIoNFaryTgSj2KUKrtxKowPKpbLOyqDGUasGs2qKyDViJpQYN6qwP0xYLctbM9XlBRVOvIPOtqEuumqOu0zMzHOmsK302TOIpMxcq8rcos2OrYj2s+pgtMNVHcwgPWpoOjIUW6uqKtTbJYFFl-lsmwQACpSAjolUMb7y6LAw8rhhxLjLmB2Kbr4qtLM8bBQrDQElDLKbl9PZaazhPgeZglUaCNxQeY2UYqjQTQRBSa5QFCkr6BUr0qRQuJms0NhiaKEpAkiaxKJBVq2Jn0HIQwQhC5mQ0RyiZgtTfh6l+Z1hNhBANatbvQiR2MNsbqrhLRtQlVBoph2BMgfK9BPg7aHgCCTV9bnaXDB1HQTazaySDbk8xqvVIL8SfbMgxg68PadRH8mA0qFhTamBNb8LshNko6xgKQ69M6g8Q7XbQBcQA6tgg7YYs6-d41iM0aTtEsfrhtrAWAgb-c8Ma66YnNfNpKAlnkG7mbnBRUYThJ94ZBwQxz7Y9zGiZhKi95XIG7SZhitxmiZ7QwG6uiRYtwPyMZ3MRZeyKB7kNNr9E6uwo5BzuLMRd77kpC9wFpbVAqqBgrQwhj5Acsoa76H6nBrbezaVLa0Rr6WFbV57otuQxkuiZ9u5rb40FhqgyASzhskapYbFbbNQrQdQ4ZJRE1NoDBWiEIf6NBYKwpv7tbZzPzi1jwFpgT684HHUuTQyDRCGrbqKsL3YqkKHLBhAnDqB0pkKtRrQ6YMLaK6GVy6ZVgbDNgCjMh8aBG9B401aEs2j4HNx1InhxQS6MHUNsGyqiHBdAkkGeHUHyQPKWH3BEqlCxaZbC6PR06vcfNra5bO5B0diQ82LadnEdx4sElZcClEH1RKTij8GZKLg+K7zGHyJykEEljdiVjBBNkUlnAZTu6LhHH+BBxqKBLpGhLeB8q7NKbyb40SxyCJ7apW6CNYE7lCigdDInQ0qfZdoiLEokm2LUmAnVRGbnL8mNUPL2noq74HLNLl9cgoG7Cxcqnj7JoWb9BPgqmOa97ynIdIoRmaniGqneaemjLHKqbsEoGxH+A5GHBxm3aRHoHYG0MGahbl8wI+GPLZG6ZTn1n+nhRBnJiPKr6CzghL6wh0bUoIhNRCR3m0cPmZk+bWnwChjOnutbm+nnKnmP5PgZmD4eBDK4qhaTHGIDBqmMrEQUNZbarFaCrB6ggumyiIbAtx7LtKYNU-bJNaY0N9CSnd9aUFGEnVRq6SmLnqj6WaXEVKW4jqWNGRoPGOW+XRoeV35infY2W+X2iAoGXHUO6-MZsALgn8XAtXIBiZWJLFIO4pTiTMd1IUMxjXIR6x7YIUnhzfhZiBl1XZzRwucBis9RGYGdm+HnArXWplraorWLJ9A7WBmbCD5+dRhvNXjXwfWHm-WD6Fmo43Rao0GyFMyOSkystZLksYUtwGAyAzl9WlhMQMYBipZbVRB2EcEi2KXszbr-67qrdn7RB5Aug35RBQAABSBpGhs+W1JYdhM6Wt+t6vOt1trEFVU+SwXhLoFaBBWhFVYySwDtt1+FYtt19VQQAABgpH7bCnmUBKsHTbOVvPITXaq3hlYSmQWinc4Ct1na4EWicBu2QnnbeIQSOivZvasFHfvbPkfeLefeHY-rLbOCk03eHcb1ff3beGsAzdYF3Y-q8C-lpQ8e3eNY6MLfkAwCXYADZKQYOaW4PwPd9P3QAAAWFd6D8lwQeDys3ACVxLWl8VnD24rPTVIAA","body":"function make_machine(register_names, ops, controller) {\n    const machine = make_new_machine();\n    for_each(register_name => \n               machine(\"allocate_register\")(register_name), \n             register_names);\n    machine(\"install_operations\")(ops);\n    machine(\"install_instruction_sequence\")\n           (assemble(controller, machine));\n    return machine;\n} "}]},{"tag":"SUBHEADING","id":"#h1","child":[{"body":"Registers","tag":"#text"}]},{"tag":"TEXT","id":"#p3","child":[{"body":"\n    We will represent a register as a\n    function\n    with local state, as in\n    chapter ","tag":"#text"},{"tag":"REF","body":"3","href":"/sicpjs/3"},{"body":".  The\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_register"},{"body":" creates a register that\n    holds a value that can be accessed or changed:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":2,"eval":true,"prependLength":463,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AcwFMKB9AJyYaoGcKn2ACgC2AQzIALKiSYAaUJwasSo4UwCUoAN65QehSyLt6YydKaCARMzaLe-dpfWDFy1RoDcuAL75i5ajpQCgBPAAcLaT52IkpaEk0tAwojegkmUQATQSiKGLi6dQ9QX0JSAvoAGxoaAGsiMNYw9iphQR4Q4QAjGkr5Ggj2UUCSHkTdfTI6PlAAN1FK0ABeUFEeHhoyds6evtABgWH4sa99ZNTQXlZSTKYCc2z5yvUJs7eAflABdhohDu7evJLKRaiQaAB3egHIYjUAAWjhq3WTG6lSYTleb30AC5QOksoIKKIqJVBE91EUfH5yrDqnUGqxKqIukxSUyWZUePJ2ay3GpxmcpqMKHMFsskRstjzKny5KBpSdMZwUsZLjxriRbvcZI8Fi8sR8vuwfkJpbKgTc7g95czWfDEWseCiumiMQazriiSSyXqvKV-BVQGJakwmi1hFRqLNQ0wAB6NO6CONheSmKQybm2zkC-RUAigHLqoV8UQkNjJpPxinaTGC6Yisji4tEsusZOsJ5ECzJynu5UXQSaJYAPlAZFO+m8X05TEu+cLjKzbfjlbC1Z07ubl2FPHFdPqjWlggVmY5y8PWdXFInWP7qsHy1HuR4N5K06dc4LVzsfAE56vOZYlu7DijYHBcPYAgiOI6Zyj+DjnuBDAAa+Zx3vQD4jowLCsEK-BljwLhFKAmJTqyH4bga3y-KuFokKCEL0MmnDrPEwThLOCISs6rq9pOVJlAEbHBqG0JHHQiGJsmqYweYp7kf0gziaMgFjvW+xhHuNQHmGrSCGJIyIQMV6KYcIyKnWwqrP4u4rGIYRJo+QaiCGukRlGMbxm2BBJjJZgZjaHJjLItbumFBnxEZSmaoRPZ8Xo6EFkOo6iGEYSVCErDSBqtzsBl0hKAAVqI8w8GQLRhBQgihWFWIDDJDn5lhPnqPIog2deAkBrCjpUAwJAuBBv7sOaoAbEYZAaDWaGGKqlT2FYvX9ZY8jwX+KhqPI43sJNlK+N1bFLSQSGyoIR1ZcK+QjKpiX4tkXqkuduRXfEnX7TSh2sf1HYLF2-5PZdsTXdoJEzSqaQZPdxKkg9Z1fcdz1A69b3UkJQQiaw52JrkfmwfJnKmTCxzyGEZCqVuRLsDYoE4WtQhpnJEp9cdrgbZEwqdZZMydp5mkrOdPP-rk8VqVZgv+MsNVqqwEUSRWgs9lLnwY7Lx3tomCvxrjjMnhpZnHPqBq4hjzStJGVDRpJPmaymzn+XKCoi4lmGjpRtX6E6bB4UwBGEqIVMsPI4ukIOIvu1k8zkKGpOCKTxFS5Ofqo4GEelpNTRbHH00ezh3u+6T8iw2BecUIRcfXiR-ofejLmhvwfDeTkwrawFuuq1yoAEEyDAk2T2d6FuQqZObQQrPXXt0MPIxN3wIt5l+6qq-+Q8jwkqlcw2k+r6wEt2bXMtKYZ6s+Qn7tnwPW8jC3cqn+f7tt4fBuofozvJf3d96J7uF0PhpeCF3oge6iynpFfwodn7n1TlHDOscybFFvmcbwr4yIznfmcaiQgcagEsF0LIwQmAzERoGLijoeLohFr4KuaN6Dj0ECvYGSRErzT4FYceK1gGr2IlQwM49v6alXoSAhbAiEMKVLNCGBJYa8JEcjeB3DYQYy6EMcgEhG5YIZq3LMHcAFAKzm7UWMxbgzBWEotOqijFVWFq+eeC4zQVgseuKWW5nxaXpBeDkx4tH40QkeBxYcX7iKSk5fRH8bHFx-j7P+OjHEf3dF-EuZcyDyGfP48+KCKIIPDpkSO6cY5xwgWfXwH8kGkXfLOEJ+gMEzwoECXBmRQCmJUduaISMggkORKichyCurV3oI0yQniOSJHOHNBaODlGSHYdKLhydYT9PMUIwQ8yLotIqDdQJd0-bemWTIwo8d5FsSuESBgzBMiMgWlMYQYQ6CRMLukVgxz1ng2lmEYkQhLnXJkGWTQAAyH5eJIZ0JoFcm53zlhLDHvc45SdBKBkUIINmwymFjMUOwxFxQDlBG-ENBCFYewg0SkcwBpzzksOktg1FMzYWwjpoheF+LGEbMBbDOKGLZlsWbKWKqPMkWBOYVVSwnKyzsJ5Wy6lhyiz1i5f+BlYjnlEpOUwM5-LaLYKFRQJwMKDpBHVYhHmV4CVMskdDFCJR2VBCPIiw1zyVWWGlGi9wVLtX0CuHYlcDKRkuvVMcklKryV2qzJqs14qLVLnbEeD1t1mUmtZcG51GkEWOutRcW1AwHX8jFfGq4S88VVnfoS9UryqBCHxX86WPqlWkqqpsnsQI017XNVCR+csvLGQGOeXlzzNmw02e2uKTrel6yJi2xoYkYr6QTHmxlzzYZ9qrJmwdGMGA0AeSu7Gzc7Z40CgpUAejMRbgsaBFdFAV0WOqXPecrqw0rj8WgyY6kXErH3AyI8us3XuNZIIPxBTX5OXiRE-OSTmmlwoWUz8C5aX2KETEg0wEuA01sDiqCGi4JIZGu2eF36pa-qwv+sskTEnyHCfh32ihOaTjAxUvQVSsE4Lwcu1dwGXptIdB0l0XTSI9OoYwY9NBBmsk7SmsZDGT1TKzAO7jInT2LKkysvIrSEggzlRcbtJrZO7LXnIxtu7jIljILUJ5Fw9O1CsNcsImqqTxrCEQHgEh2hEn00HX6U19GJWM6ZmzEgnA+kqF2BtIaTD7x4CVGMPl1GyQCsZ3u5N1KKAQ0hSC9MItymM3Jk6bNz1O0CS7O9YVrO2fs+IWoRHc4Ab-mR1J7ooG5MznA2+JT3rcYxixE9nA1EbpQ1tBzxXd1930XBhg8W6bQXtl1oraXWbuEy6+HDrtMmf1KyR8rXASa6e6+RyB2S07R1q-Hd2DXtPBejINBggnRksMsEd9Eq0uASbhUI34FgyPJvOwKlrj32FkYXdx1LuR0tTd+4DNZ+ajVQ29ID1Z11-PxpNgIAgvxhDtb4NffGHd27RfflucQsIViDHh+wRH2P4jnusZexeza1YriJ3s3LBiRTU+OrvZyrkc1eUTAzlH83Ync70A-fW0xKuzaUzz1YFQd4hz2zz6rO3YGS7ScgyjUsaMbro-UvHCOmMKftNxTpFnEFccDOrgnZ1gfTqExdo3wh2EM7u7CS3mMKixzhwjuTzHFOudB1s0k9uNMowC8zzyTAyBEEMs66pqOUegxF+fAundu5jccxpMYIOZ0cXPeClYlgjqWFvsrfeWMwsdeSxHpP0Xb6ejT8LDP2C2G54Dw8oRSOambp1l40vcfAFl-dhXiI6eIWZ-mTn92efXLLPXcjlvmigryB0V32qPf2az2r9YXjQ-aoj9DLJ8fzfOvboJr1w2YUF994hdgq7a+wob9YFdpvkeosH-L+xXvVf+8Uoe5wC-7or-vba9vu-3W58j8n9F8KAhxT9LB8tVExB2AQwRoT1r9utP8DQr9IDWBoDYDV0EDxtExd97845H9Qhn8OZl9OBox2A2BUt4D0CBAkCsRv8mAyCKDutMDqD0MfJcCACH9u9gCT9M9LdaDDRYd2B8dEc-9J8HY28BgO58DuDlcJ9gR6IwRIRNceEOJtdSFddodF195chqk+E8heg0QRpfcU8Lgi1MFhR9CfhKgjDXcFN5ASAiAbCG0s1LC8JrDbCNN08Pcu1AUrFLNB0-s4wg8Q9QEQ4q8fCLhYZ-DGtAwv4gjYwQjQ9wiN1-BVIv5ojUjSAtDuMGhMhhhQxnxqkO5dYUMYsrJSYhs0MRst0ICyA9d70rIdEqjuBhoajGZLAdEGiL4rJjNxQUMrBjNui6ck9+jksrB25hjEp8c2wYJqk-0cIEikiwiBouduccY1jYkMZgjg9kjqFqpo9Yk-t3DDC-wvDhYQpDiP5Sji9etLirjz5Z8xpOCpCKR7iecUktVtDXI7Eyx2AQh+MZQ2ZkkdxDNVRzDATRpPiDdYQ4w8hsdFwgogU-jTj2AbtJoLYXNlNVQrhHCbDkSDCbCBBD8v8DAMTjs8S9hKSSSjYvhYx4TKBETyIDjYlYYTiiT2BWpNjijUc34qMz4twZB6S2w0Q1AyxxRNl2SjDKt3YC0ECWgSBkIhTyxRTIkaTDjPhOBySQCuRNiRcISMZfi8gATlSRSURbk9SHj1jQT3irS75HZ1To9cQtSmBMTY43loJXJdDTTWRzTvlbS7Sz4UkAzAy3hHYCkwpvAciU42M0QCSPCBBr4wSmJ6ShhGSFR4zUSQzo8eS99k8sJ+Sri8iCi5NCJnwS8yiIzDjCUdwqzYkoyvimsgtusHx9E0QRQ+iVhKTXx2zO4hg1BxRuzMQrNPM0D-ZYDWypYCB+zZxccPT79pzHUf1AlLBMgblLBukzgrN21WDJy4lusJTAVFyM0pyZzxRYZjzPBsMVy1yZANzOMtzB1IDBBYxhkpZOzd0PTYwE8DN4E+wbz1zNz9BtyHJ15cwydlAnDSRjMYNaoqlLAURKoQhniittczNhjEFFcBT1IT0+YAUCQYK6yUL9NzyTVCKEFEpcKCkil+JHzuNpBzYFgqAAAvCwMCz+A8rsqC5c55VcwCh84CwdYeHgV5CgAZNQdYQBLE-855CS4LZgZfSAgQ0kyArnY2AheS2c8A9CrnT4MzQcNSoMDSqSxS0c1g5S5A3dMy8cqCR090dSyShS1-CAncmyxwXSnTRoXcuy2kuSky5yhi6gJi1iiyug7cRi+aVigyj+XEKpPy5gOiBiZQzgAARy7BmC4iGIoWxPoGEtEskEbMDBNmspgL-HgNSxwNuLwL6xyqCQLMtNQN3PIpF2lxgXyU2IOxh33lIIECYPGyoLcsbg4KKwx0iPvD5IatctKr+HWyIoNFaryTgSj2KUKrtxKowPKpbLOyqDGUasGs2qKyDViJpQYN6qwP0xYLctbM9XlBRVOvIPOtqEuumqOu0zMzHOmsK302TOIpMxcq8rcos2OrYj2s+pgtMNVHcwgPWpoOjNpG0gaEEBDBCELmZDRHKJmC1N+HqX5nWE2CRqYBRuCBNSJHYw2xuquEtG1CVUGimHYEyB8r0E+CpoeAIJNSxvppcMHUdHxuRvROxuTzGq9UgvxI5syDGDrxZp1EfyYDSoWAJqJs2U2TFrGApDr2VqDwFsZtAFxB5q2D5uJu9BVr93jWI1-kIjph+uG2sBYCBv9zw3NpO0Syc182koCWeWts9m81FRhOEn3hkHBDHPtj3MaJmEqL3lcmttJmGK3GaIjtDGtq6JFi3A-IxncxFl7IoHuQ02v1lq7CjkHO4sxEzvuSkL3AWltUCqoGCtDCGPkByyhqrprqcHJt7NpVJrRHLpYVtWjui25DGS6Jn27nJvjQWGqDIBLOGytX5JsUps1CtB1DhklETU2gMFaIQg7o0FgrCnbrRtnM-OLWPAWmBPrynsdS5NDINF3rJuoqwvdiqRPssGECcOoHSmQq1GtDpgwtoqvpXLplWBsM2AKMyHvP1zosDGfUaDPv5Fpy3CeHFD1pXtQ3XrKr3sF0CTno-sXvJA8ofvcESqUPoC-u1o9HwrB1JHJGyvAdhMSN2LYtgYfR3HiwSVlwKVnvVEpOKO3pkouD4rvNvvInKQQSWN2JWMEE2RSWcBlPdouB2JDzYuooEr0HjTyuGHEuMuYHYs7kHRLHIJDtqgdoI1gTuUKKB0MidDSp9l2iIsSjkf4EHEUZ4dVHiq0sz10Y1Q8vceirvgcs0uX1yDHrsLFwsfzsmlCsNAseCWCGzrMcihCasf3osbZRiqMsctcewTHqAf4AS2GnCbOE+EyYnuybpkMpceXzAi-o8sgZyYcFKY0fScsACZsIPn51GDyf0E+DLoLOidEjCFslWDSh9nulLr6cUhODNRSbKecqGM8e6zqbSeX0mI8qzt6Z4EMrivqYIcYgMEsYysRBQ2GJooSkCVUbEokFWr9tcgGNpTZjR1GdFkJOlMx3UhQzGNcgDqDtggceHN+FmIGRufcCci5wGKz0AaKYTrQ28wBf5HkEyWhYIRFhBaaZlEmOcFeNfCReFECZzviajjdFqiXrIUzI5KTKy1kuSwuaCC8bKIhsC2Dsu0pg1S5sk1pjQ30KMd33hZ+rNqMYqeqM5bZcRWZbiNZZQZGhYYFbFdGh5XfkMd9j5bFfaICi5Zdr8xmwAv4d9prkjuqOnuLpYAeYI3FEsAACpSAjolUTXQHBLuNTn1G0mtHEopnwCbB2mmbDWCJ5m-HpnbaPKeYomElxQeZkmfGjQTQRBNnsEQRCGdn0qRQuJmtIWqGZHVQ7XzmBItwGAyAzlXmlhMQMYBipZbVRB2EcFS2mXszbru67qrd67RB5Aug35RBQAABSBpC+s+W1JYdhM6Btpt6vRtjtrEFVU+SwXhLoFaBBWhFVYySwbt1qNeqwCdhd9VQQAABgpCHbCnmUBKsCzbOVvPIS3aq3hlYSmQWlnc4CtwXfhSzycBu2QjLc3crbOCOkWk+y4CXZbpff0DfbLYfbPbeIQSk13bHcb2XePbeGsGzdYEPZbq8C-lpRYf3c+Y6JLfkAwDXYADZKREO2XkOYPd9-3QAAAWDdhDxlwQFDys3ABVxLdl+Vwj24u9ooIAA","body":"function make_register(name) {\n    let contents = \"*unassigned*\";\n    function dispatch(message) {\n        return message === \"get\"\n               ? contents\n               : message === \"set\"\n               ? value => { contents = value; }\n               : error(message, \"unknown request -- make_register\");\n    }\n    return dispatch;\n} "},{"body":"\n\n    The following\n    functions\n    are used to access registers:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":3,"eval":true,"prependLength":468,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AcwFMKB9AJyYaoGcKn2ACgC2AQzIALKiSYAaUJwasSo4UwCUoAN65QehSyLt6YydKaCARMzaLe-dpfWDFy1RoDcuAL75i5ajpQCgBPAAcLaT52IkpaEk0tAwojegkmUQATQSiKGLi6dQ9QX0JSAvoAGxoaAGsiMNYw9iphQR4Q4QAjGkr5Ggj2UUCSHkTdfTI6PlAAN1FK0ABeUFEeHhoyds6evtABgWH4sa99ZNTQXlZSTKYCc2z5yvUJs7eAflABdhohDu7evJLKRaiQaAB3egHIYjUAAWjhq3WTG6lSYTleb30AC5QOksoIKKIqJVBE91EUfH5yrDqnUGqxKqIukxSUyWZUePJ2ay3GpxmcpqMKHMFsskRstjzKny5KBpSdMZwUsZLjxriRbvcZI8Fi8sR8vuwfkJpbKgTc7g95czWfDEWseCiumiMQazriiSSyXqvKV-BVQGJakwmi1hFRqLNQ0wAB6NO6CONheSmKQybm2zkC-RUAigHLqoV8UQkNjJpPxinaTGC6Yisji4tEsusZOsJ5ECzJynu5UXQSaJYAPlAZFO+m8X05TEu+cLjKzbfjlbC1Z07ubl2FPHFdPqjWlggVmY5y8PWdXFInWP7qsHy1HuR4N5K06dc4LVzsfAE56vOZYlu7DijYHBcPYAgiOI6Zyj+DjnuBDAAa+Zx3vQD4jowLCsEK-BljwLhFKAmJTqyH4bga3y-KuFokKCEL0MmnDrPEwThLOCISs6rq9pOVJlAEbHBqG0JHHQiGJsmqYweYp7kf0gziaMgFjvW+xhHuNQHmGrSCGJIyIQMV6KYcIyKnWwqrP4u4rGIYRJo+QaiCGukRlGMbxm2BBJjJZgZjaHJjLItbumFBnxEZSmaoRPZ8Xo6EFkOo6iGEYSVCErDSBqtzsBl0hKAAVqI8w8GQLRhBQgihWFWIDDJDn5lhPnqPIog2deAkBrCjpUAwJAuBBv7sOaoAbEYZAaDWaGGKqlT2FYvX9ZY8jwX+KhqPI43sJNlK+N1bFLSQSGyoIR1ZcK+QjKpiX4tkXqkuduRXfEnX7TSh2sf1HYLF2-5PZdsTXdoJEzSqaQZPdxKkg9Z1fcdz1A69b3UkJQQiaw52JrkfmwfJnKmTCxzyGEZCqVuRLsDYoE4WtQhpnJEp9cdrgbZEwqdZZMydp5mkrOdPP-rk8VqVZgv+MsNVqqwEUSRWgs9lLnwY7Lx3tomCvxrjjMnhpZnHPqBq4hjzStJGVDRpJPmaymzn+XKCoi4lmGjpRtX6E6bB4UwBGEqIVMsPI4ukIOIvu1k8zkKGpOCKTxFS5Ofqo4GEelpNTRbHH00ezh3u+6T8iw2BecUIRcfXiR-ofejLmhvwfDeTkwrawFuuq1yoAEEyDAk2T2d6FuQqZObQQrPXXt0MPIxN3wIt5l+6qq-+Q8jwkqlcw2k+r6wEt2bXMtKYZ6s+Qn7tnwPW8jC3cqn+f7tt4fBuofozvJf3d96J7uF0PhpeCF3oge6iynpFfwodn7n1TlHDOscybFFvmcbwr4yIznfmcaiQgcagEsF0LIwQmAzERoGLijoeLohFr4KuaN6Dj0ECvYGSRErzT4FYceK1gGr2IlQwM49v6alXoSAhbAiEMKVLNCGBJYa8JEcjeB3DYQYy6EMcgEhG5YIZq3LMHcAFAKzm7UWMxbgzBWEotOqijFVWFq+eeC4zQVgseuKWW5nxaXpBeDkx4tH40QkeBxYcX7iKSk5fRH8bHFx-j7P+OjHEf3dF-EuZcyDyGfP48+KCKIIPDpkSO6cY5xwgWfXwH8kGkXfLOEJ+gMEzwoECXBmRQCmJUduaISMggkORKichyCurV3oI0yQniOSJHOHNBaODlGSHYdKLhydYT9PMUIwQ8yLotIqDdQJd0-bemWTIwo8d5FsSuESBgzBMiMgWlMYQYQ6CRMLukVgxz1ng2lmEYkQhLnXJkGWTQAAyH5eJIZ0JoFcm53zlhLDHvc45SdBKBkUIINmwymFjMUOwxFxQDlBG-ENBCFYewg0SkcwBpzzksOktg1FMzYWwjpoheF+LGEbMBbDOKGLZlsWbKWKqPMkWBOYVVSwnKyzsJ5Wy6lhyiz1i5f+BlYjnlEpOUwM5-LaLYKFRQJwMKDpBHVYhHmV4CVMskdDFCJR2VBCPIiw1zyVWWGlGi9wVLtX0CuHYlcDKRkuvVMcklKryV2qzJqs14qLVLnbEeD1t1mUmtZcG51GkEWOutRcW1AwHX8jFfGq4S88VVnfoS9UryqBCHxX86WPqlWkqqpsnsQI017XNVCR+csvLGQGOeXlzzNmw02e2uKTrel6yJi2xoYkYr6QTHmxlzzYZ9qrJmwdGMGA0AeSu7Gzc7Z40CgpUAejMRbgsaBFdFAV0WOqXPecrqw0rj8WgyY6kXErH3AyI8us3XuNZIIPxBTX5OXiRE-OSTmmlwoWUz8C5aX2KETEg0wEuA01sDiqCGi4JIZGu2eF36pa-qwv+sskTEnyHCfh32ihOaTjAxUvQVSsE4Lwcu1dwGXptIdB0l0XTSI9OoYwY9NBBmsk7SmsZDGT1TKzAO7jInT2LKkysvIrSEggzlRcbtJrZO7LXnIxtu7jIljILUJ5Fw9O1CsNcsImqqTxrCEQHgEh2hEn00HX6U19GJWM6ZmzEgnA+kqF2BtIaTD7x4CVGMPl1GyQCsZ3u5N1KKAQ0hSC9MItymM3Jk6bNz1O0CS7O9YVrO2fs+IWoRHc4Ab-mR1J7ooG5MznA2+JT3rcYxixE9nA1EbpQ1tBzxXd1930XBhg8W6bQXtl1oraXWbuEy6+HDrtMmf1KyR8rXASa6e6+RyB2S07R1q-Hd2DXtPBejINBggnRksMsEd9Eq0uASbhUI34FgyPJvOwKlrj32FkYXdx1LuR0tTd+4DNZ+ajVQ29ID1Z11-PxpNgIAgvxhDtb4NffGHd27RfflucQsIViDHh+wRH2P4jnusZexeza1YriJ3s3LBiRTU+OrvZyrkc1eUTAzlH83Ync70A-fW0xKuzaUzz1YFQd4hz2zz6rO3YGS7ScgyjUsaMbro-UvHCOmMKftNxTpFnEFccDOrgnZ1gfTqExdo3wh2EM7u7CS3mMKixzhwjuTzHFOudB1s0k9uNMowC8zzyTAyBEEMs66pqOUegxF+fAundu5jccxpMYIOZ0cXPeClYlgjqWFvsrfeWMwsdeSxHpP0Xb6ejT8LDP2C2G54Dw8oRSOambp1l40vcfAFl-dhXiI6eIWZ-mTn92efXLLPXcjlvmigryB0V32qPf2az2r9YXjQ-aoj9DLJ8fzfOvboJr1w2YUF994hdgq7a+wob9YFdpvkeosH-L+xXvVf+8Uoe5wC-7or-vba9vu-3W58j8n9F8KAhxT9LB8tVExB2AQwRoT1r9utP8DQr9IDWBoDYDV0EDxtExd97845H9Qhn8OZl9OBox2A2BUt4D0CBAkCsRv8mAyCKDutMDqD0MfJcCACH9u9gCT9M9LdaDDRYd2B8dEc-9J8HY28BgO58DuDlcJ9gR6IwRIRNceEOJtdSFddodF195chqk+E8heg0QRpfcU8Lgi1MFhR9CfhKgjDXcFN5ASAiAbCG0s1LC8JrDbCNN08Pcu1AUrFLNB0-s4wg8Q9QEQ4q8fCLhYZ-DGtAwv4gjYwQjQ9wiN1-BVIv5ojUjSAtDuMGhMhhhQxnxqkO5dYUMYsrJSYhs0MRst0ICyA9d70rIdEqjuBhoajGZLAdEGiL4rJjNxQUMrBjNui6ck9+jksrB25hjEp8c2wYJqk-0cIEikiwiBouduccY1jYkMZgjg9kjqFqpo9Yk-t3DDC-wvDhYQpDiP5Sji9etLirjz5Z8xpOCpCKR7iecUktVtDXI7Eyx2AQh+MZQ2ZkkdxDNVRzDATRpPiDdYQ4w8hsdFwgogU-jTj2AbtJoLYXNlNVQrhHCbDkSDCbCBBD8v8DAMTjs8S9hKSSSjYvhYx4TKBETyIDjYlYYTiiT2BWpNjijUc34qMz4twZB6S2w0Q1AyxxRNl2SjDKt3YC0ECWgSBkIhTyxRTIkaTDjPhOBySQCuRNiRcISMZfi8gATlSRSURbk9SHj1jQT3irS75HZ1To9cQtSmBMTY43loJXJdDTTWRzTvlbS7Sz4UkAzAy3hHYCkwpvAciU42M0QCSPCBBr4wSmJ6ShhGSFR4zUSQzo8eS99k8sJ+Sri8iCi5NCJnwS8yiIzDjCUdwqzYkoyvimsgtusHx9E0QRQ+iVhKTXx2zO4hg1BxRuzMQrNPM0D-ZYDWypYCB+zZxccPT79pzHUf1AlLBMgblLBukzgrN21WDJy4lusJTAVFyM0pyZzxRYZjzPBsMVy1yZANzOMtzB1IDBBYxhkpZOzd0PTYwE8DN4E+wbz1zNz9BtyHJ15cwydlAnDSRjMYNaoqlLAURKoQhniittczNhjEFFcBT1IT0+YAUCQYK6yUL9NzyTVCKEFEpcKCkil+JHzuNpBzYFgqAAAvCwMCz+A8rsqC5c55VcwCh84CwdYeHgV5CgAZNQdYQBLE-855CS4LZgZfSAgQ0kyArnY2AheS2c8A9CrnT4MzQcNSoMDSqSxS0c1g5S5A3dMy8cqCR090dSyShS1-CAncmyxwXSnTRoXcuy2kuSky5yhi6gJi1iiyug7cRi+aVigyj+XEKpPy5gOiBiZQzgAARy7BmC4iGIoWxPoGEtEskEbMDBNmspgL-HgNSxwNuLwL6xyqCQLMtNQN3PIpF2lxgXyU2IOxh33lIIECYPGyoLcsbg4KKwx0iPvD5IatctKr+HWyIoNFaryTgSj2KUKrtxKowPKpbLOyqDGUasGs2qKyDViJpQYN6qwP0xYLctbM9XlBRVOvIPOtqEuumqOu0zMzHOmsK302TOIpMxcq8rcos2OrYj2s+pgtMNVHcwgPWpoOjIUW6uqKtTbJYFFl-lsmwQACpSAjolUMb7y6LAw8rhhxLjLmB2Kbr4qtLM8bBQrDQElDLKbl9PZaazhPgeZglUaCNxQeY2UYqjQTQRBSa5QFCkr6BUr0qRQuJms0NhiaKEpAkiaxKJBVq2Jn0HIQwQhC5mQ0RyiZgtTfh6l+Z1hNhBANatbvQiR2MNsbqrhLRtQlVBoph2BMgfK9BPg7aHgCCTV9bnaXDB1HQTazaySDbk8xqvVIL8SfbMgxg68PadRH8mA0qFhTamBNb8LshNko6xgKQ69M6g8Q7XbQBcQA6tgg7YYs6-curXIZBwQxz7Y9zGiZhKi95XJhs6jhitxmiW7Qw26uiRYtwPyMZ3MRZeyKB7kNNr9E6uwo5BzuLMRR77kpC9wFpbVAqqBgrQwhj5Acsoa16N6nBrbezaVLa0Rl6WFbVSZ2E45uQxkuiZ9u5rb40FhqgyASzhskapYbFbbNQrQdQ4ZJRE1NoDBWiEIT6NBYKwpj7tbZzPzi1jwFpgT6937HUuTQyDQoGrbqKsL3YqlEHLBhAnDqB0pkKtRrQ6YMLaL0GVy6ZVgbDNgCjMh8bKG9B401aEs2iP7Nx1InhxQS7AHUMQGyroHBdAlv7SG-7yQPLcH3BEqlCxaZbC6PR06vcfNra5bO5B0diQ82LadnEdx4sElZcCkv71RKTiiIGZKLg+K7ysHyJykEEljdiVjBBNkUlnAZSAlnktH+BBxqKBKWGhLeB8q7NKbyb40SxyCG7ao8M0bYE7lCigdDInQ0qfZdoiLEpvG2K-HLHVRGbnKImNUPKCnoq74HLNLl9chn67Cxdknp7JoWb9BPhkmOax6EnIdIpanUmYHknebSmjLHKqbsFn76H+B2GHAGm3baGX6360MGahbl8wJyGPK2G6Y5mBmKnhQqnJiPKl6CzghF6wh0bUoIhNRCQDm0dDmZk+a8nwChiinus1nynnLtmP5PhWmD4eBDK4qhbZHGIDAUmMrEQUNZbarFaCqYThJ94BjaU2YLmO4pTiTMd1IUMxjq6mBa6BiRYZiMgBkYX3AnIucBis86HX7RnyHnA8X+R5BMlKWCERYiXKmbCD5+dRhvNXjXwGXNmmWJ7Omo43Rap-6yFMyOSkystZLksVaghimyiIbAt67LtKYNU-bJNaY0N9CCN2iApaWfriNYnFnqjd9tXlW4jVXBGRpDHDW1XEGeV34YmNX9WzXNWBHEtZRWpRRfMrywYrHbz0RJX6BdWNW6Yfq26abjXYQ7XSM0MnMPXg3qjLsWBvNRUBItwGAyAzkUWlhMQMYBipZbVRB2EcEC2lXszbrz67qrdt7RB5Aug35RBQAABSBpVBs+W1JYdhM6at2t6vGt5trEFVU+SwXhLoFaBBWhFVYySwNtt1+FQtt19VQQAABgpF7bCnmUBKsFTbOR9YPpLbOCOlYSmQWgnc4Ct2na4EWicBu2QlnbeIQX3az0+3PZvd3f0HveHavYPdvbPik3XcHcb2Ha-bCmsDTdYG3c6i-lpUMc3brtqPzfkAwAXYADZKQIO1WoOQPd9C35AAAWJdrwYp6Dys3AB1l19D9N24h9ooIAA","body":"function get_contents(register) {\n    return register(\"get\");\n}\nfunction set_contents(register, value) {\n    return register(\"set\")(value);\n} "}]},{"tag":"SUBHEADING","id":"#h2","child":[{"body":"The stack","tag":"#text"}]},{"tag":"TEXT","id":"#p4","child":[{"body":"\n    We can also represent a stack as a\n    function\n    with local state.  The\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_stack"},{"body":"\n    creates a stack whose local state consists\n    of a list of the items on the stack.  A stack accepts requests to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"push"},{"body":" an item onto the stack, to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pop"},{"body":" the top item off the stack\n    and return it, and to\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"initialize"},{"body":" the stack to empty.\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":4,"eval":true,"prependLength":0,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0BnCpslgBQBKUAG9coSaAA2bCqB58WoALygSRadIDcEqcXLU6oAA5EuACwEAPEaNB6pUxf1WmmVAE42ANAt78QtoOTk6eckSe9ABEACZ0bNG6TgC+jqAGlLT0JjQmwmLpTlQEoAJUXBwaWgIuLEJ2RaGSbJ6eNN7RbAwmFACe-kqgALTDpnnRQU2SKaBs0lxshc3NZHQ8oBR5bhZsTLG1AfXJK051brxU0odKU6dhEVGbeSfNaanpmUb0VCRU1ExpFQAF5sAriU7nNTVHTTUDhCiRGLxEiJV6gd76UhZYyxComJgUMhWBhsLhcJgAczYjVOCKRjDJFOpqhUamiZks0ThKwA-KZzBYec0AFyM8lUpZs9m5Ezc+7Nfmy4TC0Ji0kSlnS0DRX7-KiAkGJVVOfl6gFA0EqhVquZtDoCDXMth+aKkFgkGgAd3o4QAjkQyfJRoN+JN0ZjJPSnniuASiRZdCkgA","body":"function make_stack() {\n    let stack = null;\n    function push(x) { \n        stack = pair(x, stack); \n        return \"done\";\n    }\n    function pop() {\n        if (is_null(stack)) {\n            error(\"empty stack -- pop\");\n        } else {\n            const top = head(stack);\n            stack = tail(stack);\n            return top;\n        }\n    }\n    function initialize() {\n        stack = null;\n        return \"done\";\n    }\n    function dispatch(message) {\n        return message === \"push\"\n               ? push\n               : message === \"pop\"\n               ? pop()\n               : message === \"initialize\"\n               ? initialize()\n               : error(message, \"unknown request -- stack\");\n    }\n    return dispatch;\n} "},{"body":"\n\n    The following\n    functions\n    are used to access stacks:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":5,"eval":true,"prependLength":468,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AcwFMKB9AJyYaoGcKn2ACgC2AQzIALKiSYAaUJwasSo4UwCUoAN65QehSyLt6YydKaCARMzaLe-dpfWDFy1RoDcuAL75i5ajpQCgBPAAcLaT52IkpaEk0tAwojegkmUQATQSiKGLi6dQ9QX0JSAvoAGxoaAGsiMNYw9iphQR4Q4QAjGkr5Ggj2UUCSHkTdfTI6PlAAN1FK0ABeUFEeHhoyds6evtABgWH4sa99ZNTQXlZSTKYCc2z5yvUJs7eAflABdhohDu7evJLKRaiQaAB3egHIYjUAAWjhq3WTG6lSYTleb30AC5QOksoIKKIqJVBE91EUfH5yrDqnUGqxKqIukxSUyWZUePJ2ay3GpxmcpqMKHMFsskRstjzKny5KBpSdMZwUsZLjxriRbvcZI8Fi8sR8vuwfkJpbKgTc7g95czWfDEWseCiumiMQazriiSSyXqvKV-BVQGJakwmi1hFRqLNQ0wAB6NO6CONheSmKQybm2zkC-RUAigHLqoV8UQkNjJpPxinaTGC6Yisji4tEsusZOsJ5ECzJynu5UXQSaJYAPlAZFO+m8X05TEu+cLjKzbfjlbC1Z07ubl2FPHFdPqjWlggVmY5y8PWdXFInWP7qsHy1HuR4N5K06dc4LVzsfAE56vOZYlu7DijYHBcPYAgiOI6Zyj+DjnuBDAAa+Zx3vQD4jowLCsEK-BljwLhFKAmJTqyH4bga3y-KuFokKCEL0MmnDrPEwThLOCISs6rq9pOVJlAEbHBqG0JHHQiGJsmqYweYp7kf0gziaMgFjvW+xhHuNQHmGrSCGJIyIQMV6KYcIyKnWwqrP4u4rGIYRJo+QaiCGukRlGMbxm2BBJjJZgZjaHJjLItbumFBnxEZSmaoRPZ8Xo6EFkOo6iGEYSVCErDSBqtzsBl0hKAAVqI8w8GQLRhBQgihWFWIDDJDn5lhPnqPIog2deAkBrCjpUAwJAuBBv7sOaoAbEYZAaDWaGGKqlT2FYvX9ZY8jwX+KhqPI43sJNlK+N1bFLSQSGyoIR1ZcK+QjKpiX4tkXqkuduRXfEnX7TSh2sf1HYLF2-5PZdsTXdoJEzSqaQZPdxKkg9Z1fcdz1A69b3UkJQQiaw52JrkfmwfJnKmTCxzyGEZCqVuRLsDYoE4WtQhpnJEp9cdrgbZEwqdZZMydp5mkrOdPP-rk8VqVZgv+MsNVqqwEUSRWgs9lLnwY7Lx3tomCvxrjjMnhpZnHPqBq4hjzStJGVDRpJPmaymzn+XKCoi4lmGjpRtX6E6bB4UwBGEqIVMsPI4ukIOIvu1k8zkKGpOCKTxFS5Ofqo4GEelpNTRbHH00ezh3u+6T8iw2BecUIRcfXiR-ofejLmhvwfDeTkwrawFuuq1yoAEEyDAk2T2d6FuQqZObQQrPXXt0MPIxN3wIt5l+6qq-+Q8jwkqlcw2k+r6wEt2bXMtKYZ6s+Qn7tnwPW8jC3cqn+f7tt4fBuofozvJf3d96J7uF0PhpeCF3oge6iynpFfwodn7n1TlHDOscybFFvmcbwr4yIznfmcaiQgcagEsF0LIwQmAzERoGLijoeLohFr4KuaN6Dj0ECvYGSRErzT4FYceK1gGr2IlQwM49v6alXoSAhbAiEMKVLNCGBJYa8JEcjeB3DYQYy6EMcgEhG5YIZq3LMHcAFAKzm7UWMxbgzBWEotOqijFVWFq+eeC4zQVgseuKWW5nxaXpBeDkx4tH40QkeBxYcX7iKSk5fRH8bHFx-j7P+OjHEf3dF-EuZcyDyGfP48+KCKIIPDpkSO6cY5xwgWfXwH8kGkXfLOEJ+gMEzwoECXBmRQCmJUduaISMggkORKichyCurV3oI0yQniOSJHOHNBaODlGSHYdKLhydYT9PMUIwQ8yLotIqDdQJd0-bemWTIwo8d5FsSuESBgzBMiMgWlMYQYQ6CRMLukVgxz1ng2lmEYkQhLnXJkGWTQAAyH5eJIZ0JoFcm53zlhLDHvc45SdBKBkUIINmwymFjMUOwxFxQDlBG-ENBCFYewg0SkcwBpzzksOktg1FMzYWwjpoheF+LGEbMBbDOKGLZlsWbKWKqPMkWBOYVVSwnKyzsJ5Wy6lhyiz1i5f+BlYjnlEpOUwM5-LaLYKFRQJwMKDpBHVYhHmV4CVMskdDFCJR2VBCPIiw1zyVWWGlGi9wVLtX0CuHYlcDKRkuvVMcklKryV2qzJqs14qLVLnbEeD1t1mUmtZcG51GkEWOutRcW1AwHX8jFfGq4S88VVnfoS9UryqBCHxX86WPqlWkqqpsnsQI017XNVCR+csvLGQGOeXlzzNmw02e2uKTrel6yJi2xoYkYr6QTHmxlzzYZ9qrJmwdGMGA0AeSu7Gzc7Z40CgpUAejMRbgsaBFdFAV0WOqXPecrqw0rj8WgyY6kXErH3AyI8us3XuNZIIPxBTX5OXiRE-OSTmmlwoWUz8C5aX2KETEg0wEuA01sDiqCGi4JIZGu2eF36pa-qwv+sskTEnyHCfh32ihOaTjAxUvQVSsE4Lwcu1dwGXptIdB0l0XTSI9OoYwY9NBBmsk7SmsZDGT1TKzAO7jInT2LKkysvIrSEggzlRcbtJrZO7LXnIxtzlXI8BKjGHy6jZIBRLGQWovdybqUUAhpCkF6bGblKZ2ocmTps3PU7QJLs71hTCEQHgEh2hEjM0R3OAG-5kdSe6KBuTM5wNviU963GMYsRPZwNRG6UNbSC+Z3dfd9FwYYDZum0F7ZZfEM53Irn3DudfDh12mTP6hZI+FrgJNjJOfI5A7Jado6xfju7BL2m9PRkGgwQToyWGWGG+iVaXAJNwqEb8CwZHk0TYFSlpb7CyMLu405lzrNqt7Y008lT0bvRHcBmshtIaTD70GAQX4wh0t8GvvjDu7cLPvy3OIWEKx7uPcxhUc91jL2L2bWrFcP3kbeYMSKKHEld46dEuDq2Z0KivYa7ErHegH762mJFurSnserAqDvEO-XsfRd67AinaTkGUaljRjddH6n-fYMIJjCn7TcU6ZqzjmL6Bs7aPDxT06hOTaF+wkX83YRC8B9POXx381Gqht6RXl3rrXfjRjOMTAyBEEMs66pb3Xug2J+fAundu5leCxpMYyuZ0cXPeClYlgjqWFvsrfeWNDMZYcybu3Fnb6eid8LF32C2Ge6Rw8oRz2ambp1l4wPVvAFB-diHiIzuIWu-mR792XvXLLPXS9hPmigryB0Wn2qGf2az3D9YXjefaoF9DLJ4v8fMvboJrlw2YUa9Z4hdg6bTewot9YNNuPpunNV77+xTPYfs8UsW5wEf7ox8bbS+3qf2WZ-un7wvwflhfP+dYGIdgIYRonvH9l1fBox-H9UWfi-q7r-lcbp36fPfg9z9rxQIch-OBox2A2A9sr8n8BBb8sR18mAgCQDssX9wD0MfIP8d8v908f8B9XdJco8TYBAHt2dJ9S8HYk8BgO445v8mcS9gR6IwRIROceEOJudSFectdF195chqk+E8heg0QRold9FEoi1MFhQuCfhKheC5NmMSB5ASAiBxCG0s0RC8IxCJCNNncBCVdgcqRFCG5dd9dDcQ4w8NCZ0TUrFtDB0v5Ks9CDdQFDCN1-BVIv5YYsEHCtVB0GhMhhhQxnxqkO5dYUNLMrJSYis0MSst0j8yA+cN4U9CsVgwJitO9LAdEoj70rInNxQUMrAnMUiL4rJSCMiHMrB24cjPVO5fg2wYJqk-0cIrDYw9cbCEcQ5McsccZmjYkdc6j9DbDqFqpzdYlKtlCeC-w1DhYQo+iP5-D-dcsxjxjz5K8xpUDSCKQZjscUk3Ckt947Eyx2AQh+MZQ2ZkkdwTtVQhC9jRo1iuNAw4w8gftFwgogVtihj2BZtJoLYppjCLgrhZDxCHjuDxCBBe818DBXiRtvi9gwTASjYvhYwbjKA7jyJejYlYZBj-j2BWo2jfC3s34qMz4twZAYS2w0Q1AyxxRNkUTeDIt3YC1r8WgSBkJ8TywiTIlIS+jPhOAQTf8uQ2jidTiMYti8hdiGTCSURbluTZiWijiVjxS75HYWTzdcR2SmA3jY43loJXIOChTWQRTvkpTpSz4UldS9S3hHYCkwpvBWDuNmD2NfiVCBBr5jimIYShg4SFQbSnjDTzdMSu97csIcTxiPCvC5NCJnwA8AjTS+jCUdxwzYlzT1jAwMYnMHx9E0QRR0iVgwTXwUzO4hg1BxQMzMR40H9T9-YL8kypYCAczZw-tVTP8KzHUf1AlLBMgblLBukzhCz21ECyy4lstSTAU6yM1yzKzxRYYBzPBsNGzmyZBWzON2zB0H9BBYxhkpY0zd1VTYwbdahac3hEomyWy2z9AOyHJ15cxQdlA5DSQOsTysQqlLAURKoQgFjytudrkwgSjEEGdcT1IT0+YAUCQOtoynyzMRyTUAKEFEofyCkil+I5zuNpBzYFgqAAAvCwa8oC2oPMi8hs55Pc6cg8vQeNYeHgV5CgAZNQdYQBd4ic55civTZgevB-SA0fXdPzCQTHY2AhOiqsw-V8pioE18wcdioMTiyihi1i4s8-CAzHT4IsrsuUvfYSii+ixfI-TsksqSj+GStSySoQeSqE2i0SlS+C6gRClCviu-bcBC+aFCwSj+XEKpAy5gOiBiOgzgAARy7BmC4myIoWU1VCIpIskDjIUTu3EsQJfz20TBQPK0+w+PvGxLFNkvUr+Gy0pNqipxgXyTaMG2133kAIEDgLfzAOSvfymM-z3TBgHASp5O0tLLAuJwyryTgTN2KWCrYiSp0oiuyyTNKNtQ6ufyvx8rZXjXyuANfzMwQOSp6uRUm1GsKomuKp0qDQF13Vqqgg6wdwuETNUsaEQL50S0DH6vWtSs2tVG2qOscAtPjLytCKtWTJYFFl-lsmwQACpSAjolUXqZzYLAwArhgyKRLmA0LEpHLuLXcbBzKoDHqCMhLQb69PZIbDQeZgloaCJxQeY2U7KjQTQRBAa5RqCXL6B3LPKRQuJks0MSjoKEpAk-rSKJA2qLVtIGhBAQwQhC5mQ0RAiZh2Tfh6l+Z1hNgWamA2bggTUiR2NOtSirhLRtQlVBoph2BMg9K9BPgZaHhv9YYebFaFDB1HRBbWaXjeb7c4qvVzyfitbMgxgo81adQKCPKFghaRbNlNkLaxgKQo8Xa9cjblbQBcQ9atgDbRbvRXaUYbtsIJ5mtCI6YHSDBuBhorAIadbdsmsnrRs7Mg5foqLKrVRispsWAnAfRKguwrqQrXIZBwRiz7ZuzUiZhgi95XJc7SYSitwdECiG7Qikju5m71JVyEzuqRYsyKB7kNNx8mAPKfZJpMLxDMyHqh7kdnqVVbVjKqBTLQxsj5AvNtrl7V6nBJaszaVxa0Q9wFo+rIiLNuQxlkiK9u5Jb40FhqgyBAzis7qpYbFpbNQrQdQ4ZJRE1NpY67MHkOaNAYNaoD6gHxRTiVUDjo9n7HV0SjSDQwGJaoLPz3YqloHLBhA5DqB0pHytRrQ6Z3yYLEHGy6ZVhxDNgvDMhvriGCLB1n1GhYH+QYctwnhxR-bf7UM46EJD7xy+xAl378Gv7yRpLsaaIMGQRaCiaKafaPQ-zVdSRyRfKfrYRrD+Bq6gIH0dwbMEkacCk371QwTfCQGwpdypz0QUHyJykEFaj6iDCBpNkUlnA0rqbnk1HUKoLZzDzB1aaAalKs6DR40SxgCNGwo8NU7Lc57JCFNR7x6o4XHSj3HBxPH+GaK8b4bKYNVRHgmqpZGcRFKuL69ch77onScnQ4nJpEazhPhymUaomR7ymuwo5xRynMa74OL-H6977KH+BbNhoqn9BPhunH7em6ZYb0mVL4iKbRGGG+mHBxnOmjLhQSnijRH8jfTgh7l1nVg0ofZ7otmwh3tDmZksa4aVLsjsnssFnCmVLVnNLNn56hKHK8bnKpGDBx6vLEQUNKa-L6BfH6bLjS7QxMjaU2YjmO5ySASvt1IUM27Qxy7K7YJkmCzyiMgBlQX3AnJMdMi3cKGRnQxCHnAMX+R5BMliWCERYcXinxCD48dRgC6ljXwqXlmaWGmx6mnKmfbv6yE3TUT7SPMaKHMGb6AcmwjzAY6cWcn9qw6pnuG-xdHO9yWY7iNU7ZW7MxWAolWk7Awv5aUFWpjyWM6i6AnGsI7VXaZQjFW0NZRWpRRjWBWLhcKLHAX2r2sTqTb0KrBeLtXZdWLAsYq7Xi7TqRXuqj9WKC7RUBItwGAyAzlYWlhMQMZMipZbVRB2EcF02NV4GDRF6UUUR2Ezp5Aug35RBQAABSBpbN++MZJYAt0QItkt8PYtqt40haU+SwXhLoFaBBWhFVYySwWt21+FDN219VQQAABgpBbfdHmT2ITtjdYHMd3o9LeCOlYSmQWn7c4GECcFm2Qjd13djqsC7anZXbODXYPb3ePeXYQQva7avY7ZvbPikznY7djxPenbeGsAXaXc6l1etd0ZjbjamMvdAAwHHYADZKR-25WRpAOF3Ej73QAAAWSdrwUVoDxF8VrwNV4aLggjQQTDxItNooIAA","body":"function pop(stack) {\n    return stack(\"pop\");\n}\nfunction push(stack, value) {\n    return stack(\"push\")(value);\n} "}]},{"tag":"SUBHEADING","id":"#h3","child":[{"body":"The basic machine","tag":"#text"}]},{"tag":"TEXT","id":"#p5","child":[{"body":"\n    The\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_new_machine"},{"body":"function,\n    shown in figure ","tag":"#text"},{"tag":"REF","body":"5.13","href":"/sicpjs/5.2.1#fig-5.13"},{"body":", constructs an\n    object whose local state consists of a stack, an initially empty instruction\n    sequence, a list of operations that initially contains an operation to \n    \n    initialize the stack, and a \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"register table","tag":"#text"}]},{"body":" that initially contains two\n    registers, named\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flag"},{"body":" and\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":"\n    (for \"","tag":"#text"},{"body":"program counter","tag":"#text"},{"body":"\"). The internal\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"allocate_register"},{"body":"\n    adds new entries to the register table, and the internal\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"lookup_register"},{"body":"\n    looks up registers in the table.\n  ","tag":"#text"}]},{"tag":"FIGURE","snippet":{"tag":"SNIPPET","latex":false,"id":6,"eval":true,"prependLength":420,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AWwEMBrAUwH0BnCpslgBQBKUAG9coSaAA2bCqB58WoALygSRadIDcEqbPkEATkwZtV6zTr2Ti5anVAAHIlwAWHZkfZHhYm1K2JmYWTkxUvor8ADSgxqZsQrqBgUZyREb0AEQAJnRsWclSAL4BdpS09E40Tp5M3my+IuIpUlHKam5sTDkC8WZJAYH95mq8VNJ9wYlFrWkUGdl5JAWzoKXDpBWOLu4CAB7NoENtvPyh4b77se1Jx62S84ugufmFARtS5Q5VNX4tDyoBFAAioXA4Gi0AluzROrUaRhoviybAYTgoAE8FGdlABaXHOGpZQYPdagNjSLjmAGkyRkOg8UAUGoWLo9aE4km0yTtCzjSa3Nakp6ZJk1IUlD5lLY-UBUEhUahMaRUABebH+cOxSgskOswvSoteK3egU+thllVAOTBYQoZDcAjMXC4TAA5ol-AaFqLna6PaoVGosrs3FktQ8APzOVxuCOtABcjDYLvdoyDL2qTnD3JS0azwnjKSTfrTgeDobqDSMOdzUnzsarPkLdakJZT-vTFZqTcatdb+Z7XmbQiLgXbqYDQeD8sVVGVaoKY-rcoVSpV6pbrdASYRSKdHbTsSypBYJBoAHd6GkAI5EFPyfHa-jEtbm0Ai+g2rh2h26UqEJajjMOwHCVsOjQcMy3A4hwbAEE6fBuPKbA3DisROGQsKpIa9B+CoAB8XrboE4H1M2grLq0PQAG5MOQnCYQImFciRxT-oB9hWiBnBpDRjQUDBShQTQvZGHBCHMA6KFoUoGFYcRjy4SCIiEYpJGErUEGRJyEqtrR9FkIxZDMVh2j3Bp7G4AB3xWmR1YiUJ-D-B+ykqjwAgho22mOe0r7rJx2zXmw-FGIJ7SOdpLmfjIYIUJ5fECU5LCReRfZ3DZQG-FpaU6Uo2FSDF7SeVmYmvtZgWyvZFGcupRU4iV3m5eVmVccBrC8WwbpxY0AgkAkBWSAYoD0iQFBsGNXAWFkABUpBMC6VBuisOQzaaXxZdatpMPajqlh6g0pDF+1di8HoUP2dbRqN42TVRO7JpOp1ZFSF33dGdHSPeqhEaII10LdFBTWon33uZ765ruRiIr4J3Hqe55Xq5d4PqAT48RwaTdTw6VvgEMXfr+bgcZVVrSDQNAsEQTgCOwGKxLwABGsiHaNjJpPSRg5BYC1cDQJl0wz4STEzLOsa5Pr0GCHCkDk8Eob0HNIjko65tGsvyytRZJvyAhK1zgylLZji8-ztNsPTrmczkXCHTF0t6nrbDW7bRbqyQcsEAr2vkneyrm5bbK9EHTsu0I4du6AIf6zbqvckmpsCxbQsTKHyu24b+DG-Q50cDdE1A072PjUYdvKVjPXIudLWk44r15wDBdcEXlexKDno0hLzwVzjyKvcSAjt5ntf0Bj8oeePgk3YiWiQZPRhEEFZeS84lygiQPAN2NM+yOJ8+Lz8sR6pn2erpv080LPe8bxQC9BevPDL88IeTyfm2T3B+zO0QPwcHYD8UCfqKXWr8OKn3rh-NgX8yA-0qH-UgADYh2EOvXEBN8kGkGHqfXOPcS6IWkisWIWMIQDTqspKSyEVieRwV1SuA9iH9QGCTU+mInAan3kvMQXdRQvxvnfH4GUs6bXJpTamYEjBUAYNCDEDBGaX1iDURoO1Ki23UmzeQn0eYujNlwGRcjpAKLYSYH4ts1j23BBrL2K1B7KjjrSaMe5Ih6PkS8BGl56CKOMVaJ8vNUTMwKHY0kSYQ660+uHZhwiKZU1qNIJgjMKQCFifEyksQkkUhIQMNRDINHKi0XzEyaTpAZNQjIOJFJTH42UtLSxCsbHSECVGck0N9yFOKfDD2ms2Dc0KWjAkvjZGyGJD7UJtiIltVHh1cRki5z8U-rUeCAgoFOFiBQmSpTkmqM7kCEE0t1H0UEksxZ+wnDh3UoEdRI0LB7LGnMjg7cjknL0twvCqkiJkDfOSSk5htmgnBK0w5SzTmd3Odks+QMLAiOiRwQpiSykpPWekpZ0K4UPPCVqGK+EiKTy4B88p3zgS-MxrQ3uczUWHRBTfD8FgaHF16qswhrlaXiSRVjMlTyMWvNALnfOk09Z3A+J8qkZypCOIee0s87jyTHLSItRwrDzA+JdH4wZ4tSitSCowSZnjlF0FuQspZKykJrMKVwQxSiTGs1BSyNQkKxFOAkVI7Vv8kV-EBWarxDJxYXKYHYYGmqaajCIhje10zqCzKRfqw1BCSkmqENEe6DwnVwJdUY+iNs2WVJXpi0ATAnBOGkBiDg8oZYdKMAW+UboOAACsmB0S4GQCR6IBAJpSDUQ1NNgRqQQnGnNvq0XqtlLzJaJAW4ksYSUvmGQjJAPoO5eKWQh3LSyEQ4lJc2kKBoFOmYFVT6LpIESyt46BB7qLXwg+lQZ1R26L0XWJ6OECLfuMnNi1lp3OVPeUld6z2cL+pm5+16BC61vS+-d96L39qEU+jGJ6FmTyjZQmNcLTWgCTQyeSlrKW8CMOdalcgD2V3wQh2IJ6GEJAAWiiljJ25zLycOt9X1OCHNAQEC51G7CqC1NLVD+7DnUcBVqaMGNuN6oQnx458HjVIfdTqjeDS2yatAiGhgMzGPHIknUj9BrNXRtSUh8WHKfrCtpPXHlhcsPnTbu+zg-8KPbgMgxMCJkWLmSLFZAdVp7NGUc6ZFBeHTPN0winSY3LG68pYuE447n2qgXGpvWD6DtNEYRfC7jyGCCxLdOhrJlLRo2llGMB8W88uVHI2sH5XHU3OuOQIXLc46BAq1Bc2rv92NqCE5V5NamFkto0v9D2dWSASYZT1jSJrpMWvZcpbNwLtwmdC4XdL7pYjNbgTZ8WJFPPGR8y5tiuKvlGaaTDRBLxGY9CZKjMDjhFVUgGQEvGUX6Cxfiit+rXCYpzs8k95dfXiv1fBpBjVT2isDcA4Vy7JBL0hOFqDze4OIsVRHgpzgjMTDkA8PFngQ3EMbKQRlrLncLly0ZGoFHhkPBE-isxwI5W-lwtJRThrpILnYohVEsRMKxvJduTChn63CpTc5TN1sPyQtjSbn0DLjPespDm2LsLZBYjYr562YogrqQjcCJt7zzmRsQ25FZM0auDuirgyds7pO0dgv4d4vpSrbvlTNAj0+FuHSwuSUcd7cVPIu7DLp93-3Ec+44BTgQQe4dkJXlD1OYfv0Ppcw9uU4JeBug9DkaFXv6RonyGNBmXQoLukvdLMIEQas0CzysMaIgABkVer3skz9UCvgDyxMjz8nsZGrWXjo925L3WQsbfe7wH0+0tcGQQBccnvK9pbJ9T+njyWn+9dX8gnsfzK1OssBW95SUfJiAsEYj658Uh7b5Xh9rIR-vtD2H+-cER-SVb87uY-PKeunz-iovy-WDNr36Rfcx-zydeN60O++N+T6MK3ep+zw5+hSg+A0YBGq0s-y1WABz+s+b+H2i+sBB+p8yBMSKKqBO+AGusoBAUiOfwkBf0nuHkWQRIR88BZBI+4IwmE+JyEezwRea8W+NeieL+c+H2IcbqLwRI3+T6LBamfwPYhBkexB0OIcUhk+EWCe4htQ2qHszcChbBVBykusmhOBm0GMbook0EGOFAWOfu5S+OLGoKFO1KxhokIeVOUgNOyKyS9OD4UurQzON8fqtq+BySbulhXOSKPOHhyugB2asugMAWCuYKFShueKcoBKo+q64+1WvOB2FyWMuGgka+hGaya+tyrKvOk2WanKUR4ugWXKfm82zcWMtmkgquiRQuh2+4puWQp23MRhIkVu56V2tuN2-iDukoCe3RzIgR9SUBoo5+YxNA32hS+hT6sxweD4Agyx4ev6OEMh7Ius6xse4G8eAOVUfwtw7BooxUIYIhYCm0oYHIckoAJ+T+ykFxoYA81+TuBhkyro4aCEpu9KE66EzgCkBOoK2RagNKBG-xsk-Ap6m8pGZg5G+mAuhmLRDwtx7QsQou0RRcDRdYWuTEOuuYbmiOGMMqzIaQ6mfxRqDKGJQJGG7MXUOR+Gvc+RNJsEH88J7CN8uJBmakqJrQFRvKWMGEJxnI4RDw+JTmZkFktIxJiO3xGo9RUxs6feCp329RCBsoZJSIipXUU+0Bfe2paQ6pepmpVoEUHJXUxSdxMJGxf6PCshqcFp+x9WohGqwajQBASIDAlJCWUJyWyGqWVhlG8gfA+Wzgnp3pHAYZJWThkgLhKhx6S85KUg3qQU8C9AbWWqHWuqEaCEMZdA5hGu0uuYnOqW4RvJv0MpGkBZ+6NmO20ukp221ZRJe2QqLRJuCWHRZ2RiXpRgDAvRGq12yqd2UoCevZ3pSZAiypsUNBE5-Z32tZixGq85PptZzEkZ-ZsJt8fREOZx9Au+G5RgfZPpcObpsoGMUC38LWWUx2nO-pxZdYVRi2mWz4LAhimy9pj2GIbC5GLeC6IGl0jS0GIGvpmOiWkmOOKGTgyGLEwyP5XJj8-5X2kcGMQOph5hAZH5uOS2dJ8Fv5r8-5PuQFrQgmkyQeGFEFDKnOL56G+FiFze04Z09hJFeYSOHAyxlF-pnOcFkMTICFf5TFL0taS4as7FCpYFZhVFAJ9xvF8c-FBF3J-5Rpol3IZFoEKlklmFtJcltIOsAlhFQl1UkE0EfkqFkyxl4kplsECy-pOlWE9FglGYS+oU4UsE0E2krFgQ6lnUrlyUqUDktl1JMlMQeFfF8qTlFYm5DAXlK4Hpx5UZXFwVFhKWMFdFfFnZ4FJ4JAEqSM4OClCqAxI5NciO1MOQO0nA2KACyG95wV9J8gmETJeR-pIYZAwxdIoKL5TVqRsMyVLwL57VfWjIvIWZ0ankfkXqVqMFFg-xnkqWg1MUfZcESEAChmECN8n815q2CCj53IcGu1tIl50CsCuq2czaJZvWH8F8V8251udA5G8aF1o2Um0l8kj1T124tFb5H54c710uSuHeF5ky-y28GIEx66Su+5q8JerS46iuPh55VoUCt8YZrh5Spe28l8u8K6RkVA-Ehe4Ijs11u8cmbFHMbAeNGoeoR8VgpN44UqKNlAaNlI51GkusxNjQcaLa1VKVqifJI2FyKw+wBysgZgY0rIAGHNpcTyuYz+PAEiJAbofUyNcEotBcdN0u0Y5NlNPNB1T5a8GMINt8YNQtItqIBcf1H1Vte1CNlt1trYsaGtvWSY2t-EzEBtkyk8ytwtqt5tledt9tuYSuAdgdgQsaMtpIxQiNJsdu-iGNt8WNjQWOl6yNJgTNJq8dO8SdetOyPhvNguOdgQZVFV25zc2KvNydEdF19sPhVdbE0dEyoEs1hR46gZaVfWCdV89V0lM1kyKwF4dQY14sS13QruLdCQhm90s1C6Wg-MJda+9CPVxSPay449zo4s09k8yoRS81QgAgNQ8RUgm9N829t1u53AbAKMDEQyuYx6sdsgmdidRgydSJK8-xgN5pWG8U-xl609igYUNc2CeGhR-mrJJSa9HcX51RU8tRaxwDPVYDK6TKy9j6Gq9cIDsD-pEDlmDGvmMDcuhcEJLJWDS93eOD94r9zwxoqwHxUGfdbAA9s13djVWZGlCDrVg1FyXVrDnUTKnkA1k1lKI14lDU4sw0FAee4OF9V9RkuoVgaw4jeeB9EKXu5+s464i4yU32kRDUWQ6j84G4ASuJw0hRosows58U5+mE32LEqSfeA1OFbouJu6s9ZA89CDlBnGyRFiHSViXSd9+SfUCQSDlc+e-i4cKZcwS9ZjFwMNXucN7FeR3eXNodDwpjcSLMTyTR+2-JkgoqCTWQDAmg1A+aWInsCsjKdC4ReuSkK8S+TKOarjFVOQ60jR0o4BbOtQSTpCLRrGuSagicQTZgITJKZjFZVSPj5T1iYS70rRvgBTbiSMC9TtxYQBgG0OYSqq7TGqV5MC40moTOoKLO4JNRBDMR4RLhjsSukTR0yk1DrTKQ2T7ZY4kCx1N5I6vCPAGcwgddMUuzP8Go1TUomwT6hMO0ruJ0Nz4CX9BzuYgphcVREjlVLp+6VIMj26dYfzbzgLWT6K5Ch4U4zl-9b0JE0YxLW4rYE4nY-5W9WgZ96ZaL9419szaLKJreyL8t59jLE0sjagaL-2JEVLZYQl29c940zJJcsVpFjT5Mbj4ra+90QrhLwYRDkrszfhErjQirj01LQltLO9OZG8UrbFyjfJ7LHAprOaeaE0N6Sj7dB9gigrOrwrRLOIxr3lb52rJ0-581szSLFrMF2roqcMriOViMwUKMjI6MwVg174BM20u0JMFyboZAae-xHGgQGMs1Wo5+TA32HR+bF0KTDwH25+aQMVsQx6sQjMnKTAoAAApKADWyHa0OfioNo0wNW7Wy3jW8W6217vGFkEDozMumOE9okl7n8FkO2z2qygWz2kfgIAAAwRMtuBA+4THUKpvB5vC-Vjh7qfbzGTs0xL4xWztdSeR5vntK3zt7t4kgaXsmk3sjt3u5gHsFtIOHuvvcizGbtDuFYvt9sPBZAptp7LBGO6DoNL2gOgeD1JYLrfYYBLsABsgwUHyDMH27LVI7sQAALCu5BzC7Bz-boKq5BJh2m31Qh0kEAA","body":"function make_new_machine() {\n    const pc = make_register(\"pc\");\n    const flag = make_register(\"flag\");\n    const stack = make_stack();\n    let the_instruction_sequence = null;\n    let the_ops = list(list(\"initialize_stack\", () => stack(\"initialize\")));\n    let register_table = list(list(\"pc\", pc), list(\"flag\", flag));\n    function allocate_register(name) {\n        if (is_undefined(assoc(name, register_table))) {\n            register_table = pair(list(name, make_register(name)),\n                                  register_table);\n        } else {\n            error(name, \"multiply defined register\");\n        }\n        return \"register allocated\";\n    }\n    function lookup_register(name) {\n        const val = assoc(name, register_table);\n        return is_undefined(val)\n               ? error(name, \"unknown register\")\n               : head(tail(val));\n    }\n    function execute() {\n        const insts = get_contents(pc);\n        if (is_null(insts)) {\n            return \"done\";\n        } else {\n            inst_execution_fun(head(insts))();\n            return execute();\n        }\n    }\n    function dispatch(message) {\n        function start() {\n            set_contents(pc, the_instruction_sequence);\n            return execute();\n        }\n        return message === \"start\"\n               ? start()\n               : message === \"install_instruction_sequence\"\n               ? seq => { the_instruction_sequence = seq; }\n               : message === \"allocate_register\"\n               ? allocate_register\n               : message === \"get_register\"\n               ? lookup_register\n               : message === \"install_operations\"\n               ? ops => { the_ops = append(the_ops, ops); }\n               : message === \"stack\"\n               ? stack\n               : message === \"operations\"\n               ? the_ops\n               : error(message, \"unknown request -- machine\");\n    }\n    return dispatch;\n} "},"captionHref":"/sicpjs/5.2.1#fig-5.13","captionName":"Figure 5.13 ","captionBody":[{"body":"\n\t    The\n\t    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_new_machine"},{"body":"\n\t    function implements the basic machine model.\n\t  ","tag":"#text"}]},{"tag":"TEXT","id":"#p6","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flag"},{"body":" register is used to control branching\n    in the simulated machine.\n    Our ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"test"},{"body":"\n    instructions set the contents of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flag"},{"body":" to the result of the test (true or false).\n    Our ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"branch"},{"body":"\n    instructions decide whether or not to branch by examining the contents of\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"flag"},{"body":".\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p7","child":[{"body":"\n    The ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" register determines the sequencing of\n    instructions as the machine runs.  This sequencing is implemented by the\n    internal\n    function","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute"},{"body":".\n    In the simulation model, each machine instruction is a data structure\n    that includes a\n    function\n    of no arguments, called the \n    ","tag":"#text"},{"tag":"EM","child":[{"body":"instruction execution function","tag":"#text"}]},{"body":",\n    such that calling this\n    function\n    simulates executing the instruction.  As the simulation runs,\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" points to the place in the instruction\n    sequence beginning with the next instruction to be executed.  \n    The function ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute"},{"body":"\n    gets that instruction, executes it by calling the instruction execution\n    function,\n    and repeats this cycle until there are no more instructions to execute\n    (i.e., until ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" points to the end of the\n    instruction sequence).\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p8","child":[{"body":"\n    As part of its operation, each instruction execution\n    function\n    modifies\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" to indicate the next instruction to be\n    executed.\n    \n\tThe instructions\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"branch"},{"body":"\n\tand\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"go_to"},{"body":"\n    change ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" to point to the new destination.\n    All other instructions simply advance ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":",\n    making it point to the next instruction in the sequence.  Observe that\n    each call to ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute"},{"body":" calls\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute"},{"body":" again, but this does not produce an\n    infinite loop because running the instruction execution\n    function\n    changes the contents of ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":".\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p9","child":[{"body":"\n\tThe function\n\t","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"make_new_machine"},{"body":"\n    returns a\n    dispatchfunction\n    that implements message-passing access to the internal state.  Notice that\n    starting the machine is accomplished by setting\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"pc"},{"body":" to the beginning of the instruction sequence\n    and calling ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"execute"},{"body":".\n  ","tag":"#text"}]},{"tag":"TEXT","id":"#p10","child":[{"body":"\n    For convenience, we provide an alternate\n    \n    interface to a machine's\n    ","tag":"#text"},{"tag":"JAVASCRIPTINLINE","body":"start"},{"body":" operation, as well as\n    functions\n    to set and examine register contents, as specified at the beginning of\n    section ","tag":"#text"},{"tag":"REF","body":"5.2","href":"/sicpjs/5.2"},{"body":":\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":7,"eval":true,"prependLength":464,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0AcwFMKB9AJyYaoGcKn2ACgC2AQzIALKiSYAaUJwasSo4UwCUoAN65QehSyLt6YydKaCARMzaLe-dpfWDFy1RoDcuAL75i5ajpQCgBPAAcLaT52IkpaEk0tAwojegkmUQATQSiKGLi6dQ9QX0JSAvoAGxoaAGsiMNYw9iphQR4Q4QAjGkr5Ggj2UUCSHkTdfTI6PlAAN1FK0ABeUFEeHhoyds6evtABgWH4sa99ZNTQXlZSTKYCc2z5yvUJs7eAflABdhohDu7evJLKRaiQaAB3egHIYjUAAWjhq3WTG6lSYTleb30AC5QOksoIKKIqJVBE91EUfH5yrDqnUGqxKqIukxSUyWZUePJ2ay3GpxmcpqMKHMFsskRstjzKny5KBpSdMZwUsZLjxriRbvcZI8Fi8sR8vuwfkJpbKgTc7g95czWfDEWseCiumiMQazriiSSyXqvKV-BVQGJakwmi1hFRqLNQ0wAB6NO6CONheSmKQybm2zkC-RUAigHLqoV8UQkNjJpPxinaTGC6Yisji4tEsusZOsJ5ECzJynu5UXQSaJYAPlAZFO+m8X05TEu+cLjKzbfjlbC1Z07ubl2FPHFdPqjWlggVmY5y8PWdXFInWP7qsHy1HuR4N5K06dc4LVzsfAE56vOZYlu7DijYHBcPYAgiOI6Zyj+DjnuBDAAa+Zx3vQD4jowLCsEK-BljwLhFKAmJTqyH4bga3y-KuFokKCEL0MmnDrPEwThLOCISs6rq9pOVJlAEbHBqG0JHHQiGJsmqYweYp7kf0gziaMgFjvW+xhHuNQHmGrSCGJIyIQMV6KYcIyKnWwqrP4u4rGIYRJo+QaiCGukRlGMbxm2BBJjJZgZjaHJjLItbumFBnxEZSmaoRPZ8Xo6EFkOo6iGEYSVCErDSBqtzsBl0hKAAVqI8w8GQLRhBQgihWFWIDDJDn5lhPnqPIog2deAkBrCjpUAwJAuBBv7sOaoAbEYZAaDWaGGKqlT2FYvX9ZY8jwX+KhqPI43sJNlK+N1bFLSQSGyoIR1ZcK+QjKpiX4tkXqkuduRXfEnX7TSh2sf1HYLF2-5PZdsTXdoJEzSqaQZPdxKkg9Z1fcdz1A69b3UkJQQiaw52JrkfmwfJnKmTCxzyGEZCqVuRLsDYoE4WtQhpnJEp9cdrgbZEwqdZZMydp5mkrOdPP-rk8VqVZgv+MsNVqqwEUSRWgs9lLnwY7Lx3tomCvxrjjMnhpZnHPqBq4hjzStJGVDRpJPmaymzn+XKCoi4lmGjpRtX6E6bB4UwBGEqIVMsPI4ukIOIvu1k8zkKGpOCKTxFS5Ofqo4GEelpNTRbHH00ezh3u+6T8iw2BecUIRcfXiR-ofejLmhvwfDeTkwrawFuuq1yoAEEyDAk2T2d6FuQqZObQQrPXXt0MPIxN3wIt5l+6qq-+Q8jwkqlcw2k+r6wEt2bXMtKYZ6s+Qn7tnwPW8jC3cqn+f7tt4fBuofozvJf3d96J7uF0PhpeCF3oge6iynpFfwodn7n1TlHDOscybFFvmcbwr4yIznfmcaiQgcagEsF0LIwQmAzERoGLijoeLohFr4KuaN6Dj0ECvYGSRErzT4FYceK1gGr2IlQwM49v6alXoSAhbAiEMKVLNCGBJYa8JEcjeB3DYQYy6EMcgEhG5YIZq3LMHcAFAKzm7UWMxbgzBWEotOqijFVWFq+eeC4zQVgseuKWW5nxaXpBeDkx4tH40QkeBxYcX7iKSk5fRH8bHFx-j7P+OjHEf3dF-EuZcyDyGfP48+KCKIIPDpkSO6cY5xwgWfXwH8kGkXfLOEJ+gMEzwoECXBmRQCmJUduaISMggkORKichyCurV3oI0yQniOSJHOHNBaODlGSHYdKLhydYT9PMUIwQ8yLotIqDdQJd0-bemWTIwo8d5FsSuESBgzBMiMgWlMYQYQ6CRMLukVgxz1ng2lmEYkQhLnXJkGWTQAAyH5eJIZ0JoFcm53zlhLDHvc45SdBKBkUIINmwymFjMUOwxFxQDlBG-ENBCFYewg0SkcwBpzzksOktg1FMzYWwjpoheF+LGEbMBbDOKGLZlsWbKWKqPMkWBOYVVSwnKyzsJ5Wy6lhyiz1i5f+BlYjnlEpOUwM5-LaLYKFRQJwMKDpBHVYhHmV4CVMskdDFCJR2VBCPIiw1zyVWWGlGi9wVLtX0CuHYlcDKRkuvVMcklKryV2qzJqs14qLVLnbEeD1t1mUmtZcG51GkEWOutRcW1AwHX8jFfGq4S88VVnfoS9UryqBCHxX86WPqlWkqqpsnsQI017XNVCR+csvLGQGOeXlzzNmw02e2uKTrel6yJi2xoYkYr6QTHmxlzzYZ9qrJmwdGMGA0AeSu7Gzc7Z40CgpUAejMRbgsaBFdFAV0WOqXPecrqw0rj8WgyY6kXErH3AyI8us3XuNZIIPxBTX5OXiRE-OSTmmlwoWUz8C5aX2KETEg0wEuA01sDiqCGi4JIZGu2eF36pa-qwv+sskTEnyHCfh32ihOaTjAxUvQVSsE4Lwcu1dwGXptIdB0l0XTSI9OoYwY9NBBmsk7SmsZDGT1TKzAO7jInT2LKkysvIrSEggzlRcbtJrZO7LXnIxtu7jIljILUJ5Fw9O1CsNcsImqqTxrCEQHgEh2hEn00HX6U19GJWM6ZmzEgnA+kqF2BtIaTD7x4CVGMPl1GyQCsZ3u5N1KKAQ0hSC9MItymM3Jk6bNz1O0CS7O9YVrO2fs+IWoRHc4Ab-mR1J7ooG5MznA2+JT3rcYxixE9nA1EbpQ1tBzxXd1930XBhg8W6bQXtl1oraXWbuEy6+HDrtMmf1KyR8rXASa6e6+RyB2S07R1q-Hd2DXtPBejINBggnRksMsEd9Eq0uASbhUI34FgyPJvOwKlrj32FkYXdx1LuR0tTd+4DNZ+ajVQ29ID1Z11-PxpNgIAgvxhDtb4NffGHd27RfflucQsIViDHh+wRH2P4jnusZexeza1YriJ3s3LBiRTU+OrvZyrkc1eUTAzlH83Ync70A-fW0xKuzaUzz1YFQd4hz2zz6rO3YGS7ScgyjUsaMbro-UvHCOmMKftNxTpFnEFccDOrgnZ1gfTqExdo3wh2EM7u7CS3mMKixzhwjuTzHFOudB1s0k9uNMowC8zzyTAyBEEMs66pqOUegxF+fAundu5jccxpMYIOZ0cXPeClYlgjqWFvsrfeWMwsdeSxHpP0Xb6ejT8LDP2C2G54Dw8oRSOambp1l40vcfAFl-dhXiI6eIWZ-mTn92efXLLPXcjlvmigryB0V32qPf2az2r9YXjQ-aoj9DLJ8fzfOvboJr1w2YUF994hdgq7a+wob9YFdpvkeosH-L+xXvVf+8Uoe5wC-7or-vba9vu-3W58j8n9F8KAhxT9LB8tVExB2AQwRoT1r9utP8DQr9IDWBoDYDV0EDxtExd97845H9Qhn8OZl9OBox2A2BUt4D0CBAkCsRv8mAyCKDutMDqD0MfJcCACH9u9gCT9M9LdaDDRYd2B8dEc-9J8HY28BgO58DuDlcJ9gR6IwRIRNceEOJtdSFddodF195chqk+E8heg0QRpfcU8Lgi1MFhR9CfhKgjDXcFN5ASAiAbCG0s1LC8JrDbCNN08Pcu1AUrFLNB0-s4wg8Q9QEQ4q8fCLhYZ-DGtAwv4gjYwQjQ9wiN1-BVIv5ojUjSAtDuMGhMhhhQxnxqkO5dYUMYsrJSYhs0MRst0ICyA9d70rIdEqjuBhoajGZLAdEGiL4rJjNxQUMrBjNui6ck9+jksrB25hjEp8c2wYJqk-0cIEikiwiBouduccY1jYkMZgjg9kjqFqpo9Yk-t3DDC-wvDhYQpDiP5Sji9etLirjz5Z8xpOCpCKR7iecUktVtDXI7Eyx2AQh+MZQ2ZkkdxDNVRzDATRpPiDdYQ4w8hsdFwgogU-jTj2AbtJoLYXNlNVQrhHCbDkSDCbCBBD8v8DAMTjs8S9hKSSSjYvhYx4TKBETyIDjYlYYTiiT2BWpNjijUc34qMz4twZB6S2w0Q1AyxxRNl2SjDKt3YC0ECWgSBkIhTyxRTIkaTDjPhOBySQCuRNiRcISMZfi8gATlSRSURbk9SHj1jQT3irS75HZ1To9cQtSmBMTY43loJXJdDTTWRzTvlbS7Sz4UkAzAy3hHYCkwpvAciU42M0QCSPCBBr4wSmJ6ShhGSFR4zUSQzo8eS99k8sJ+Sri8iCi5NCJnwS8yiIzDjCUdwqzYkoyvimsgtusHx9E0QRQ+iVhKTXx2zO4hg1BxRuzMQrNPM0D-ZYDWypYCB+zZxccPT79pzHUf1AlLBMgblLBukzgrN21WDJy4lusJTAVFyM0pyZzxRYZjzPBsMVy1yZANzOMtzB1IDBBYxhkpZOzd0PTYwE8DN4E+wbz1zNz9BtyHJ15cwydlAnDSRjMYNaoqlLAURKoQhniittczNhjEFFcBT1IT0+YAUCQYK6yUL9NzyTVCKEFEpcKCkil+JHzuNpBzYFgqAAAvCwMCz+A8rsqC5c55VcwCh84CwdYeHgV5CgAZNQdYQBLE-855CS4LZgZfSAgQ0kyArnY2AheS2c8A9CrnT4MzQcNSoMDSqSxS0c1g5S5A3dMy8cqCR090dSyShS1-CAncmyxwXSnTRoXcuy2kuSky5yhi6gJi1iiyug7cRi+aVigyj+XEKpPy5gOiBiZQzgAARy7BmC4iGIoWxPoGEtEskEbMDBNmspgL-HgNSxwNuLwL6xyqCQLMtNQN3PIpF2lxgXyU2IOxh33lIIECYPGyoLcsbg4KKwx0iPvD5IatctKr+HWyIoNFaryTgSj2KUKrtxKowPKpbLOyqDGUasGs2qKyDViJpQYN6qwP0xYLctbM9XlBRVOvIPOtqEuumqOu0zMzHOmsK302TOIpMxcq8rcos2OrYj2s+pgtMNVHcwgPWpoOjIUW6uqKtTbJYFFl-lsmwQACpSAjolUMb7y6LAw8rhhxLjLmB2Kbr4qtLM8bBQrDQElDLKbl9PZaazhPgeZglUaCNxQeY2UYqjQTQRBSa5QFCkr6BUr0qRQuJms0NhiaKEpAkiaxKJBVq2Jn0HIQwQhC5mQ0RyiZgtTfh6l+Z1hNhBANatbvQiR2MNsbqrhLRtQlVBoph2BMgfK9BPg7aHgCCTV9bnaXDB1HQTazaySDbk8xqvVIL8SfbMgxg68PadRH8mA0qFhTamBNb8LshNko6xgKQ69M6g8Q7XbQBcQA6tgg7YYs6-d41iM0aTtEsfrhtrAWAgb-c8Ma66YnNfNpKAlnkG7mbnBRUYThJ94ZBwQxz7Y9zGiZhKi95XIG7SZhitxmiZ7QwG6uiRYtwPyMZ3MRZeyKB7kNNr9E6uwo5BzuLMRd77kpC9wFpbVAqqBgrQwhj5Acsoa76H6nBrbezaVLa0Rr6WFbV57otuQxkuiZ9u5rb40FhqgyASzhskapYbFbbNQrQdQ4ZJRE1NoDBWiEIf6NBYKwpv7tbZzPzi1jwFpgT684HHUuTQyDRCGrbqKsL3YqkKHLBhAnDqB0pkKtRrQ6YMLaK6GVy6ZVgbDNgCjMh8aBG9B401aEs2j4HNx1InhxQS6MHUNsGyqiHBdAkkGeHUHyQPKWH3BEqlCxaZbC6PR06vcfNra5bO5B0diQ82LadnEdx4sElZcClEH1RKTij8GZKLg+K7zGHyJykEEljdiVjBBNkUlnAZTu6LhHH+BBxqKBLpGhLeB8q7NKbyb40SxyCJ7apW6CNYE7lCigdDInQ0qfZdoiLEokm2LUmAnVRGbnL8mNUPL2noq74HLNLl9cgoG7Cxcqnj7JoWb9BPgqmOa97ynIdIoRmaniGqneaemjLHKqbsEoGxH+A5GHBxm3aRHoHYG0MGahbl8wI+GPLZG6ZTn1n+nhRBnJiPKr6CzghL6wh0bUoIhNRCR3m0cPmZk+bWnwChjOnutbm+nnKnmP5PgZmD4eBDK4qhaTHGIDBqmMrEQUNZbarFaCrB6a5XIBjaU2Z-mO4pTiTMd1IUMxjXIR6x7YIUnhzfhZiBliX3AnIucBis9RGYGdm+HnA2X+R5BMlBWCERYuWBmbCD5+dRhvNXjXwJWHmpWD6Fmo43Rao0GyFMyOSkystZLksVaggumyiIbAtx7LtKYNU-bJNaY0N9CSnd9RWfrq6SmLnqjHW7XEVrW4jbWNGRoPGPW-XRoeV35infY3W-X2iAonWO6-MZsALgmBItwGAyAzlqWlhMQMYBipZbVRB2EcF82rXszbr-67qrdn7RB5Aug35RBQAABSBpGhs+W1JYdhM6Ktmt6vatptrEFVU+SwXhLoFaBBWhFVYySwVt1qLBqwIdqd9VQQAABgpB7bCnmUBKsBTbOVvPIRXaq3hlYSmQWnHc4CtynfhSzycBu2QgLeXeLbOCOkWk+y4BnY-rvf0AfYLavYPbeIQSk3XYHcb1nd3beGsFTdYG3Y-q8C-lpQ8c3fpY6LzfkAwAXYADZKRoO7XYOwPd9P3QAAAWJdqDy1wQODys3ACNxLe18N7D24i9ooIAA","body":"function start(machine) {\n    return machine(\"start\");\n}\nfunction get_register_contents(machine, register_name) {\n    return get_contents(get_register(machine, register_name));\n}\nfunction set_register_contents(machine, register_name, value) {\n    set_contents(get_register(machine, register_name), value);\n    return \"done\";\n} "},{"body":"\n\n    These\n    functions\n    (and many\n    functions\n    in sections ","tag":"#text"},{"tag":"REF","body":"5.2.2","href":"/sicpjs/5.2.2"},{"body":" and ","tag":"#text"},{"tag":"REF","body":"5.2.3","href":"/sicpjs/5.2.3"},{"body":")\n    use the following to look up the register with a given name in a given\n    machine:\n    ","tag":"#text"},{"tag":"SNIPPET","latex":false,"id":8,"eval":true,"prependLength":471,"program":"chap=4&prgrm=PTAEGUEkGEAVQFLlAVgHQCY0EYBQuAzAVwDsBjAFwEsB7E0CgTwAcBTACipIGcKAnIpVokAlKADeoPqwpE+9ABasAhgBNOPfoOp0RAblABffMXI76AGxo0A1kWYB9ZnyoBbdt0auARjQsAaUBo2PmVzbjFxXFAY0DI6XlAAN2ULUABeUGVubhoyDy9fAKCQsOEIvWjY6Vl5UCpuB1JVVgIuVnUUixEq2L6YgH5QVj4+Gj4Cnz9AgCJSGxIaAHd6YJGyulAAWi2snNYfC1YZnv6zgC5QJTV2CmUqC3YukX1cY0JSIU2rW3sHC2U3lYjwBQIs3ECoOBDhIylcrEivTiCQoyVSGT2uXyUIsMLhrEhgOBFSRNTk9AaTRILTaJA6T1SpzOfSGIzGExxePhs2arXaqlAOO2u2y3AO3iOJyRzMudweDO6lXepi+9FcyhsrCcLlcVGoSS1rAAHo5WuxjcxAuqyAp2oSwREJEiqARQJxGvFNMoSBQHBbzSaXk7mcjNHEMZ7eN7fRaHF0iBwLa8Q2S6uwxOkAHxxSp9QzDcGsequ93-Im4-1JxEhyOori8bgYn52Rw49g4iGC8t+k1lsEB5gvXPM1P0dMZbP1ijcYcxfPEosut2U6QAcwaFBGPeYA6DURrKKkGNXMgca43I3Y1ttdMC594W9ja93yZHMnJboz2ZPvs9m593DsHw+igEi86FsGzJsuMA48iQCzLPQFrSDkwgMCwRY7Ji4qSq+c5vCYnzmKA6qag4ayhOY25+gQsEkcoNp2l2DqBBRGw8NWsS1iUTbWC22puOwbFUbGwS7qxpThHhoaJMopiNpk6o7kWWb0WRzhuHqVAGtRZoEvRjG3sxxIiP40ohhZwnCNRbHUoBVazlI75pl+WTMMwFiMA4XBUi0fCeVwq4OAAVsoKTcGQLjMBQ7DmRZZzBFayg7q6qm0aZWTyUOBEfGYaGilQq4kEBrDrg+fBcvpuRyGQCKQTEo6Chu7AzAVRUzHepUXhVsLcqA1V8LVrzGCqxFtSQZ6lZV7Djd5mgCKqnENc5igqOocqPLNU4LeY2UjUR+WoUVcapAm24zUdE3bdowiRKBfSNdc633I8G0XdwhVXfNN26HthF5ZspFarNZpTklhn6R2EnrOEgTMGQS0yaidx8D+x6nvem4TNeTGzWu01TtlfTcfGhomhis2k+dhOOSTp1aqYGRxfUjRWXQ51U0mzNDED5GSdZsZmpzJrgzekPlp2bMcczly8xpur6mTpq0cLloGWL9omY5jXjqp+7xX0Yq-nQ-7TrcyiozIgRU6Y6bSQbagpOQWrw+w8MgczsSGEq-2qlkqhO7VTj5O79X9aef6sABbtkIEb0-g4kfR+7Q6gcqB2AxqWqbrwNEaLwotMVDJQw+UgQEACq5wwjYfcZ6qhaZsmQ58b1KN8VNPOiWlJS+d9ft3uzN13QDdUYzilZ3zpfs4LtGewbC8xP35iF0Z8+LwbxdSySKYrZ+E5hxv4et6bgEV8oVehqP1m20TR+xI73pB677sGOveaOeBYqH7E0ETGDoAZjeDUAwVgiRrp+ywqKHCxxpLGHTgDegLd2DL1uhIJytRLDNRmC3DqV8B4GAQX7FuicR7t1uGA30EDdph0emtc28oSHUNuh7IhxFebeFCOQBQecAE4yMsXc+l9Q76yXoeFoiRMicKfjwiRMVO59CXKWTk-o5GDwPGGKcClBR8T+G2YuKjextjUfbaoe9dbZlEffJRCck5myEeo++ZwjakJ9FHM28NAhaNMYvL+RYrFOJiI-Z2wcY4+IXsYI+3swIFm-gE3+owYIAKASA6R3D6jfUgSKfYhxYGfxyqNNCaSbTtnLHdRqFhsHFIUHgnEIE2FFK4TaBwcj2DVLmrwHaaCrF0JuG9dpzDfpvwaZsSkdxVwnlUP8Zq8RXDMDoO4uOSgHDjMRo1SkzB7gTFmfMukPoxAADIDlXHoTshZ+yMjpGbss8ZPtcp+2fL1OqkgKnYLXHgp59TfbERXF1cq50kzoPWY0cZkzpm8DojMd5Xz7nEUxo+Xsz5AUvL3k9BhjwHJGG+WhWs0YFQJnKXvSpEKZi4p9Hg0mMLCmjI9CiaMALAy0L3mMi+YLiUxQtLMMlFATh3OpfQbl1FSa7iBai+hb1MUjMsOWdgnzRWYKaiSnEHz8RUozhSRohjlKMpRQqllEyOjgo5SLQByq1WIOMhWIxMrkUYI-GiiVgZzV+zEnK3VH52UtWCCq+Ezqfms35jPE0IqenMsaJsqgExAVHJZis1lhrPVoqTLMb1w1sWbF7qJHcwRtyEoVQ6l67A0U5qrH6tCmbey2VUIBEtOq7V1DerWwchD01qknquGgKzO2g00KvcWLFQAiKRNxORx5O0UE7a0hRsQlGUi1ewExP8xGaM0No5seiZUGO7LGYxlC75nB1q5FxdjAKeIyQ2OBsTFzd0aPCiqqi92I2JoeNc6NfR3qvAxDWTkypY2os+ExjkHrmKPRHE27jT2x1ALY8D0c1z7qMFepdwxEn-17YA4BAoO1dvPVoLJ2Fcm8rAgU9V0Hx00FKWCPNHrsHYYnbUspLbYVoTo5Oyh7BWMdLwzQyQpIxV9MLZxwZohWGtsHWJKMZAbBrL3pJmwLV5nMCI-tC1zAiDcAUB4O4Unrb0xkwquTCn1M1JEPihEfLSO824GFQ0tE+FfqYnJ6uiNuKvsyAnD9-CqraZsFxyaQUnn5woAhw9B94kWTUxprTDEbCBBg24uDpUEMOwDk-F2IcEZAbONElTfteYoQndIXh6GvOBCc4OmuVjXOlTff57qn6IZlZ835-GgXCbSVC3rd+sRj2wbNmuOGEmfPJfisE5+GWPYGxy2J6zBoSqrmo3UT1MxZvHE6gtpj-KnK8HGBweD8qaMkoK7tvB8HNukbky1qagXLvCf0-a8VhbbuZN2mm5jmd1IjAIOMVwxWC7qyLhLaGlEy4VZc4eBixFMghG+3wX7kPhBBekrOgN08Jr+gR79ZD3FMcTXHmpLUFblYzVVH2sygSKcLy3oGjiWXloKoseg7rZxccOFvm-CnY30thI5xvaJeYkPhZQ+yILsxMODq+z93DXTNhQJyRKPJxGpUS74LD9wuPFtYJJTDn7eCNfndU5LuHDhcduyN79u7TL82PflDr43d23tbd5saVgZAiBj3VaLy1nZSv3UpwvM9QimsxYko6UNCqmBsCR5czIrVLozHXjzSeIM7MlYcwIoHJROzu3XrKDC0ermx9wYngnKzKF-YoGT73ofy6V2c7n9CUfCYx4w00mpJeOFt4r1XwRdewcN8jxwZvhfAGsYTwbJPZFOM9v+774uOeDZ56b5oDMVzAGrfH-FSfWpVvd4B0ZcrC-4pL6HyvlvULKEnY75PY7RWZ+V-395kP-fF+N9P7wVfsfIs8PVHwTUFUJ0HA5NN8LJt8nBjMHBf9-8u0gDmszRfdD8EYB989h818L8DQ+BfRLtACoCRgQCQwwDpAMCsDmscCLZoD4D08n8dMX9j838C80C7dXB8DmQwCmC9859M9ghs8kDX8-4vc5h4JFgVhpcfokEMJhQCMFdlMxNeYpwgtXF+A-AjgKpLdw8PwI00Nc4-wxgLAVCuMZcSBAgSAiA9C00tspxFDdD9DhNo91C6g0VO5csflNAexXd3cb5SA7C+MI9C0nD3t6AXFLCXc3cPcO50NTBEYXE3oAFIiLMLV7BVAwgtQtEgtOxi4vNwcwx4ZatPMqDZh4YiNn0wwhFci-ksYGtv0ZghEiiuJDw5MMQvMWpgDpJuJuDGiqCvUaduBaj6cPxYc-Qv0gsD4gjXCQiPD2ZbZmdAkwZpinFncjR3CwjVRYp-cj5LCdDlCtxbDCZyc1jF4Mj8iKs9j9iDYg9+ofNQ8XgTinFvF4i8tJ4VEfQ+BGBKNoQnkvFV17s6hNC3jcQPjcMSRldjR+BIc+xiQUETZrCRhOpaptJnkfCPxKQTC9DITnitjgIS9pA4S5sUTig8SmQLJLgQTQhKBwTwRVj743pNi9CRhTI5jlxV1NZwRXIhcDZuI6QjQYwjh4QfQMQ0UaSVDwkDZgVYCXASBVxZUQS-QeT3FCT9ihhsTWB4S0ibjTiQxfjeYnj+BXjOTuSDhFkGT1TrEvi1TjT4oOwXgjSQxLglSVTNTJ55C9SZSDT9kzTzSQxvF3SPTvdhSQxDBHdSNoFck0SlDaS+A+1vikIuTSTfQOxQzoSIzrTmRVTfSwtkz4pEjkiuNAItFmSfcqC-TKd1lV06cKcAz7j2FJ5DNEYjhUQGjMg8THI6zQACBQh4QMQmykQttv9IDyDLwn1Yg2z8QMRfjythzfUyzGoZhVAFkZh8k+geyc1cCJhByYgGyTkbgJzzNmZtyMQ3ptzwlpzZy6R5ziNFzSNv92AjQ7pmYNzfijRg8pNJs3wFUZy5yFyhzLyxI1zixlxGg8Totnzfy+h+CZgDhopGALiYtJDFNej+g-FkNijEgJ1mB+T6E5MizoKpN9ynthsyzgMI9ggyzIkvZuzSMuAtJUgqAAAvDgX8jcrs3eN8k844T8mILbBubgTZCgEpeEHIC+BE5ij8fi6zE8c-b-FgrfQdYzaY2WMBMSlSRg71aYoYRTdMOSkiBSwSiSiAlcqS0AmSjTPsv-AczS0SnSkfGYRTEy--Aygg8TRwFcjSo+eSgS8Sqyyi6gaiui+y1gjJKiypOilyjeYk1DK8bSk8OCBCEQ6QAARwTESCwhaPYvrXoC4p4ptErLQjlj0v7IAM7Uu0oMa2wtizBytw-EZzZPil7OcswoItG1SxCRfkywZOmydxv1YGINgJixgJXLzgQMuPKvsLHFZOtJsrqvwutK51CVfj9yiWys2FqvypgJrIOyW2wWWtMoKp6qk15SxS2yIJGBIN6rIO2vHHdQ2qOy6uOt2t8zOrsrLSWuXPyqAukwqrqEM2speu2pkJ7LyvOswo+sCJ8yM2Mv0sDItXy3KMvDdSRBbJPQxBmAACpSBxoOhkazyLyLUMqwg+LIqhLXyRKCbz8fw-KzghgT1zKSarKjZyb+ghhSYwtQxT4MRSYW1XLhcYILKorAF5hhD6B4rErUQsJobf08C4FES6hcbeKFBFrLBdEdxNRGA45AQjgsjEhsTxgBRMhRQ8h2BlbVbGE1aEQOsw1fI+Q6R1Ata+BVB5T-LeRaQOgB9C0ba7afYts9b8hDanJ4hbaw8paNUYRTDHg3aIgS9Hb+QG9WAErUgDbWAVbNz1A0Uw6Xh7aKak6So-bq107+hLgvb47E63pU7Ia-Z4tT55tuooyf16sZgybzCLswMEt+sYaIy0QLACVgaa7ypmiZATgzNS6qyyI6Qlg+yIYLrh1DwciJ4yIP1rKyB4LuJSiZ6tQ56ajWj6ifMOiyIazmyZAGBllhMgCY6ExnZOyQ697kZll2jMhPVlsvKqAfKd8fM8FGcvqH6n6TgEMWy7040FcmxmpltCjnNIRsEaja8L4ENPa9C8hsyP04bPSb0Lanb1AC6ATf67gFc06kKzFxaACTbRytl2xmoASxb6tPl6SfT+gMGTbwlELqqYh+CASZhXBTDqAPIoKaR+Ru6sZ4K8xmZpy70sgYGyBkjVAsayLsa-Z11HB4HVVsdDwugKYch9b0HW6-71apzzbI6raFRc6HKmH8RoqBaeGJbNKC15RnhJapHiJxjNwJ6NFwFV1asT0edmYUdg7UTvEQKzEWKPzmZ6H35gjFjQjPDipHCvjTMsLGo7H6KSLzyvycaGhMrNMebCazgtsoxMCHGDZetm7IMlkUiXtrIxQEqo4hoGq+i6hYn0x4nhK6g0nz8smeVVLoLsn9GZQtL3KlLY8pxUhcQj7SnT7ap6aWRw44rmaKBD7in2YhnymVJxmObQqunFLz9+nYHNw6typRnYghh1nRHNm71qbunSaMZW6dnBgdFfhZHW7jnVnPKvQ9Cp4QcEgLnQAhgb7LED7CdmBtFko2BqRbhr7fmrilnF43L7m0DgDWm5M7nLK0Dt43mhgpmfnuBNL+C0njHEInIymkrdgvN4LSKqn0rkm8a5aSMobJ4mjf6nlJYQWWbEyNbUQvNt6tQR6x6xZanuzxhBiSkaWRzVJpimjWoRG4HznTN+XfVAhutJWwFpJhW+mnnEXTNuD5XOiZhFWBmZmJo5nnYpQDZ3oYEEyMTIyzaFUvN5a2mYpMiu7hXmm-rSMPN1HXHfdZXq7y6IMOMzm8HKimI3WG6LUXFf6XWjjZXdMO70nj5FDPWnWfXXX1HPlw2CVtY953zTzLXY36t42At5GRrH8WpM3tmJXrtVU7luJVwyApkWX0gkReYmjmZltlA8EgFm2eVKHmQ763kDhX7lBAhvBXJlBQAABSUAft70-oZbdIHtvtgdlvft9ts4T1eeHBcvbwDqd+ZBT1MSGYKdjKZ8FtjKbldgAABjTvHdiGqT+ILcrZaTnOuPfnGhah5VAYhW3ekGYL3dKhaibc-clIPfvYXkfdalOy-f-fPaCUuhajXfWyfa-vA7Iy7SvZXdzjXYA4sjrpvdYq-sqCDedb60AgraraOOA8CAwGPYADZXhcO8Ho3o5COOWmIW3AgAAWU9nDlGGKejzIyoQtv9Vxrj4jn9vQIAA","body":"function get_register(machine, reg_name) {\n    return machine(\"get_register\")(reg_name);\n} "}]}]